(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function mm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var yd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function JT(){if(yv)return Il;yv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Il.Fragment=t,Il.jsx=i,Il.jsxs=i,Il}var vv;function WT(){return vv||(vv=1,yd.exports=JT()),yd.exports}var J=WT(),vd={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function t1(){if(_v)return It;_v=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),O=Symbol.iterator;function q(x){return x===null||typeof x!="object"?null:(x=O&&x[O]||x["@@iterator"],typeof x=="function"?x:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,W={};function it(x,Q,F){this.props=x,this.context=Q,this.refs=W,this.updater=F||G}it.prototype.isReactComponent={},it.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},it.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function gt(){}gt.prototype=it.prototype;function lt(x,Q,F){this.props=x,this.context=Q,this.refs=W,this.updater=F||G}var Tt=lt.prototype=new gt;Tt.constructor=lt,nt(Tt,it.prototype),Tt.isPureReactComponent=!0;var Vt=Array.isArray;function _t(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(x,Q,F){var tt=F.ref;return{$$typeof:s,type:x,key:Q,ref:tt!==void 0?tt:null,props:F}}function M(x,Q){return R(x.type,Q,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function V(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(F){return Q[F]})}var A=/\/+/g;function Yt(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):Q.toString(36)}function Kt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(_t,_t):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function U(x,Q,F,tt,ot){var pt=typeof x;(pt==="undefined"||pt==="boolean")&&(x=null);var mt=!1;if(x===null)mt=!0;else switch(pt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(x.$$typeof){case s:case t:mt=!0;break;case S:return mt=x._init,U(mt(x._payload),Q,F,tt,ot)}}if(mt)return ot=ot(x),mt=tt===""?"."+Yt(x,0):tt,Vt(ot)?(F="",mt!=null&&(F=mt.replace(A,"$&/")+"/"),U(ot,Q,F,"",function(Xe){return Xe})):ot!=null&&(N(ot)&&(ot=M(ot,F+(ot.key==null||x&&x.key===ot.key?"":(""+ot.key).replace(A,"$&/")+"/")+mt)),Q.push(ot)),1;mt=0;var wt=tt===""?".":tt+":";if(Vt(x))for(var zt=0;zt<x.length;zt++)tt=x[zt],pt=wt+Yt(tt,zt),mt+=U(tt,Q,F,pt,ot);else if(zt=q(x),typeof zt=="function")for(x=zt.call(x),zt=0;!(tt=x.next()).done;)tt=tt.value,pt=wt+Yt(tt,zt++),mt+=U(tt,Q,F,pt,ot);else if(pt==="object"){if(typeof x.then=="function")return U(Kt(x),Q,F,tt,ot);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return mt}function et(x,Q,F){if(x==null)return x;var tt=[],ot=0;return U(x,tt,"","",function(pt){return Q.call(F,pt,ot++)}),tt}function $(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(F){(x._status===0||x._status===-1)&&(x._status=1,x._result=F)},function(F){(x._status===0||x._status===-1)&&(x._status=2,x._result=F)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var Rt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ct={map:et,forEach:function(x,Q,F){et(x,function(){Q.apply(this,arguments)},F)},count:function(x){var Q=0;return et(x,function(){Q++}),Q},toArray:function(x){return et(x,function(Q){return Q})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return It.Activity=E,It.Children=Ct,It.Component=it,It.Fragment=i,It.Profiler=l,It.PureComponent=lt,It.StrictMode=a,It.Suspense=v,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,It.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},It.cache=function(x){return function(){return x.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(x,Q,F){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var tt=nt({},x.props),ot=x.key;if(Q!=null)for(pt in Q.key!==void 0&&(ot=""+Q.key),Q)!w.call(Q,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Q.ref===void 0||(tt[pt]=Q[pt]);var pt=arguments.length-2;if(pt===1)tt.children=F;else if(1<pt){for(var mt=Array(pt),wt=0;wt<pt;wt++)mt[wt]=arguments[wt+2];tt.children=mt}return R(x.type,ot,tt)},It.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},It.createElement=function(x,Q,F){var tt,ot={},pt=null;if(Q!=null)for(tt in Q.key!==void 0&&(pt=""+Q.key),Q)w.call(Q,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ot[tt]=Q[tt]);var mt=arguments.length-2;if(mt===1)ot.children=F;else if(1<mt){for(var wt=Array(mt),zt=0;zt<mt;zt++)wt[zt]=arguments[zt+2];ot.children=wt}if(x&&x.defaultProps)for(tt in mt=x.defaultProps,mt)ot[tt]===void 0&&(ot[tt]=mt[tt]);return R(x,pt,ot)},It.createRef=function(){return{current:null}},It.forwardRef=function(x){return{$$typeof:p,render:x}},It.isValidElement=N,It.lazy=function(x){return{$$typeof:S,_payload:{_status:-1,_result:x},_init:$}},It.memo=function(x,Q){return{$$typeof:y,type:x,compare:Q===void 0?null:Q}},It.startTransition=function(x){var Q=C.T,F={};C.T=F;try{var tt=x(),ot=C.S;ot!==null&&ot(F,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(_t,Rt)}catch(pt){Rt(pt)}finally{Q!==null&&F.types!==null&&(Q.types=F.types),C.T=Q}},It.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},It.use=function(x){return C.H.use(x)},It.useActionState=function(x,Q,F){return C.H.useActionState(x,Q,F)},It.useCallback=function(x,Q){return C.H.useCallback(x,Q)},It.useContext=function(x){return C.H.useContext(x)},It.useDebugValue=function(){},It.useDeferredValue=function(x,Q){return C.H.useDeferredValue(x,Q)},It.useEffect=function(x,Q){return C.H.useEffect(x,Q)},It.useEffectEvent=function(x){return C.H.useEffectEvent(x)},It.useId=function(){return C.H.useId()},It.useImperativeHandle=function(x,Q,F){return C.H.useImperativeHandle(x,Q,F)},It.useInsertionEffect=function(x,Q){return C.H.useInsertionEffect(x,Q)},It.useLayoutEffect=function(x,Q){return C.H.useLayoutEffect(x,Q)},It.useMemo=function(x,Q){return C.H.useMemo(x,Q)},It.useOptimistic=function(x,Q){return C.H.useOptimistic(x,Q)},It.useReducer=function(x,Q,F){return C.H.useReducer(x,Q,F)},It.useRef=function(x){return C.H.useRef(x)},It.useState=function(x){return C.H.useState(x)},It.useSyncExternalStore=function(x,Q,F){return C.H.useSyncExternalStore(x,Q,F)},It.useTransition=function(){return C.H.useTransition()},It.version="19.2.0",It}var Ev;function gm(){return Ev||(Ev=1,vd.exports=t1()),vd.exports}var le=gm();const st=mm(le);var _d={exports:{}},xl={},Ed={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function e1(){return bv||(bv=1,(function(s){function t(U,et){var $=U.length;U.push(et);t:for(;0<$;){var Rt=$-1>>>1,Ct=U[Rt];if(0<l(Ct,et))U[Rt]=et,U[$]=Ct,$=Rt;else break t}}function i(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var et=U[0],$=U.pop();if($!==et){U[0]=$;t:for(var Rt=0,Ct=U.length,x=Ct>>>1;Rt<x;){var Q=2*(Rt+1)-1,F=U[Q],tt=Q+1,ot=U[tt];if(0>l(F,$))tt<Ct&&0>l(ot,F)?(U[Rt]=ot,U[tt]=$,Rt=tt):(U[Rt]=F,U[Q]=$,Rt=Q);else if(tt<Ct&&0>l(ot,$))U[Rt]=ot,U[tt]=$,Rt=tt;else break t}}return et}function l(U,et){var $=U.sortIndex-et.sortIndex;return $!==0?$:U.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],y=[],S=1,E=null,O=3,q=!1,G=!1,nt=!1,W=!1,it=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Tt(U){for(var et=i(y);et!==null;){if(et.callback===null)a(y);else if(et.startTime<=U)a(y),et.sortIndex=et.expirationTime,t(v,et);else break;et=i(y)}}function Vt(U){if(nt=!1,Tt(U),!G)if(i(v)!==null)G=!0,_t||(_t=!0,V());else{var et=i(y);et!==null&&Kt(Vt,et.startTime-U)}}var _t=!1,C=-1,w=5,R=-1;function M(){return W?!0:!(s.unstable_now()-R<w)}function N(){if(W=!1,_t){var U=s.unstable_now();R=U;var et=!0;try{t:{G=!1,nt&&(nt=!1,gt(C),C=-1),q=!0;var $=O;try{e:{for(Tt(U),E=i(v);E!==null&&!(E.expirationTime>U&&M());){var Rt=E.callback;if(typeof Rt=="function"){E.callback=null,O=E.priorityLevel;var Ct=Rt(E.expirationTime<=U);if(U=s.unstable_now(),typeof Ct=="function"){E.callback=Ct,Tt(U),et=!0;break e}E===i(v)&&a(v),Tt(U)}else a(v);E=i(v)}if(E!==null)et=!0;else{var x=i(y);x!==null&&Kt(Vt,x.startTime-U),et=!1}}break t}finally{E=null,O=$,q=!1}et=void 0}}finally{et?V():_t=!1}}}var V;if(typeof lt=="function")V=function(){lt(N)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Yt=A.port2;A.port1.onmessage=N,V=function(){Yt.postMessage(null)}}else V=function(){it(N,0)};function Kt(U,et){C=it(function(){U(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(U){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var $=O;O=et;try{return U()}finally{O=$}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(U,et){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=O;O=U;try{return et()}finally{O=$}},s.unstable_scheduleCallback=function(U,et,$){var Rt=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Rt+$:Rt):$=Rt,U){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=$+Ct,U={id:S++,callback:et,priorityLevel:U,startTime:$,expirationTime:Ct,sortIndex:-1},$>Rt?(U.sortIndex=$,t(y,U),i(v)===null&&U===i(y)&&(nt?(gt(C),C=-1):nt=!0,Kt(Vt,$-Rt))):(U.sortIndex=Ct,t(v,U),G||q||(G=!0,_t||(_t=!0,V()))),U},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(U){var et=O;return function(){var $=O;O=et;try{return U.apply(this,arguments)}finally{O=$}}}})(bd)),bd}var Tv;function n1(){return Tv||(Tv=1,Ed.exports=e1()),Ed.exports}var Td={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function i1(){if(Sv)return cn;Sv=1;var s=gm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:v,containerInfo:y,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,S)},cn.flushSync=function(v){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=S,a.d.f()}},cn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},cn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},cn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,E=p(S,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:O,fetchPriority:q}):S==="script"&&a.d.X(v,{crossOrigin:E,integrity:O,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},cn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,E=p(S,y.crossOrigin);a.d.L(v,S,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},cn.requestFormReset=function(v){a.d.r(v)},cn.unstable_batchedUpdates=function(v,y){return v(y)},cn.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var wv;function a0(){if(wv)return Td.exports;wv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Td.exports=i1(),Td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function r1(){if(Av)return xl;Av=1;var s=n1(),t=gm(),i=a0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,b=h.child;b;){if(b===r){g=!0,r=h,o=f;break}if(b===o){g=!0,o=h,r=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===r){g=!0,r=f,o=h;break}if(b===o){g=!0,o=f,r=h;break}b=b.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,O=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),Vt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var A=Symbol.for("react.client.reference");function Yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===A?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case it:return"Profiler";case W:return"StrictMode";case Vt:return"Suspense";case _t:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case lt:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case Tt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Yt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Yt(e(n))}catch{}}return null}var Kt=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Rt=[],Ct=-1;function x(e){return{current:e}}function Q(e){0>Ct||(e.current=Rt[Ct],Rt[Ct]=null,Ct--)}function F(e,n){Ct++,Rt[Ct]=e.current,e.current=n}var tt=x(null),ot=x(null),pt=x(null),mt=x(null);function wt(e,n){switch(F(pt,n),F(ot,e),F(tt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=By(n),e=jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(tt),F(tt,e)}function zt(){Q(tt),Q(ot),Q(pt)}function Xe(e){e.memoizedState!==null&&F(mt,e);var n=tt.current,r=jy(n,e.type);n!==r&&(F(ot,e),F(tt,r))}function gn(e){ot.current===e&&(Q(tt),Q(ot)),mt.current===e&&(Q(mt),wl._currentValue=$)}var qe,Ir;function bn(e){if(qe===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);qe=n&&n[1]||"",Ir=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+e+Ir}var Rs=!1;function Ti(e,n){if(!e||Rs)return"";Rs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var I=g.split(`
`),P=b.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var Y=`
`+I[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{Rs=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?bn(r):""}function ri(e,n){switch(e.tag){case 26:case 27:case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return e.child!==n&&n!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Ti(e.type,!1);case 11:return Ti(e.type.render,!1);case 1:return Ti(e.type,!0);case 31:return bn("Activity");default:return""}}function xr(e){try{var n="",r=null;do n+=ri(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Wt=Object.prototype.hasOwnProperty,be=s.unstable_scheduleCallback,Si=s.unstable_cancelCallback,$e=s.unstable_shouldYield,si=s.unstable_requestPaint,Ze=s.unstable_now,Wi=s.unstable_getCurrentPriorityLevel,wi=s.unstable_ImmediatePriority,Cs=s.unstable_UserBlockingPriority,ai=s.unstable_NormalPriority,Is=s.unstable_LowPriority,oi=s.unstable_IdlePriority,xs=s.log,li=s.unstable_setDisableYieldValue,Dn=null,ze=null;function pn(e){if(typeof xs=="function"&&li(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Dn,e)}catch{}}var de=Math.clz32?Math.clz32:On,fa=Math.log,Ai=Math.LN2;function On(e){return e>>>=0,e===0?32:31-(fa(e)/Ai|0)|0}var qn=256,tr=262144,pe=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Et(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=Mn(o):(g&=b,g!==0?h=Mn(g):r||(r=b&~e,r!==0&&(h=Mn(r))))):(b=o&~f,b!==0?h=Mn(b):g!==0?h=Mn(g):r||(r=o&~e,r!==0&&(h=Mn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function te(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ce(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ge(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function yn(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ce(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function un(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var Y=31-de(r),X=1<<Y;b[Y]=0,I[Y]=-1;var B=P[Y];if(B!==null)for(P[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}r&=~X}o!==0&&Gn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Gn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Je(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-de(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function We(e,n){var r=n&-n;return r=(r&42)!==0?1:Ri(r),(r&(e.suspendedLanes|n))!==0?0:r}function Ri(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function No(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:cv(e.type))}function ui(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var ci=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ci,Fe="__reactProps$"+ci,Ci="__reactContainer$"+ci,da="__reactEvents$"+ci,Th="__reactListeners$"+ci,iu="__reactHandles$"+ci,ru="__reactResources$"+ci,Ii="__reactMarker$"+ci;function ma(e){delete e[Ie],delete e[Fe],delete e[da],delete e[Th],delete e[iu]}function xi(e){var n=e[Ie];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Ci]||r[Ie]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Ky(e);e!==null;){if(r=e[Ie])return r;e=Ky(e)}return n}e=r,r=e.parentNode}return null}function Fn(e){if(e=e[Ie]||e[Ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ni(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(e){e[Ii]=!0}var Do=new Set,Oo={};function Di(e,n){Oi(e,n),Oi(e+"Capture",n)}function Oi(e,n){for(Oo[e]=n,e=0;e<n.length;e++)Do.add(n[e])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},ko={};function su(e){return Wt.call(ko,e)?!0:Wt.call(Vo,e)?!1:Mo.test(e)?ko[e]=!0:(Vo[e]=!0,!1)}function ga(e,n,r){if(su(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function kn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ne(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ee(e){if(!e._valueTracker){var n=Nr(e)?"checked":"value";e._valueTracker=Lo(e,n,""+e[n])}}function Ns(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Nr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ds=/[\n"\\]/g;function Tn(e){return e.replace(Ds,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(e,n,r,o,h,f,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ye(n)):e.value!==""+Ye(n)&&(e.value=""+Ye(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Uo(e,g,Ye(n)):r!=null?Uo(e,g,Ye(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ye(b):e.removeAttribute("name")}function au(e,n,r,o,h,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ee(e);return}r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,b||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ee(e)}function Uo(e,n,r){n==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Dr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,r){if(n!=null&&(n=""+Ye(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ye(r):""}function Or(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Kt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ye(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),ee(e)}function Sn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||lu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Po(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&zo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&zo(e,f,n[f])}function ya(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(e){return Mr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hi(){}var Bo=null;function Yn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vr=null,Vi=null;function Os(e){var n=Fn(e);if(n&&(e=n.stateNode)){var r=e[Fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(pa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Tn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Fe]||null;if(!h)throw Error(a(90));pa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Ns(o)}break t;case"textarea":ou(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Dr(e,!!r.multiple,n,!1)}}}var _a=!1;function kr(e,n,r){if(_a)return e(n,r);_a=!0;try{var o=e(n);return o}finally{if(_a=!1,(Vr!==null||Vi!==null)&&(nc(),Vr&&(n=Vr,e=Vi,Vi=Vr=null,Os(n),e)))for(n=0;n<e.length;n++)Os(e[n])}}function fi(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Fe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(Qn)try{var re={};Object.defineProperty(re,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",re,re),window.removeEventListener("test",re,re)}catch{Ms=!1}var ki=null,jo=null,Vs=null;function Ho(){if(Vs)return Vs;var e,n=jo,r=n.length,o,h="value"in ki?ki.value:ki.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Vs=h.slice(e,1<o?1-o:void 0)}function ks(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function er(){return!0}function di(){return!1}function en(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?er:di,this.isPropagationStopped=di,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),n}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=en(nr),Lr=E({},nr,{view:0,detail:0}),qo=en(Lr),Ur,Ea,Ui,ba=E({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(Ur=e.screenX-Ui.screenX,Ea=e.screenY-Ui.screenY):Ea=Ur=0,Ui=e),Ur)},movementY:function(e){return"movementY"in e?e.movementY:Ea}}),Go=en(ba),Ls=E({},ba,{dataTransfer:0}),cu=en(Ls),hu=E({},Lr,{relatedTarget:0}),Us=en(hu),Fo=E({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=en(Fo),Ta=E({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=en(Ta),mu=E({},nr,{data:0}),zi=en(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function zr(){return vu}var vn=E({},Lr,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_u=en(vn),Eu=E({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=en(Eu),u=E({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),m=en(u),_=E({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=en(_),L=E({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=en(L),rt=E({},nr,{newState:0,oldState:0}),Dt=en(rt),Te=[9,13,27,32],Zt=Qn&&"CompositionEvent"in window,me=null;Qn&&"documentMode"in document&&(me=document.documentMode);var Kn=Qn&&"TextEvent"in window&&!me,Pi=Qn&&(!Zt||me&&8<me&&11>=me),mi=" ",gi=!1;function zs(e,n){switch(e){case"keyup":return Te.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function Tb(e,n){switch(e){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(gi=!0,mi);case"textInput":return e=n.data,e===mi&&gi?null:e;default:return null}}function Sb(e,n){if(wa)return e==="compositionend"||!Zt&&zs(e,n)?(e=Ho(),Vs=jo=ki=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pi&&n.locale!=="ko"?null:n.data;default:return null}}var wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!wb[e.type]:n==="textarea"}function Jm(e,n,r,o){Vr?Vi?Vi.push(o):Vi=[o]:Vr=o,n=uc(n,"onChange"),0<n.length&&(r=new Li("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Yo=null,Qo=null;function Ab(e){Vy(e,0)}function bu(e){var n=Vn(e);if(Ns(n))return e}function Wm(e,n){if(e==="change")return n}var tg=!1;if(Qn){var Sh;if(Qn){var wh="oninput"in document;if(!wh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),wh=typeof eg.oninput=="function"}Sh=wh}else Sh=!1;tg=Sh&&(!document.documentMode||9<document.documentMode)}function ng(){Yo&&(Yo.detachEvent("onpropertychange",ig),Qo=Yo=null)}function ig(e){if(e.propertyName==="value"&&bu(Qo)){var n=[];Jm(n,Qo,e,Yn(e)),kr(Ab,n)}}function Rb(e,n,r){e==="focusin"?(ng(),Yo=n,Qo=r,Yo.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function Cb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Qo)}function Ib(e,n){if(e==="click")return bu(n)}function xb(e,n){if(e==="input"||e==="change")return bu(n)}function Nb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is=="function"?Object.is:Nb;function Ko(e,n){if(Ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Wt.call(n,h)||!Ln(e[h],n[h]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,n){var r=rg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=rg(r)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Mi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Mi(e.document)}return n}function Ah(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Db=Qn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Rh=null,Xo=null,Ch=!1;function lg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ch||Aa==null||Aa!==Mi(o)||(o=Aa,"selectionStart"in o&&Ah(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xo&&Ko(Xo,o)||(Xo=o,o=uc(Rh,"onSelect"),0<o.length&&(n=new Li("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Aa)))}function Ps(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ra={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Ih={},ug={};Qn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Bs(e){if(Ih[e])return Ih[e];if(!Ra[e])return e;var n=Ra[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ug)return Ih[e]=n[r];return e}var cg=Bs("animationend"),hg=Bs("animationiteration"),fg=Bs("animationstart"),Ob=Bs("transitionrun"),Mb=Bs("transitionstart"),Vb=Bs("transitioncancel"),dg=Bs("transitionend"),mg=new Map,xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xh.push("scrollEnd");function pi(e,n){mg.set(e,n),Di(n,[e])}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xn=[],Ca=0,Nh=0;function Su(){for(var e=Ca,n=Nh=Ca=0;n<e;){var r=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&gg(r,h,f)}}function wu(e,n,r,o){Xn[Ca++]=e,Xn[Ca++]=n,Xn[Ca++]=r,Xn[Ca++]=o,Nh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Dh(e,n,r,o){return wu(e,n,r,o),Au(e)}function js(e,n){return wu(e,null,null,n),Au(e)}function gg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Au(e){if(50<yl)throw yl=0,jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ia={};function kb(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,n,r,o){return new kb(e,n,r,o)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rr(e,n){var r=e.alternate;return r===null?(r=Un(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function pg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Oh(e)&&(g=1);else if(typeof e=="string")g=BT(e,r,tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Un(31,r,n,h),e.elementType=R,e.lanes=f,e;case nt:return Hs(r.children,h,f,n);case W:g=8,h|=24;break;case it:return e=Un(12,r,n,h|2),e.elementType=it,e.lanes=f,e;case Vt:return e=Un(13,r,n,h),e.elementType=Vt,e.lanes=f,e;case _t:return e=Un(19,r,n,h),e.elementType=_t,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:g=10;break t;case gt:g=9;break t;case Tt:g=11;break t;case C:g=14;break t;case w:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Un(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Hs(e,n,r,o){return e=Un(7,e,o,n),e.lanes=r,e}function Mh(e,n,r){return e=Un(6,e,null,n),e.lanes=r,e}function yg(e){var n=Un(18,null,null,0);return n.stateNode=e,n}function Vh(e,n,r){return n=Un(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vg=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var r=vg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:xr(n)},vg.set(e,n),n)}return{value:e,source:n,stack:xr(n)}}var xa=[],Na=0,Cu=null,$o=0,Zn=[],Jn=0,Pr=null,Bi=1,ji="";function sr(e,n){xa[Na++]=$o,xa[Na++]=Cu,Cu=e,$o=n}function _g(e,n,r){Zn[Jn++]=Bi,Zn[Jn++]=ji,Zn[Jn++]=Pr,Pr=e;var o=Bi;e=ji;var h=32-de(o)-1;o&=~(1<<h),r+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Bi=1<<32-de(n)+h|r<<h|o,ji=f+e}else Bi=1<<f|r<<h|o,ji=e}function kh(e){e.return!==null&&(sr(e,1),_g(e,1,0))}function Lh(e){for(;e===Cu;)Cu=xa[--Na],xa[Na]=null,$o=xa[--Na],xa[Na]=null;for(;e===Pr;)Pr=Zn[--Jn],Zn[Jn]=null,ji=Zn[--Jn],Zn[Jn]=null,Bi=Zn[--Jn],Zn[Jn]=null}function Eg(e,n){Zn[Jn++]=Bi,Zn[Jn++]=ji,Zn[Jn++]=Pr,Bi=n.id,ji=n.overflow,Pr=e}var nn=null,he=null,Ht=!1,Br=null,Wn=!1,Uh=Error(a(519));function jr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo($n(n,e)),Uh}function bg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[Fe]=o,r){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(r=0;r<_l.length;r++)Ut(_l[r],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Ut("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ut("invalid",n);break;case"textarea":Ut("invalid",n),Or(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||zy(n.textContent,r)?(o.popover!=null&&(Ut("beforetoggle",n),Ut("toggle",n)),o.onScroll!=null&&Ut("scroll",n),o.onScrollEnd!=null&&Ut("scrollend",n),o.onClick!=null&&(n.onclick=hi),n=!0):n=!1,n||jr(e,!0)}function Tg(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:nn=nn.return}}function Da(e){if(e!==nn)return!1;if(!Ht)return Tg(e),Ht=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||nd(e.type,e.memoizedProps)),r=!r),r&&he&&jr(e),Tg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=Qy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=Qy(e)}else n===27?(n=he,es(e.type)?(e=od,od=null,he=e):he=n):he=nn?ei(e.stateNode.nextSibling):null;return!0}function qs(){he=nn=null,Ht=!1}function zh(){var e=Br;return e!==null&&(Cn===null?Cn=e:Cn.push.apply(Cn,e),Br=null),e}function Zo(e){Br===null?Br=[e]:Br.push(e)}var Ph=x(null),Gs=null,ar=null;function Hr(e,n,r){F(Ph,n._currentValue),n._currentValue=r}function or(e){e._currentValue=Ph.current,Q(Ph)}function Bh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function jh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=h;for(var I=0;I<n.length;I++)if(b.context===n[I]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),Bh(f.return,r,e),o||(g=null);break t}f=b.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Bh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Oa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var b=h.type;Ln(h.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(h===mt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}h=h.return}e!==null&&jh(n,e,r,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!Ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fs(e){Gs=e,ar=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return Sg(Gs,e)}function xu(e,n){return Gs===null&&Fs(e),Sg(e,n)}function Sg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ar===null){if(e===null)throw Error(a(308));ar=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ar=ar.next=n;return r}var Lb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Ub=s.unstable_scheduleCallback,zb=s.unstable_NormalPriority,De={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new Lb,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&Ub(zb,function(){e.controller.abort()})}var Wo=null,qh=0,Ma=0,Va=null;function Pb(e,n){if(Wo===null){var r=Wo=[];qh=0,Ma=Qf(),Va={status:"pending",value:void 0,then:function(o){r.push(o)}}}return qh++,n.then(wg,wg),n}function wg(){if(--qh===0&&Wo!==null){Va!==null&&(Va.status="fulfilled");var e=Wo;Wo=null,Ma=0,Va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Bb(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Ag=U.S;U.S=function(e,n){ly=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Pb(e,n),Ag!==null&&Ag(e,n)};var Ys=x(null);function Gh(){var e=Ys.current;return e!==null?e:ue.pooledCache}function Nu(e,n){n===null?F(Ys,Ys.current):F(Ys,n.pool)}function Rg(){var e=Gh();return e===null?null:{parent:De._currentValue,pool:e}}var ka=Error(a(460)),Fh=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ig(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(hi,hi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e;default:if(typeof n.status=="string")n.then(hi,hi);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e}throw Ks=n,ka}}function Qs(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ks=r,ka):r}}var Ks=null;function xg(){if(Ks===null)throw Error(a(459));var e=Ks;return Ks=null,e}function Ng(e){if(e===ka||e===Du)throw Error(a(483))}var La=null,tl=0;function Mu(e){var n=tl;return tl+=1,La===null&&(La=[]),Ig(La,e,n)}function el(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Dg(e){function n(k,D){if(e){var z=k.deletions;z===null?(k.deletions=[D],k.flags|=16):z.push(D)}}function r(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=rr(k,D),k.index=0,k.sibling=null,k}function f(k,D,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<D?(k.flags|=67108866,D):z):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,D,z,K){return D===null||D.tag!==6?(D=Mh(z,k.mode,K),D.return=k,D):(D=h(D,z),D.return=k,D)}function I(k,D,z,K){var yt=z.type;return yt===nt?Y(k,D,z.props.children,K,z.key):D!==null&&(D.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&Qs(yt)===D.type)?(D=h(D,z.props),el(D,z),D.return=k,D):(D=Ru(z.type,z.key,z.props,null,k.mode,K),el(D,z),D.return=k,D)}function P(k,D,z,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Vh(z,k.mode,K),D.return=k,D):(D=h(D,z.children||[]),D.return=k,D)}function Y(k,D,z,K,yt){return D===null||D.tag!==7?(D=Hs(z,k.mode,K,yt),D.return=k,D):(D=h(D,z),D.return=k,D)}function X(k,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Mh(""+D,k.mode,z),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return z=Ru(D.type,D.key,D.props,null,k.mode,z),el(z,D),z.return=k,z;case G:return D=Vh(D,k.mode,z),D.return=k,D;case w:return D=Qs(D),X(k,D,z)}if(Kt(D)||V(D))return D=Hs(D,k.mode,z,null),D.return=k,D;if(typeof D.then=="function")return X(k,Mu(D),z);if(D.$$typeof===lt)return X(k,xu(k,D),z);Vu(k,D)}return null}function B(k,D,z,K){var yt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return yt!==null?null:b(k,D,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return z.key===yt?I(k,D,z,K):null;case G:return z.key===yt?P(k,D,z,K):null;case w:return z=Qs(z),B(k,D,z,K)}if(Kt(z)||V(z))return yt!==null?null:Y(k,D,z,K,null);if(typeof z.then=="function")return B(k,D,Mu(z),K);if(z.$$typeof===lt)return B(k,D,xu(k,z),K);Vu(k,z)}return null}function H(k,D,z,K,yt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(z)||null,b(D,k,""+K,yt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return k=k.get(K.key===null?z:K.key)||null,I(D,k,K,yt);case G:return k=k.get(K.key===null?z:K.key)||null,P(D,k,K,yt);case w:return K=Qs(K),H(k,D,z,K,yt)}if(Kt(K)||V(K))return k=k.get(z)||null,Y(D,k,K,yt,null);if(typeof K.then=="function")return H(k,D,z,Mu(K),yt);if(K.$$typeof===lt)return H(k,D,z,xu(D,K),yt);Vu(D,K)}return null}function ct(k,D,z,K){for(var yt=null,Xt=null,dt=D,Mt=D=0,Bt=null;dt!==null&&Mt<z.length;Mt++){dt.index>Mt?(Bt=dt,dt=null):Bt=dt.sibling;var $t=B(k,dt,z[Mt],K);if($t===null){dt===null&&(dt=Bt);break}e&&dt&&$t.alternate===null&&n(k,dt),D=f($t,D,Mt),Xt===null?yt=$t:Xt.sibling=$t,Xt=$t,dt=Bt}if(Mt===z.length)return r(k,dt),Ht&&sr(k,Mt),yt;if(dt===null){for(;Mt<z.length;Mt++)dt=X(k,z[Mt],K),dt!==null&&(D=f(dt,D,Mt),Xt===null?yt=dt:Xt.sibling=dt,Xt=dt);return Ht&&sr(k,Mt),yt}for(dt=o(dt);Mt<z.length;Mt++)Bt=H(dt,k,Mt,z[Mt],K),Bt!==null&&(e&&Bt.alternate!==null&&dt.delete(Bt.key===null?Mt:Bt.key),D=f(Bt,D,Mt),Xt===null?yt=Bt:Xt.sibling=Bt,Xt=Bt);return e&&dt.forEach(function(as){return n(k,as)}),Ht&&sr(k,Mt),yt}function bt(k,D,z,K){if(z==null)throw Error(a(151));for(var yt=null,Xt=null,dt=D,Mt=D=0,Bt=null,$t=z.next();dt!==null&&!$t.done;Mt++,$t=z.next()){dt.index>Mt?(Bt=dt,dt=null):Bt=dt.sibling;var as=B(k,dt,$t.value,K);if(as===null){dt===null&&(dt=Bt);break}e&&dt&&as.alternate===null&&n(k,dt),D=f(as,D,Mt),Xt===null?yt=as:Xt.sibling=as,Xt=as,dt=Bt}if($t.done)return r(k,dt),Ht&&sr(k,Mt),yt;if(dt===null){for(;!$t.done;Mt++,$t=z.next())$t=X(k,$t.value,K),$t!==null&&(D=f($t,D,Mt),Xt===null?yt=$t:Xt.sibling=$t,Xt=$t);return Ht&&sr(k,Mt),yt}for(dt=o(dt);!$t.done;Mt++,$t=z.next())$t=H(dt,k,Mt,$t.value,K),$t!==null&&(e&&$t.alternate!==null&&dt.delete($t.key===null?Mt:$t.key),D=f($t,D,Mt),Xt===null?yt=$t:Xt.sibling=$t,Xt=$t);return e&&dt.forEach(function(ZT){return n(k,ZT)}),Ht&&sr(k,Mt),yt}function oe(k,D,z,K){if(typeof z=="object"&&z!==null&&z.type===nt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case q:t:{for(var yt=z.key;D!==null;){if(D.key===yt){if(yt=z.type,yt===nt){if(D.tag===7){r(k,D.sibling),K=h(D,z.props.children),K.return=k,k=K;break t}}else if(D.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&Qs(yt)===D.type){r(k,D.sibling),K=h(D,z.props),el(K,z),K.return=k,k=K;break t}r(k,D);break}else n(k,D);D=D.sibling}z.type===nt?(K=Hs(z.props.children,k.mode,K,z.key),K.return=k,k=K):(K=Ru(z.type,z.key,z.props,null,k.mode,K),el(K,z),K.return=k,k=K)}return g(k);case G:t:{for(yt=z.key;D!==null;){if(D.key===yt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){r(k,D.sibling),K=h(D,z.children||[]),K.return=k,k=K;break t}else{r(k,D);break}else n(k,D);D=D.sibling}K=Vh(z,k.mode,K),K.return=k,k=K}return g(k);case w:return z=Qs(z),oe(k,D,z,K)}if(Kt(z))return ct(k,D,z,K);if(V(z)){if(yt=V(z),typeof yt!="function")throw Error(a(150));return z=yt.call(z),bt(k,D,z,K)}if(typeof z.then=="function")return oe(k,D,Mu(z),K);if(z.$$typeof===lt)return oe(k,D,xu(k,z),K);Vu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,z),K.return=k,k=K):(r(k,D),K=Mh(z,k.mode,K),K.return=k,k=K),g(k)):r(k,D)}return function(k,D,z,K){try{tl=0;var yt=oe(k,D,z,K);return La=null,yt}catch(dt){if(dt===ka||dt===Du)throw dt;var Xt=Un(29,dt,null,k.mode);return Xt.lanes=K,Xt.return=k,Xt}finally{}}}var Xs=Dg(!0),Og=Dg(!1),qr=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Au(e),gg(e,null,r),n}return wu(e,o,n,r),Au(e)}function nl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Je(e,r)}}function Kh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Xh=!1;function il(){if(Xh){var e=Va;if(e!==null)throw e}}function rl(e,n,r,o){Xh=!1;var h=e.updateQueue;qr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==g&&(b===null?Y.firstBaseUpdate=P:b.next=P,Y.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,Y=P=I=null,b=f;do{var B=b.lane&-536870913,H=B!==b.lane;if(H?(Pt&B)===B:(o&B)===B){B!==0&&B===Ma&&(Xh=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ct=e,bt=b;B=n;var oe=r;switch(bt.tag){case 1:if(ct=bt.payload,typeof ct=="function"){X=ct.call(oe,X,B);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=bt.payload,B=typeof ct=="function"?ct.call(oe,X,B):ct,B==null)break t;X=E({},X,B);break t;case 2:qr=!0}}B=b.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(P=Y=H,I=X):Y=Y.next=H,g|=B;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(I=X),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),$r|=g,e.lanes=g,e.memoizedState=X}}function Mg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Vg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Mg(r[e],n)}var Ua=x(null),ku=x(0);function kg(e,n){e=pr,F(ku,e),F(Ua,n),pr=e|n.baseLanes}function $h(){F(ku,pr),F(Ua,Ua.current)}function Zh(){pr=ku.current,Q(Ua),Q(ku)}var zn=x(null),ti=null;function Yr(e){var n=e.alternate;F(Se,Se.current&1),F(zn,e),ti===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(ti=e)}function Jh(e){F(Se,Se.current),F(zn,e),ti===null&&(ti=e)}function Lg(e){e.tag===22?(F(Se,Se.current),F(zn,e),ti===null&&(ti=e)):Qr()}function Qr(){F(Se,Se.current),F(zn,zn.current)}function Pn(e){Q(zn),ti===e&&(ti=null),Q(Se)}var Se=x(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||sd(r)||ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var lr=0,Ot=null,se=null,Oe=null,Uu=!1,za=!1,$s=!1,zu=0,sl=0,Pa=null,jb=0;function _e(){throw Error(a(321))}function Wh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Ln(e[r],n[r]))return!1;return!0}function tf(e,n,r,o,h,f){return lr=f,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=e===null||e.memoizedState===null?_p:pf,$s=!1,f=r(o,h),$s=!1,za&&(f=zg(n,r,o,h)),Ug(e),f}function Ug(e){U.H=ll;var n=se!==null&&se.next!==null;if(lr=0,Oe=se=Ot=null,Uu=!1,sl=0,Pa=null,n)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&Iu(e)&&(Me=!0))}function zg(e,n,r,o){Ot=e;var h=0;do{if(za&&(Pa=null),sl=0,za=!1,25<=h)throw Error(a(301));if(h+=1,Oe=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=Ep,f=n(r,o)}while(za);return f}function Hb(){var e=U.H,n=e.useState()[0];return n=typeof n.then=="function"?al(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(Ot.flags|=1024),n}function ef(){var e=zu!==0;return zu=0,e}function nf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function rf(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}lr=0,Oe=se=Ot=null,za=!1,sl=zu=0,Pa=null}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Ot.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function we(){if(se===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Oe===null?Ot.memoizedState:Oe.next;if(n!==null)Oe=n,se=e;else{if(e===null)throw Ot.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Oe===null?Ot.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var n=sl;return sl+=1,Pa===null&&(Pa=[]),e=Ig(Pa,e,n),n=Ot,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?_p:pf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===lt)return rn(e)}throw Error(a(438,String(e)))}function sf(e){var n=null,r=Ot.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ot.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Pu(),Ot.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function ur(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=we();return af(n,se,e)}function af(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var b=g=null,I=null,P=n,Y=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Pt&X)===X:(lr&X)===X){var B=P.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Ma&&(Y=!0);else if((lr&B)===B){P=P.next,B===Ma&&(Y=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(b=I=X,g=f):I=I.next=X,Ot.lanes|=B,$r|=B;X=P.action,$s&&r(f,X),f=P.hasEagerState?P.eagerState:r(f,X)}else B={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(b=I=B,g=f):I=I.next=B,Ot.lanes|=X,$r|=X;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=b,!Ln(f,e.memoizedState)&&(Me=!0,Y&&(r=Va,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function of(e){var n=we(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Ln(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Pg(e,n,r){var o=Ot,h=we(),f=Ht;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Ln((se||h).memoizedState,r);if(g&&(h.memoizedState=r,Me=!0),h=h.queue,cf(Hg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},jg.bind(null,o,h,r,n),null),ue===null)throw Error(a(349));f||(lr&127)!==0||Bg(o,n,r)}return r}function Bg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ot.updateQueue,n===null?(n=Pu(),Ot.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function jg(e,n,r,o){n.value=r,n.getSnapshot=o,qg(n)&&Gg(e)}function Hg(e,n,r){return r(function(){qg(n)&&Gg(e)})}function qg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Ln(e,r)}catch{return!0}}function Gg(e){var n=js(e,2);n!==null&&In(n,e,2)}function lf(e){var n=_n();if(typeof e=="function"){var r=e;if(e=r(),$s){pn(!0);try{r()}finally{pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:e},n}function Fg(e,n,r,o){return e.baseState=r,af(e,se,typeof o=="function"?o:ur)}function qb(e,n,r,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};U.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Yg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Yg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=U.T,g={};U.T=g;try{var b=r(h,o),I=U.S;I!==null&&I(g,b),Qg(e,n,b)}catch(P){uf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),U.T=f}}else try{f=r(h,o),Qg(e,n,f)}catch(P){uf(e,n,P)}}function Qg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Kg(e,n,o)},function(o){return uf(e,n,o)}):Kg(e,n,r)}function Kg(e,n,r){n.status="fulfilled",n.value=r,Xg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Yg(e,r)))}function uf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Xg(n),n=n.next;while(n!==o)}e.action=null}function Xg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function $g(e,n){return n}function Zg(e,n){if(Ht){var r=ue.formState;if(r!==null){t:{var o=Ot;if(Ht){if(he){e:{for(var h=he,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ei(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=ei(h.nextSibling),o=h.data==="F!";break t}}jr(o)}o=!1}o&&(n=r[0])}}return r=_n(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},r.queue=o,r=pp.bind(null,Ot,o),o.dispatch=r,o=lf(!1),f=gf.bind(null,Ot,!1,o.queue),o=_n(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=qb.bind(null,Ot,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Jg(e){var n=we();return Wg(n,se,e)}function Wg(e,n,r){if(n=af(e,n,$g)[0],e=ju(ur)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=al(n)}catch(g){throw g===ka?Du:g}else o=n;n=we();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ot.flags|=2048,Ba(9,{destroy:void 0},Gb.bind(null,h,r),null)),[o,f,e]}function Gb(e,n){e.action=n}function tp(e){var n=we(),r=se;if(r!==null)return Wg(n,r,e);we(),n=n.memoizedState,r=we();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ba(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=Pu(),Ot.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function ep(){return we().memoizedState}function Hu(e,n,r,o){var h=_n();Ot.flags|=e,h.memoizedState=Ba(1|n,{destroy:void 0},r,o===void 0?null:o)}function qu(e,n,r,o){var h=we();o=o===void 0?null:o;var f=h.memoizedState.inst;se!==null&&o!==null&&Wh(o,se.memoizedState.deps)?h.memoizedState=Ba(n,f,r,o):(Ot.flags|=e,h.memoizedState=Ba(1|n,f,r,o))}function np(e,n){Hu(8390656,8,e,n)}function cf(e,n){qu(2048,8,e,n)}function Fb(e){Ot.flags|=4;var n=Ot.updateQueue;if(n===null)n=Pu(),Ot.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function ip(e){var n=we().memoizedState;return Fb({ref:n,nextImpl:e}),function(){if((Jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function rp(e,n){return qu(4,2,e,n)}function sp(e,n){return qu(4,4,e,n)}function ap(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function op(e,n,r){r=r!=null?r.concat([e]):null,qu(4,4,ap.bind(null,n,e),r)}function hf(){}function lp(e,n){var r=we();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Wh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function up(e,n){var r=we();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Wh(n,o[1]))return o[0];if(o=e(),$s){pn(!0);try{e()}finally{pn(!1)}}return r.memoizedState=[o,n],o}function ff(e,n,r){return r===void 0||(lr&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=cy(),Ot.lanes|=e,$r|=e,r)}function cp(e,n,r,o){return Ln(r,n)?r:Ua.current!==null?(e=ff(e,r,o),Ln(e,n)||(Me=!0),e):(lr&42)===0||(lr&1073741824)!==0&&(Pt&261930)===0?(Me=!0,e.memoizedState=r):(e=cy(),Ot.lanes|=e,$r|=e,n)}function hp(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=U.T,b={};U.T=b,gf(e,!1,n,r);try{var I=h(),P=U.S;if(P!==null&&P(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=Bb(I,o);ol(e,n,Y,Hn(e))}else ol(e,n,o,Hn(e))}catch(X){ol(e,n,{then:function(){},status:"rejected",reason:X},Hn())}finally{et.p=f,g!==null&&b.types!==null&&(g.types=b.types),U.T=g}}function Yb(){}function df(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=fp(e).queue;hp(e,h,n,$,r===null?Yb:function(){return dp(e),r(o)})}function fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:$},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dp(e){var n=fp(e);n.next===null&&(n=e.alternate.memoizedState),ol(e,n.next.queue,{},Hn())}function mf(){return rn(wl)}function mp(){return we().memoizedState}function gp(){return we().memoizedState}function Qb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Hn();e=Gr(r);var o=Fr(n,e,r);o!==null&&(In(o,n,r),nl(o,n,r)),n={cache:Hh()},e.payload=n;return}n=n.return}}function Kb(e,n,r){var o=Hn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(e)?yp(n,r):(r=Dh(e,n,r,o),r!==null&&(In(r,e,o),vp(r,n,o)))}function pp(e,n,r){var o=Hn();ol(e,n,r,o)}function ol(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))yp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,b=f(g,r);if(h.hasEagerState=!0,h.eagerState=b,Ln(b,g))return wu(e,n,h,0),ue===null&&Su(),!1}catch{}finally{}if(r=Dh(e,n,h,o),r!==null)return In(r,e,o),vp(r,n,o),!0}return!1}function gf(e,n,r,o){if(o={lane:2,revertLane:Qf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=Dh(e,r,o,2),n!==null&&In(n,e,2)}function Gu(e){var n=e.alternate;return e===Ot||n!==null&&n===Ot}function yp(e,n){za=Uu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function vp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Je(e,r)}}var ll={readContext:rn,use:Bu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};ll.useEffectEvent=_e;var _p={readContext:rn,use:Bu,useCallback:function(e,n){return _n().memoizedState=[e,n===void 0?null:n],e},useContext:rn,useEffect:np,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Hu(4194308,4,ap.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var r=_n();n=n===void 0?null:n;var o=e();if($s){pn(!0);try{e()}finally{pn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=_n();if(r!==void 0){var h=r(n);if($s){pn(!0);try{r(n)}finally{pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Kb.bind(null,Ot,e),[o.memoizedState,e]},useRef:function(e){var n=_n();return e={current:e},n.memoizedState=e},useState:function(e){e=lf(e);var n=e.queue,r=pp.bind(null,Ot,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:hf,useDeferredValue:function(e,n){var r=_n();return ff(r,e,n)},useTransition:function(){var e=lf(!1);return e=hp.bind(null,Ot,e.queue,!0,!1),_n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Ot,h=_n();if(Ht){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ue===null)throw Error(a(349));(Pt&127)!==0||Bg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,np(Hg.bind(null,o,f,e),[e]),o.flags|=2048,Ba(9,{destroy:void 0},jg.bind(null,o,f,r,n),null),r},useId:function(){var e=_n(),n=ue.identifierPrefix;if(Ht){var r=ji,o=Bi;r=(o&~(1<<32-de(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=jb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e){var n=_n();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=gf.bind(null,Ot,!0,r),r.dispatch=n,[e,n]},useMemoCache:sf,useCacheRefresh:function(){return _n().memoizedState=Qb.bind(null,Ot)},useEffectEvent:function(e){var n=_n(),r={impl:e};return n.memoizedState=r,function(){if((Jt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},pf={readContext:rn,use:Bu,useCallback:lp,useContext:rn,useEffect:cf,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:sp,useMemo:up,useReducer:ju,useRef:ep,useState:function(){return ju(ur)},useDebugValue:hf,useDeferredValue:function(e,n){var r=we();return cp(r,se.memoizedState,e,n)},useTransition:function(){var e=ju(ur)[0],n=we().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:Pg,useId:mp,useHostTransitionStatus:mf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var r=we();return Fg(r,se,e,n)},useMemoCache:sf,useCacheRefresh:gp};pf.useEffectEvent=ip;var Ep={readContext:rn,use:Bu,useCallback:lp,useContext:rn,useEffect:cf,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:sp,useMemo:up,useReducer:of,useRef:ep,useState:function(){return of(ur)},useDebugValue:hf,useDeferredValue:function(e,n){var r=we();return se===null?ff(r,e,n):cp(r,se.memoizedState,e,n)},useTransition:function(){var e=of(ur)[0],n=we().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:Pg,useId:mp,useHostTransitionStatus:mf,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var r=we();return se!==null?Fg(r,se,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:sf,useCacheRefresh:gp};Ep.useEffectEvent=ip;function yf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:E({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Hn(),h=Gr(o);h.payload=n,r!=null&&(h.callback=r),n=Fr(e,h,o),n!==null&&(In(n,e,o),nl(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Hn(),h=Gr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Fr(e,h,o),n!==null&&(In(n,e,o),nl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Hn(),o=Gr(r);o.tag=2,n!=null&&(o.callback=n),n=Fr(e,o,r),n!==null&&(In(n,e,r),nl(n,e,r))}};function bp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ko(r,o)||!Ko(h,f):!0}function Tp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Zs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=E({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Sp(e){Tu(e)}function wp(e){console.error(e)}function Ap(e){Tu(e)}function Fu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Rp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _f(e,n,r){return r=Gr(r),r.tag=3,r.payload={element:null},r.callback=function(){Fu(e,n)},r}function Cp(e){return e=Gr(e),e.tag=3,e}function Ip(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Rp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Rp(n,r,o),typeof h!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function Xb(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Oa(n,r,h,!0),r=zn.current,r!==null){switch(r.tag){case 31:case 13:return ti===null?ic():r.alternate===null&&Ee===0&&(Ee=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Gf(e,o,h)),!1;case 22:return r.flags|=65536,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Gf(e,o,h)),!1}throw Error(a(435,r.tag))}return Gf(e,o,h),ic(),!1}if(Ht)return n=zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Uh&&(e=Error(a(422),{cause:o}),Zo($n(e,r)))):(o!==Uh&&(n=Error(a(423),{cause:o}),Zo($n(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=$n(o,r),h=_f(e.stateNode,o,h),Kh(e,h),Ee!==4&&(Ee=2)),!1;var f=Error(a(520),{cause:o});if(f=$n(f,r),pl===null?pl=[f]:pl.push(f),Ee!==4&&(Ee=2),n===null)return!0;o=$n(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=_f(r.stateNode,o,e),Kh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zr===null||!Zr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Cp(h),Ip(h,e,r,o),Kh(r,h),!1}r=r.return}while(r!==null);return!1}var Ef=Error(a(461)),Me=!1;function sn(e,n,r,o){n.child=e===null?Og(n,null,r,o):Xs(n,e.child,r,o)}function xp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var b in o)b!=="ref"&&(g[b]=o[b])}else g=o;return Fs(n),o=tf(e,n,r,g,f,h),b=ef(),e!==null&&!Me?(nf(e,n,h),cr(e,n,h)):(Ht&&b&&kh(n),n.flags|=1,sn(e,n,o,h),n.child)}function Np(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Dp(e,n,f,o,h)):(e=Ru(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!If(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ko,r(g,o)&&e.ref===n.ref)return cr(e,n,h)}return n.flags|=1,e=rr(f,o),e.ref=n.ref,e.return=n,n.child=e}function Dp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Ko(f,o)&&e.ref===n.ref)if(Me=!1,n.pendingProps=o=f,If(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,cr(e,n,h)}return bf(e,n,r,o,h)}function Op(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Mp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?kg(n,f):$h(),Lg(n);else return o=n.lanes=536870912,Mp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Nu(n,f.cachePool),kg(n,f),Qr(),n.memoizedState=null):(e!==null&&Nu(n,null),$h(),Qr());return sn(e,n,h,r),n.child}function ul(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Mp(e,n,r,o,h){var f=Gh();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Nu(n,null),$h(),Lg(n),e!==null&&Oa(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Vp(e,n,r){return Xs(n,e.child,null,r),e=Yu(n,n.pendingProps),e.flags|=2,Pn(n),n.memoizedState=null,e}function $b(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ht){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,ul(null,e);if(Jh(n),(e=he)?(e=Yy(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Pr!==null?{id:Bi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=yg(e),r.return=n,n.child=r,nn=n,he=null)):e=null,e===null)throw jr(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Jh(n),h)if(n.flags&256)n.flags&=-257,n=Vp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Me||Oa(e,n,r,!1),h=(r&e.childLanes)!==0,Me||h){if(o=ue,o!==null&&(g=We(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,js(e,g),In(o,e,g),Ef;ic(),n=Vp(e,n,r)}else e=f.treeContext,he=ei(g.nextSibling),nn=n,Ht=!0,Br=null,Wn=!1,e!==null&&Eg(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=rr(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function bf(e,n,r,o,h){return Fs(n),r=tf(e,n,r,o,void 0,h),o=ef(),e!==null&&!Me?(nf(e,n,h),cr(e,n,h)):(Ht&&o&&kh(n),n.flags|=1,sn(e,n,r,h),n.child)}function kp(e,n,r,o,h,f){return Fs(n),n.updateQueue=null,r=zg(n,o,r,h),Ug(e),o=ef(),e!==null&&!Me?(nf(e,n,f),cr(e,n,f)):(Ht&&o&&kh(n),n.flags|=1,sn(e,n,r,f),n.child)}function Lp(e,n,r,o,h){if(Fs(n),n.stateNode===null){var f=Ia,g=r.contextType;typeof g=="object"&&g!==null&&(f=rn(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Yh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?rn(g):Ia,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(yf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&vf.enqueueReplaceState(f,f.state,null),rl(n,o,f,h),il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var b=n.memoizedProps,I=Zs(r,b);f.props=I;var P=f.context,Y=r.contextType;g=Ia,typeof Y=="object"&&Y!==null&&(g=rn(Y));var X=r.getDerivedStateFromProps;Y=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||P!==g)&&Tp(n,f,o,g),qr=!1;var B=n.memoizedState;f.state=B,rl(n,o,f,h),il(),P=n.memoizedState,b||B!==P||qr?(typeof X=="function"&&(yf(n,r,X,o),P=n.memoizedState),(I=qr||bp(n,r,I,o,B,P,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Qh(e,n),g=n.memoizedProps,Y=Zs(r,g),f.props=Y,X=n.pendingProps,B=f.context,P=r.contextType,I=Ia,typeof P=="object"&&P!==null&&(I=rn(P)),b=r.getDerivedStateFromProps,(P=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==I)&&Tp(n,f,o,I),qr=!1,B=n.memoizedState,f.state=B,rl(n,o,f,h),il();var H=n.memoizedState;g!==X||B!==H||qr||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof b=="function"&&(yf(n,r,b,o),H=n.memoizedState),(Y=qr||bp(n,r,Y,o,B,H,I)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Xs(n,e.child,null,h),n.child=Xs(n,null,r,h)):sn(e,n,r,h),n.memoizedState=f.state,e=n.child):e=cr(e,n,h),e}function Up(e,n,r,o){return qs(),n.flags|=256,sn(e,n,r,o),n.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(e){return{baseLanes:e,cachePool:Rg()}}function wf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=jn),e}function zp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?Yr(n):Qr(),(e=he)?(e=Yy(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Pr!==null?{id:Bi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=yg(e),r.return=n,n.child=r,nn=n,he=null)):e=null,e===null)throw jr(n);return ad(e)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Qr(),h=n.mode,b=Ku({mode:"hidden",children:b},h),o=Hs(o,h,r,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=Sf(r),o.childLanes=wf(e,g,r),n.memoizedState=Tf,ul(null,o)):(Yr(n),Af(n,b))}var I=e.memoizedState;if(I!==null&&(b=I.dehydrated,b!==null)){if(f)n.flags&256?(Yr(n),n.flags&=-257,n=Rf(e,n,r)):n.memoizedState!==null?(Qr(),n.child=e.child,n.flags|=128,n=null):(Qr(),b=o.fallback,h=n.mode,o=Ku({mode:"visible",children:o.children},h),b=Hs(b,h,r,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,Xs(n,e.child,null,r),o=n.child,o.memoizedState=Sf(r),o.childLanes=wf(e,g,r),n.memoizedState=Tf,n=ul(null,o));else if(Yr(n),ad(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Zo({value:o,source:null,stack:null}),n=Rf(e,n,r)}else if(Me||Oa(e,n,r,!1),g=(r&e.childLanes)!==0,Me||g){if(g=ue,g!==null&&(o=We(g,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,js(e,o),In(g,e,o),Ef;sd(b)||ic(),n=Rf(e,n,r)}else sd(b)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,he=ei(b.nextSibling),nn=n,Ht=!0,Br=null,Wn=!1,e!==null&&Eg(n,e),n=Af(n,o.children),n.flags|=4096);return n}return h?(Qr(),b=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=rr(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?b=rr(P,b):(b=Hs(b,h,r,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,ul(null,o),o=n.child,b=e.child.memoizedState,b===null?b=Sf(r):(h=b.cachePool,h!==null?(I=De._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Rg(),b={baseLanes:b.baseLanes|r,cachePool:h}),o.memoizedState=b,o.childLanes=wf(e,g,r),n.memoizedState=Tf,ul(e.child,o)):(Yr(n),r=e.child,e=r.sibling,r=rr(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Af(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=Un(22,e,null,n),e.lanes=0,e}function Rf(e,n,r){return Xs(n,e.child,null,r),e=Af(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Pp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,r)}function Cf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Bp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Se.current,b=(g&2)!==0;if(b?(g=g&1|2,n.flags|=128):g&=1,F(Se,g),sn(e,n,o,r),o=Ht?$o:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pp(e,r,n);else if(e.tag===19)Pp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Lu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Cf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Cf(n,!0,r,null,f,o);break;case"together":Cf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function cr(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),$r|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Oa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=rr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=rr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function If(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function Zb(e,n,r){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),Hr(n,De,e.memoizedState.cache),qs();break;case 27:case 5:Xe(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:Hr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Jh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Yr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?zp(e,n,r):(Yr(n),e=cr(e,n,r),e!==null?e.sibling:null);Yr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Oa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Bp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),F(Se,Se.current),o)break;return null;case 22:return n.lanes=0,Op(e,n,r,n.pendingProps);case 24:Hr(n,De,e.memoizedState.cache)}return cr(e,n,r)}function jp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!If(e,r)&&(n.flags&128)===0)return Me=!1,Zb(e,n,r);Me=(e.flags&131072)!==0}else Me=!1,Ht&&(n.flags&1048576)!==0&&_g(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Qs(n.elementType),n.type=e,typeof e=="function")Oh(e)?(o=Zs(e,o),n.tag=1,n=Lp(null,n,e,o,r)):(n.tag=0,n=bf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Tt){n.tag=11,n=xp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Np(null,n,e,o,r);break t}}throw n=Yt(e)||e,Error(a(306,n,""))}}return n;case 0:return bf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Zs(o,n.pendingProps),Lp(e,n,o,h,r);case 3:t:{if(wt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Qh(e,n),rl(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Hr(n,De,o),o!==f.cache&&jh(n,[De],r,!0),il(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Up(e,n,o,r);break t}else if(o!==h){h=$n(Error(a(424)),n),Zo(h),n=Up(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=ei(e.firstChild),nn=n,Ht=!0,Br=null,Wn=!0,r=Og(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(qs(),o===h){n=cr(e,n,r);break t}sn(e,n,o,r)}n=n.child}return n;case 26:return Qu(e,n),e===null?(r=Jy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ht||(r=n.type,e=n.pendingProps,o=cc(pt.current).createElement(r),o[Ie]=n,o[Fe]=e,an(o,r,e),xe(o),n.stateNode=o):n.memoizedState=Jy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Xe(n),e===null&&Ht&&(o=n.stateNode=Xy(n.type,n.pendingProps,pt.current),nn=n,Wn=!0,h=he,es(n.type)?(od=h,he=ei(o.firstChild)):he=h),sn(e,n,n.pendingProps.children,r),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((h=o=he)&&(o=CT(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,nn=n,he=ei(o.firstChild),Wn=!1,h=!0):h=!1),h||jr(n)),Xe(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,nd(h,f)?o=null:g!==null&&nd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=tf(e,n,Hb,null,null,r),wl._currentValue=h),Qu(e,n),sn(e,n,o,r),n.child;case 6:return e===null&&Ht&&((e=r=he)&&(r=IT(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,nn=n,he=null,e=!0):e=!1),e||jr(n)),null;case 13:return zp(e,n,r);case 4:return wt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Xs(n,null,o,r):sn(e,n,o,r),n.child;case 11:return xp(e,n,n.type,n.pendingProps,r);case 7:return sn(e,n,n.pendingProps,r),n.child;case 8:return sn(e,n,n.pendingProps.children,r),n.child;case 12:return sn(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Hr(n,n.type,o.value),sn(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fs(n),h=rn(h),o=o(h),n.flags|=1,sn(e,n,o,r),n.child;case 14:return Np(e,n,n.type,n.pendingProps,r);case 15:return Dp(e,n,n.type,n.pendingProps,r);case 19:return Bp(e,n,r);case 31:return $b(e,n,r);case 22:return Op(e,n,r,n.pendingProps);case 24:return Fs(n),o=rn(De),e===null?(h=Gh(),h===null&&(h=ue,f=Hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Yh(n),Hr(n,De,h)):((e.lanes&r)!==0&&(Qh(e,n),rl(n,null,null,r),il()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hr(n,De,o)):(o=f.cache,Hr(n,De,o),o!==h.cache&&jh(n,[De],r,!0))),sn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function hr(e){e.flags|=4}function xf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(my())e.flags|=8192;else throw Ks=Ou,Fh}else e.flags&=-16777217}function Hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!iv(n))if(my())e.flags|=8192;else throw Ks=Ou,Fh}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ge():536870912,e.lanes|=n,Ga|=n)}function cl(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function Jb(e,n,r){var o=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),or(De),zt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Da(n)?hr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zh())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(hr(n),f!==null?(fe(n),Hp(n,f)):(fe(n),xf(n,h,null,o,r))):f?f!==e.memoizedState?(hr(n),fe(n),Hp(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&hr(n),fe(n),xf(n,h,e,o,r)),null;case 27:if(gn(n),r=pt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&hr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return fe(n),null}e=tt.current,Da(n)?bg(n):(e=Xy(h,o,r),n.stateNode=e,hr(n))}return fe(n),null;case 5:if(gn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&hr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return fe(n),null}if(f=tt.current,Da(n))bg(n);else{var g=cc(pt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ie]=n,f[Fe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&hr(n)}}return fe(n),xf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&hr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=pt.current,Da(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||zy(e.nodeValue,r)),e||jr(n,!0)}else e=cc(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return fe(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Da(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ie]=n}else qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else r=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return fe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Da(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ie]=n}else qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),fe(n),null);case 4:return zt(),e===null&&Zf(n.stateNode.containerInfo),fe(n),null;case 10:return or(n.type),fe(n),null;case 19:if(Q(Se),o=n.memoizedState,o===null)return fe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)cl(o,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,cl(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)pg(r,e),r=r.sibling;return F(Se,Se.current&1|2),Ht&&sr(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ze()>tc&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),cl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ht)return fe(n),null}else 2*Ze()-o.renderingStartTime>tc&&r!==536870912&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,r=Se.current,F(Se,h?r&1|2:r&1),Ht&&sr(n,o.treeForkCount),e):(fe(n),null);case 22:case 23:return Pn(n),Zh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Ys),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),or(De),fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Wb(e,n){switch(Lh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return or(De),zt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return gn(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));qs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Se),null;case 4:return zt(),null;case 10:return or(n.type),null;case 22:case 23:return Pn(n),Zh(),e!==null&&Q(Ys),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return or(De),null;case 25:return null;default:return null}}function qp(e,n){switch(Lh(n),n.tag){case 3:or(De),zt();break;case 26:case 27:case 5:gn(n);break;case 4:zt();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:Q(Se);break;case 10:or(n.type);break;case 22:case 23:Pn(n),Zh(),e!==null&&Q(Ys);break;case 24:or(De)}}function hl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(b){ie(n,n.return,b)}}function Kr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,h=n;var I=r,P=b;try{P()}catch(Y){ie(h,I,Y)}}}o=o.next}while(o!==f)}}catch(Y){ie(n,n.return,Y)}}function Gp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Vg(n,r)}catch(o){ie(e,e.return,o)}}}function Fp(e,n,r){r.props=Zs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){ie(e,n,o)}}function fl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){ie(e,n,h)}}function Hi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){ie(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ie(e,n,h)}else r.current=null}function Yp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){ie(e,e.return,h)}}function Nf(e,n,r){try{var o=e.stateNode;bT(o,e.type,r,n),o[Fe]=n}catch(h){ie(e,e.return,h)}}function Qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&es(e.type)||e.tag===4}function Df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&es(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=hi));else if(o!==4&&(o===27&&es(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Of(e,n,r),e=e.sibling;e!==null;)Of(e,n,r),e=e.sibling}function $u(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&es(e.type)&&(r=e.stateNode),e=e.child,e!==null))for($u(e,n,r),e=e.sibling;e!==null;)$u(e,n,r),e=e.sibling}function Kp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,r),n[Ie]=e,n[Fe]=r}catch(f){ie(e,e.return,f)}}var fr=!1,Ve=!1,Mf=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function tT(e,n){if(e=e.containerInfo,td=yc,e=og(e),Ah(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,b=-1,I=-1,P=0,Y=0,X=e,B=null;e:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(b=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===r&&++P===h&&(b=g),B===f&&++Y===o&&(I=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}r=b===-1||I===-1?null:{start:b,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(ed={focusedElem:e,selectionRange:r},yc=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ct=Zs(r.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(bt){ie(r,r.return,bt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)rd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function $p(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:mr(e,r),o&4&&hl(5,r);break;case 1:if(mr(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){ie(r,r.return,g)}else{var h=Zs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ie(r,r.return,g)}}o&64&&Gp(r),o&512&&fl(r,r.return);break;case 3:if(mr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Vg(e,n)}catch(g){ie(r,r.return,g)}}break;case 27:n===null&&o&4&&Kp(r);case 26:case 5:mr(e,r),n===null&&o&4&&Yp(r),o&512&&fl(r,r.return);break;case 12:mr(e,r);break;case 31:mr(e,r),o&4&&Wp(e,r);break;case 13:mr(e,r),o&4&&ty(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=uT.bind(null,r),xT(e,r))));break;case 22:if(o=r.memoizedState!==null||fr,!o){n=n!==null&&n.memoizedState!==null||Ve,h=fr;var f=Ve;fr=o,(Ve=n)&&!f?gr(e,r,(r.subtreeFlags&8772)!==0):mr(e,r),fr=h,Ve=f}break;case 30:break;default:mr(e,r)}}function Zp(e){var n=e.alternate;n!==null&&(e.alternate=null,Zp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ma(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,wn=!1;function dr(e,n,r){for(r=r.child;r!==null;)Jp(e,n,r),r=r.sibling}function Jp(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Dn,r)}catch{}switch(r.tag){case 26:Ve||Hi(r,n),dr(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ve||Hi(r,n);var o=ge,h=wn;es(r.type)&&(ge=r.stateNode,wn=!1),dr(e,n,r),bl(r.stateNode),ge=o,wn=h;break;case 5:Ve||Hi(r,n);case 6:if(o=ge,h=wn,ge=null,dr(e,n,r),ge=o,wn=h,ge!==null)if(wn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(r.stateNode)}catch(f){ie(r,n,f)}else try{ge.removeChild(r.stateNode)}catch(f){ie(r,n,f)}break;case 18:ge!==null&&(wn?(e=ge,Gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ja(e)):Gy(ge,r.stateNode));break;case 4:o=ge,h=wn,ge=r.stateNode.containerInfo,wn=!0,dr(e,n,r),ge=o,wn=h;break;case 0:case 11:case 14:case 15:Kr(2,r,n),Ve||Kr(4,r,n),dr(e,n,r);break;case 1:Ve||(Hi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Fp(r,n,o)),dr(e,n,r);break;case 21:dr(e,n,r);break;case 22:Ve=(o=Ve)||r.memoizedState!==null,dr(e,n,r),Ve=o;break;default:dr(e,n,r)}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ja(e)}catch(r){ie(n,n.return,r)}}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ja(e)}catch(r){ie(n,n.return,r)}}function eT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xp),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var r=eT(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=cT.bind(null,e,o);o.then(h,h)}})}function An(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,b=g;t:for(;b!==null;){switch(b.tag){case 27:if(es(b.type)){ge=b.stateNode,wn=!1;break t}break;case 5:ge=b.stateNode,wn=!1;break t;case 3:case 4:ge=b.stateNode.containerInfo,wn=!0;break t}b=b.return}if(ge===null)throw Error(a(160));Jp(f,g,h),ge=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ey(n,e),n=n.sibling}var yi=null;function ey(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(n,e),Rn(e),o&4&&(Kr(3,e,e.return),hl(3,e),Kr(5,e,e.return));break;case 1:An(n,e),Rn(e),o&512&&(Ve||r===null||Hi(r,r.return)),o&64&&fr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=yi;if(An(n,e),Rn(e),o&512&&(Ve||r===null||Hi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ii]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,r),f[Ie]=e,xe(f),o=f;break t;case"link":var g=ev("link","href",h).get(o+(r.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(b,1);break e}}f=h.createElement(o),an(f,o,r),h.head.appendChild(f);break;case"meta":if(g=ev("meta","content",h).get(o+(r.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(b,1);break e}}f=h.createElement(o),an(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ie]=e,xe(f),o=f}e.stateNode=o}else nv(h,e.type,e.stateNode);else e.stateNode=tv(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?nv(h,e.type,e.stateNode):tv(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,r.memoizedProps)}break;case 27:An(n,e),Rn(e),o&512&&(Ve||r===null||Hi(r,r.return)),r!==null&&o&4&&Nf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(An(n,e),Rn(e),o&512&&(Ve||r===null||Hi(r,r.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(ct){ie(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Nf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Mf=!0);break;case 6:if(An(n,e),Rn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ct){ie(e,e.return,ct)}}break;case 3:if(dc=null,h=yi,yi=hc(n.containerInfo),An(n,e),yi=h,Rn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(ct){ie(e,e.return,ct)}Mf&&(Mf=!1,ny(e));break;case 4:o=yi,yi=hc(e.stateNode.containerInfo),An(n,e),Rn(e),yi=o;break;case 12:An(n,e),Rn(e);break;case 31:An(n,e),Rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:An(n,e),Rn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wu=Ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=fr,Y=Ve;if(fr=P||h,Ve=Y||I,An(n,e),Ve=Y,fr=P,Rn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||fr||Ve||Js(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=I.stateNode;var X=I.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){ie(I,I.return,ct)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ct){ie(I,I.return,ct)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?Fy(H,!0):Fy(I.stateNode,!1)}catch(ct){ie(I,I.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Zu(e,r))));break;case 19:An(n,e),Rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:An(n,e),Rn(e)}}function Rn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Qp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Df(e);$u(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Sn(g,""),r.flags&=-33);var b=Df(e);$u(e,b,g);break;case 3:case 4:var I=r.stateNode.containerInfo,P=Df(e);Of(e,P,I);break;default:throw Error(a(161))}}catch(Y){ie(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function mr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(e,n.alternate,n),n=n.sibling}function Js(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Kr(4,n,n.return),Js(n);break;case 1:Hi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Fp(n,n.return,r),Js(n);break;case 27:bl(n.stateNode);case 26:case 5:Hi(n,n.return),Js(n);break;case 22:n.memoizedState===null&&Js(n);break;case 30:Js(n);break;default:Js(n)}e=e.sibling}}function gr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:gr(h,f,r),hl(4,f);break;case 1:if(gr(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){ie(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Mg(I[h],b)}catch(P){ie(o,o.return,P)}}r&&g&64&&Gp(f),fl(f,f.return);break;case 27:Kp(f);case 26:case 5:gr(h,f,r),r&&o===null&&g&4&&Yp(f),fl(f,f.return);break;case 12:gr(h,f,r);break;case 31:gr(h,f,r),r&&g&4&&Wp(h,f);break;case 13:gr(h,f,r),r&&g&4&&ty(h,f);break;case 22:f.memoizedState===null&&gr(h,f,r),fl(f,f.return);break;case 30:break;default:gr(h,f,r)}n=n.sibling}}function Vf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Jo(r))}function kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Jo(e))}function vi(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)iy(e,n,r,o),n=n.sibling}function iy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(e,n,r,o),h&2048&&hl(9,n);break;case 1:vi(e,n,r,o);break;case 3:vi(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Jo(e)));break;case 12:if(h&2048){vi(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ie(n,n.return,I)}}else vi(e,n,r,o);break;case 31:vi(e,n,r,o);break;case 13:vi(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?vi(e,n,r,o):dl(e,n):f._visibility&2?vi(e,n,r,o):(f._visibility|=2,ja(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Vf(g,n);break;case 24:vi(e,n,r,o),h&2048&&kf(n.alternate,n);break;default:vi(e,n,r,o)}}function ja(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,b=r,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:ja(f,g,b,I,h),hl(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?ja(f,g,b,I,h):dl(f,g):(Y._visibility|=2,ja(f,g,b,I,h)),h&&P&2048&&Vf(g.alternate,g);break;case 24:ja(f,g,b,I,h),h&&P&2048&&kf(g.alternate,g);break;default:ja(f,g,b,I,h)}n=n.sibling}}function dl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:dl(r,o),h&2048&&Vf(o.alternate,o);break;case 24:dl(r,o),h&2048&&kf(o.alternate,o);break;default:dl(r,o)}n=n.sibling}}var ml=8192;function Ha(e,n,r){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)ry(e,n,r),e=e.sibling}function ry(e,n,r){switch(e.tag){case 26:Ha(e,n,r),e.flags&ml&&e.memoizedState!==null&&jT(r,yi,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,n,r);break;case 3:case 4:var o=yi;yi=hc(e.stateNode.containerInfo),Ha(e,n,r),yi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ml,ml=16777216,Ha(e,n,r),ml=o):Ha(e,n,r));break;default:Ha(e,n,r)}}function sy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function gl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qe=o,oy(o,e)}sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&Kr(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):gl(e);break;default:gl(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qe=o,oy(o,e)}sy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Kr(8,n,n.return),Ju(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function oy(e,n){for(;Qe!==null;){var r=Qe;switch(r.tag){case 0:case 11:case 15:Kr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Jo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Qe=o;else t:for(r=e;Qe!==null;){o=Qe;var h=o.sibling,f=o.return;if(Zp(o),o===r){Qe=null;break t}if(h!==null){h.return=f,Qe=h;break t}Qe=f}}}var nT={getCacheForType:function(e){var n=rn(De),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return rn(De).controller.signal}},iT=typeof WeakMap=="function"?WeakMap:Map,Jt=0,ue=null,Lt=null,Pt=0,ne=0,Bn=null,Xr=!1,qa=!1,Lf=!1,pr=0,Ee=0,$r=0,Ws=0,Uf=0,jn=0,Ga=0,pl=null,Cn=null,zf=!1,Wu=0,ly=0,tc=1/0,ec=null,Zr=null,Pe=0,Jr=null,Fa=null,yr=0,Pf=0,Bf=null,uy=null,yl=0,jf=null;function Hn(){return(Jt&2)!==0&&Pt!==0?Pt&-Pt:U.T!==null?Qf():No()}function cy(){if(jn===0)if((Pt&536870912)===0||Ht){var e=tr;tr<<=1,(tr&3932160)===0&&(tr=262144),jn=e}else jn=536870912;return e=zn.current,e!==null&&(e.flags|=32),jn}function In(e,n,r){(e===ue&&(ne===2||ne===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),Wr(e,Pt,jn,!1)),ce(e,r),((Jt&2)===0||e!==ue)&&(e===ue&&((Jt&2)===0&&(Ws|=r),Ee===4&&Wr(e,Pt,jn,!1)),qi(e))}function hy(e,n,r){if((Jt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||te(e,n),h=o?aT(e,n):qf(e,n,!0),f=o;do{if(h===0){qa&&!o&&Wr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!rT(r)){h=qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var b=e;h=pl;var I=b.current.memoizedState.isDehydrated;if(I&&(Ya(b,g).flags|=256),g=qf(b,g,!1),g!==2){if(Lf&&!I){b.errorRecoveryDisabledLanes|=f,Ws|=f,h=4;break t}f=Cn,Cn=h,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ya(e,0),Wr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Wr(o,n,jn,!Xr);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-Ze(),10<h)){if(Wr(o,n,jn,!Xr),Et(o,0,!0)!==0)break t;yr=n,o.timeoutHandle=Hy(fy.bind(null,o,r,Cn,ec,zf,n,jn,Ws,Ga,Xr,f,"Throttled",-0,0),h);break t}fy(o,r,Cn,ec,zf,n,jn,Ws,Ga,Xr,f,null,-0,0)}}break}while(!0);qi(e)}function fy(e,n,r,o,h,f,g,b,I,P,Y,X,B,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},ry(n,f,X);var ct=(f&62914560)===f?Wu-Ze():(f&4194048)===f?ly-Ze():0;if(ct=HT(X,ct),ct!==null){yr=f,e.cancelPendingCommit=ct(Ey.bind(null,e,n,f,r,o,h,g,b,I,Y,X,null,B,H)),Wr(e,f,g,!P);return}}Ey(e,n,f,r,o,h,g,b,I)}function rT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wr(e,n,r,o){n&=~Uf,n&=~Ws,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Gn(e,r,n)}function nc(){return(Jt&6)===0?(vl(0),!1):!0}function Hf(){if(Lt!==null){if(ne===0)var e=Lt.return;else e=Lt,ar=Gs=null,rf(e),La=null,tl=0,e=Lt;for(;e!==null;)qp(e.alternate,e),e=e.return;Lt=null}}function Ya(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,wT(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),yr=0,Hf(),ue=e,Lt=r=rr(e.current,null),Pt=n,ne=0,Bn=null,Xr=!1,qa=te(e,n),Lf=!1,Ga=jn=Uf=Ws=$r=Ee=0,Cn=pl=null,zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return pr=n,Su(),r}function dy(e,n){Ot=null,U.H=ll,n===ka||n===Du?(n=xg(),ne=3):n===Fh?(n=xg(),ne=4):ne=n===Ef?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bn=n,Lt===null&&(Ee=1,Fu(e,$n(n,e.current)))}function my(){var e=zn.current;return e===null?!0:(Pt&4194048)===Pt?ti===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===ti:!1}function gy(){var e=U.H;return U.H=ll,e===null?ll:e}function py(){var e=U.A;return U.A=nT,e}function ic(){Ee=4,Xr||(Pt&4194048)!==Pt&&zn.current!==null||(qa=!0),($r&134217727)===0&&(Ws&134217727)===0||ue===null||Wr(ue,Pt,jn,!1)}function qf(e,n,r){var o=Jt;Jt|=2;var h=gy(),f=py();(ue!==e||Pt!==n)&&(ec=null,Ya(e,n)),n=!1;var g=Ee;t:do try{if(ne!==0&&Lt!==null){var b=Lt,I=Bn;switch(ne){case 8:Hf(),g=6;break t;case 3:case 2:case 9:case 6:zn.current===null&&(n=!0);var P=ne;if(ne=0,Bn=null,Qa(e,b,I,P),r&&qa){g=0;break t}break;default:P=ne,ne=0,Bn=null,Qa(e,b,I,P)}}sT(),g=Ee;break}catch(Y){dy(e,Y)}while(!0);return n&&e.shellSuspendCounter++,ar=Gs=null,Jt=o,U.H=h,U.A=f,Lt===null&&(ue=null,Pt=0,Su()),g}function sT(){for(;Lt!==null;)yy(Lt)}function aT(e,n){var r=Jt;Jt|=2;var o=gy(),h=py();ue!==e||Pt!==n?(ec=null,tc=Ze()+500,Ya(e,n)):qa=te(e,n);t:do try{if(ne!==0&&Lt!==null){n=Lt;var f=Bn;e:switch(ne){case 1:ne=0,Bn=null,Qa(e,n,f,1);break;case 2:case 9:if(Cg(f)){ne=0,Bn=null,vy(n);break}n=function(){ne!==2&&ne!==9||ue!==e||(ne=7),qi(e)},f.then(n,n);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:Cg(f)?(ne=0,Bn=null,vy(n)):(ne=0,Bn=null,Qa(e,n,f,7));break;case 5:var g=null;switch(Lt.tag){case 26:g=Lt.memoizedState;case 5:case 27:var b=Lt;if(g?iv(g):b.stateNode.complete){ne=0,Bn=null;var I=b.sibling;if(I!==null)Lt=I;else{var P=b.return;P!==null?(Lt=P,rc(P)):Lt=null}break e}}ne=0,Bn=null,Qa(e,n,f,5);break;case 6:ne=0,Bn=null,Qa(e,n,f,6);break;case 8:Hf(),Ee=6;break t;default:throw Error(a(462))}}oT();break}catch(Y){dy(e,Y)}while(!0);return ar=Gs=null,U.H=o,U.A=h,Jt=r,Lt!==null?0:(ue=null,Pt=0,Su(),Ee)}function oT(){for(;Lt!==null&&!$e();)yy(Lt)}function yy(e){var n=jp(e.alternate,e,pr);e.memoizedProps=e.pendingProps,n===null?rc(e):Lt=n}function vy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=kp(r,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=kp(r,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:rf(n);default:qp(r,n),n=Lt=pg(n,pr),n=jp(r,n,pr)}e.memoizedProps=e.pendingProps,n===null?rc(e):Lt=n}function Qa(e,n,r,o){ar=Gs=null,rf(n),La=null,tl=0;var h=n.return;try{if(Xb(e,h,n,r,Pt)){Ee=1,Fu(e,$n(r,e.current)),Lt=null;return}}catch(f){if(h!==null)throw Lt=h,f;Ee=1,Fu(e,$n(r,e.current)),Lt=null;return}n.flags&32768?(Ht||o===1?e=!0:qa||(Pt&536870912)!==0?e=!1:(Xr=e=!0,(o===2||o===9||o===3||o===6)&&(o=zn.current,o!==null&&o.tag===13&&(o.flags|=16384))),_y(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){_y(n,Xr);return}e=n.return;var r=Jb(n.alternate,n,pr);if(r!==null){Lt=r;return}if(n=n.sibling,n!==null){Lt=n;return}Lt=n=e}while(n!==null);Ee===0&&(Ee=5)}function _y(e,n){do{var r=Wb(e.alternate,e);if(r!==null){r.flags&=32767,Lt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=r}while(e!==null);Ee=6,Lt=null}function Ey(e,n,r,o,h,f,g,b,I){e.cancelPendingCommit=null;do sc();while(Pe!==0);if((Jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Nh,un(e,r,f,g,b,I),e===ue&&(Lt=ue=null,Pt=0),Fa=n,Jr=e,yr=r,Pf=f,Bf=h,uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hT(ai,function(){return Ay(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,h=et.p,et.p=2,g=Jt,Jt|=4;try{tT(e,n,r)}finally{Jt=g,et.p=h,U.T=o}}Pe=1,by(),Ty(),Sy()}}function by(){if(Pe===1){Pe=0;var e=Jr,n=Fa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var o=et.p;et.p=2;var h=Jt;Jt|=4;try{ey(n,e);var f=ed,g=og(e.containerInfo),b=f.focusedElem,I=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&ag(b.ownerDocument.documentElement,b)){if(I!==null&&Ah(b)){var P=I.start,Y=I.end;if(Y===void 0&&(Y=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(Y,b.value.length);else{var X=b.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=b.textContent.length,bt=Math.min(I.start,ct),oe=I.end===void 0?bt:Math.min(I.end,ct);!H.extend&&bt>oe&&(g=oe,oe=bt,bt=g);var k=sg(b,bt),D=sg(b,oe);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var z=X.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),bt>oe?(H.addRange(z),H.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),H.addRange(z))}}}}for(X=[],H=b;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var K=X[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}yc=!!td,ed=td=null}finally{Jt=h,et.p=o,U.T=r}}e.current=n,Pe=2}}function Ty(){if(Pe===2){Pe=0;var e=Jr,n=Fa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var o=et.p;et.p=2;var h=Jt;Jt|=4;try{$p(e,n.alternate,n)}finally{Jt=h,et.p=o,U.T=r}}Pe=3}}function Sy(){if(Pe===4||Pe===3){Pe=0,si();var e=Jr,n=Fa,r=yr,o=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Fa=Jr=null,wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Zr=null),tn(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Dn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=U.T,h=et.p,et.p=2,U.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var b=o[g];f(b.value,{componentStack:b.stack})}}finally{U.T=n,et.p=h}}(yr&3)!==0&&sc(),qi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===jf?yl++:(yl=0,jf=e):yl=0,vl(0)}}function wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Jo(n)))}function sc(){return by(),Ty(),Sy(),Ay()}function Ay(){if(Pe!==5)return!1;var e=Jr,n=Pf;Pf=0;var r=tn(yr),o=U.T,h=et.p;try{et.p=32>r?32:r,U.T=null,r=Bf,Bf=null;var f=Jr,g=yr;if(Pe=0,Fa=Jr=null,yr=0,(Jt&6)!==0)throw Error(a(331));var b=Jt;if(Jt|=4,ay(f.current),iy(f,f.current,g,r),Jt=b,vl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Dn,f)}catch{}return!0}finally{et.p=h,U.T=o,wy(e,n)}}function Ry(e,n,r){n=$n(r,n),n=_f(e.stateNode,n,2),e=Fr(e,n,2),e!==null&&(ce(e,2),qi(e))}function ie(e,n,r){if(e.tag===3)Ry(e,e,r);else for(;n!==null;){if(n.tag===3){Ry(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zr===null||!Zr.has(o))){e=$n(r,e),r=Cp(2),o=Fr(n,r,2),o!==null&&(Ip(r,o,n,e),ce(o,2),qi(o));break}}n=n.return}}function Gf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new iT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Lf=!0,h.add(r),e=lT.bind(null,e,n,r),n.then(e,e))}function lT(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ue===e&&(Pt&r)===r&&(Ee===4||Ee===3&&(Pt&62914560)===Pt&&300>Ze()-Wu?(Jt&2)===0&&Ya(e,0):Uf|=r,Ga===Pt&&(Ga=0)),qi(e)}function Cy(e,n){n===0&&(n=Ge()),e=js(e,n),e!==null&&(ce(e,n),qi(e))}function uT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Cy(e,r)}function cT(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Cy(e,r)}function hT(e,n){return be(e,n)}var ac=null,Ka=null,Ff=!1,oc=!1,Yf=!1,ts=0;function qi(e){e!==Ka&&e.next===null&&(Ka===null?ac=Ka=e:Ka=Ka.next=e),oc=!0,Ff||(Ff=!0,dT())}function vl(e,n){if(!Yf&&oc){Yf=!0;do for(var r=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Dy(o,f))}else f=Pt,f=Et(o,o===ue?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||te(o,f)||(r=!0,Dy(o,f));o=o.next}while(r);Yf=!1}}function fT(){Iy()}function Iy(){oc=Ff=!1;var e=0;ts!==0&&ST()&&(e=ts);for(var n=Ze(),r=null,o=ac;o!==null;){var h=o.next,f=xy(o,n);f===0?(o.next=null,r===null?ac=h:r.next=h,h===null&&(Ka=r)):(r=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Pe!==0&&Pe!==5||vl(e),ts!==0&&(ts=0)}function xy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),b=1<<g,I=h[g];I===-1?((b&r)===0||(b&o)!==0)&&(h[g]=Ce(b,n)):I<=n&&(e.expiredLanes|=b),f&=~b}if(n=ue,r=Pt,r=Et(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(ne===2||ne===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Si(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||te(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Si(o),tn(r)){case 2:case 8:r=Cs;break;case 32:r=ai;break;case 268435456:r=oi;break;default:r=ai}return o=Ny.bind(null,e),r=be(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Si(o),e.callbackPriority=2,e.callbackNode=null,2}function Ny(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(sc()&&e.callbackNode!==r)return null;var o=Pt;return o=Et(e,e===ue?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(hy(e,o,n),xy(e,Ze()),e.callbackNode!=null&&e.callbackNode===r?Ny.bind(null,e):null)}function Dy(e,n){if(sc())return null;hy(e,n,!0)}function dT(){AT(function(){(Jt&6)!==0?be(wi,fT):Iy()})}function Qf(){if(ts===0){var e=Ma;e===0&&(e=qn,qn<<=1,(qn&261888)===0&&(qn=256)),ts=e}return ts}function Oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:va(""+e)}function My(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function mT(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Oy((h[Fe]||null).action),g=o.submitter;g&&(n=(n=g[Fe]||null)?Oy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var b=new Li("action","action",null,o,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ts!==0){var I=g?My(h,g):new FormData(h);df(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(b.preventDefault(),I=g?My(h,g):new FormData(h),df(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Kf=0;Kf<xh.length;Kf++){var Xf=xh[Kf],gT=Xf.toLowerCase(),pT=Xf[0].toUpperCase()+Xf.slice(1);pi(gT,"on"+pT)}pi(cg,"onAnimationEnd"),pi(hg,"onAnimationIteration"),pi(fg,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(Ob,"onTransitionRun"),pi(Mb,"onTransitionStart"),pi(Vb,"onTransitionCancel"),pi(dg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function Vy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var b=o[g],I=b.instance,P=b.currentTarget;if(b=b.listener,I!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=P;try{f(h)}catch(Y){Tu(Y)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(b=o[g],I=b.instance,P=b.currentTarget,b=b.listener,I!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=P;try{f(h)}catch(Y){Tu(Y)}h.currentTarget=null,f=I}}}}function Ut(e,n){var r=n[da];r===void 0&&(r=n[da]=new Set);var o=e+"__bubble";r.has(o)||(ky(n,e,2,!1),r.add(o))}function $f(e,n,r){var o=0;n&&(o|=4),ky(r,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[lc]){e[lc]=!0,Do.forEach(function(r){r!=="selectionchange"&&(yT.has(r)||$f(r,!1,e),$f(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,$f("selectionchange",!1,n))}}function ky(e,n,r,o){switch(cv(n)){case 2:var h=FT;break;case 8:h=YT;break;default:h=fd}r=h.bind(null,n,r,e),h=void 0,!Ms||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Jf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var b=o.stateNode.containerInfo;if(b===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;b!==null;){if(g=xi(b),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}b=b.parentNode}}o=o.return}kr(function(){var P=f,Y=Yn(r),X=[];t:{var B=mg.get(e);if(B!==void 0){var H=Li,ct=e;switch(e){case"keypress":if(ks(r)===0)break t;case"keydown":case"keyup":H=_u;break;case"focusin":ct="focus",H=Us;break;case"focusout":ct="blur",H=Us;break;case"beforeblur":case"afterblur":H=Us;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case cg:case hg:case fg:H=fu;break;case dg:H=T;break;case"scroll":case"scrollend":H=qo;break;case"wheel":H=j;break;case"copy":case"cut":case"paste":H=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ir;break;case"toggle":case"beforetoggle":H=Dt}var bt=(n&4)!==0,oe=!bt&&(e==="scroll"||e==="scrollend"),k=bt?B!==null?B+"Capture":null:B;bt=[];for(var D=P,z;D!==null;){var K=D;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||k===null||(K=fi(D,k),K!=null&&bt.push(El(D,K,z))),oe)break;D=D.return}0<bt.length&&(B=new H(B,ct,null,r,Y),X.push({event:B,listeners:bt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&r!==Bo&&(ct=r.relatedTarget||r.fromElement)&&(xi(ct)||ct[Ci]))break t;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=r.relatedTarget||r.toElement,H=P,ct=ct?xi(ct):null,ct!==null&&(oe=c(ct),bt=ct.tag,ct!==oe||bt!==5&&bt!==27&&bt!==6)&&(ct=null)):(H=null,ct=P),H!==ct)){if(bt=Go,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(bt=ir,K="onPointerLeave",k="onPointerEnter",D="pointer"),oe=H==null?B:Vn(H),z=ct==null?B:Vn(ct),B=new bt(K,D+"leave",H,r,Y),B.target=oe,B.relatedTarget=z,K=null,xi(Y)===P&&(bt=new bt(k,D+"enter",ct,r,Y),bt.target=z,bt.relatedTarget=oe,K=bt),oe=K,H&&ct)e:{for(bt=vT,k=H,D=ct,z=0,K=k;K;K=bt(K))z++;K=0;for(var yt=D;yt;yt=bt(yt))K++;for(;0<z-K;)k=bt(k),z--;for(;0<K-z;)D=bt(D),K--;for(;z--;){if(k===D||D!==null&&k===D.alternate){bt=k;break e}k=bt(k),D=bt(D)}bt=null}else bt=null;H!==null&&Ly(X,B,H,bt,!1),ct!==null&&oe!==null&&Ly(X,oe,ct,bt,!0)}}t:{if(B=P?Vn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Xt=Wm;else if(Zm(B))if(tg)Xt=xb;else{Xt=Cb;var dt=Rb}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ya(P.elementType)&&(Xt=Wm):Xt=Ib;if(Xt&&(Xt=Xt(e,P))){Jm(X,Xt,r,Y);break t}dt&&dt(e,B,P),e==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Uo(B,"number",B.value)}switch(dt=P?Vn(P):window,e){case"focusin":(Zm(dt)||dt.contentEditable==="true")&&(Aa=dt,Rh=P,Xo=null);break;case"focusout":Xo=Rh=Aa=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,lg(X,r,Y);break;case"selectionchange":if(Db)break;case"keydown":case"keyup":lg(X,r,Y)}var Mt;if(Zt)t:{switch(e){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else wa?zs(e,r)&&(Bt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Bt="onCompositionStart");Bt&&(Pi&&r.locale!=="ko"&&(wa||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&wa&&(Mt=Ho()):(ki=Y,jo="value"in ki?ki.value:ki.textContent,wa=!0)),dt=uc(P,Bt),0<dt.length&&(Bt=new zi(Bt,e,null,r,Y),X.push({event:Bt,listeners:dt}),Mt?Bt.data=Mt:(Mt=Sa(r),Mt!==null&&(Bt.data=Mt)))),(Mt=Kn?Tb(e,r):Sb(e,r))&&(Bt=uc(P,"onBeforeInput"),0<Bt.length&&(dt=new zi("onBeforeInput","beforeinput",null,r,Y),X.push({event:dt,listeners:Bt}),dt.data=Mt)),mT(X,e,P,r,Y)}Vy(X,n)})}function El(e,n,r){return{instance:e,listener:n,currentTarget:r}}function uc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=fi(e,r),h!=null&&o.unshift(El(e,h,f)),h=fi(e,n),h!=null&&o.push(El(e,h,f))),e.tag===3)return o;e=e.return}return[]}function vT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ly(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var b=r,I=b.alternate,P=b.stateNode;if(b=b.tag,I!==null&&I===o)break;b!==5&&b!==26&&b!==27||P===null||(I=P,h?(P=fi(r,f),P!=null&&g.unshift(El(r,P,I))):h||(P=fi(r,f),P!=null&&g.push(El(r,P,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var _T=/\r\n?/g,ET=/\u0000|\uFFFD/g;function Uy(e){return(typeof e=="string"?e:""+e).replace(_T,`
`).replace(ET,"")}function zy(e,n){return n=Uy(n),Uy(e)===n}function ae(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Sn(e,""+o);break;case"className":kn(e,"class",o);break;case"tabIndex":kn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(e,r,o);break;case"style":Po(e,o,f);break;case"data":if(n!=="object"){kn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=va(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ae(e,n,"name",h.name,h,null),ae(e,n,"formEncType",h.formEncType,h,null),ae(e,n,"formMethod",h.formMethod,h,null),ae(e,n,"formTarget",h.formTarget,h,null)):(ae(e,n,"encType",h.encType,h,null),ae(e,n,"method",h.method,h,null),ae(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=va(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=hi);break;case"onScroll":o!=null&&Ut("scroll",e);break;case"onScrollEnd":o!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=va(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),ga(e,"popover",o);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uu.get(r)||r,ga(e,r,o))}}function Wf(e,n,r,o,h,f){switch(r){case"style":Po(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&Sn(e,""+o);break;case"onScroll":o!=null&&Ut("scroll",e);break;case"onScrollEnd":o!=null&&Ut("scrollend",e);break;case"onClick":o!=null&&(e.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ga(e,r,o)}}}function an(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ae(e,n,f,g,r,null)}}h&&ae(e,n,"srcSet",r.srcSet,r,null),o&&ae(e,n,"src",r.src,r,null);return;case"input":Ut("invalid",e);var b=f=g=h=null,I=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var Y=r[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":I=Y;break;case"defaultChecked":P=Y;break;case"value":f=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:ae(e,n,o,Y,r,null)}}au(e,f,b,I,P,g,h,!1);return;case"select":Ut("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":o=b;default:ae(e,n,h,b,r,null)}n=f,r=g,e.multiple=!!o,n!=null?Dr(e,!!o,n,!1):r!=null&&Dr(e,!!o,r,!0);return;case"textarea":Ut("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(b=r[g],b!=null))switch(g){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:ae(e,n,g,b,r,null)}Or(e,o,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(o=r[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ae(e,n,I,o,r,null)}return;case"dialog":Ut("beforetoggle",e),Ut("toggle",e),Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(o=0;o<_l.length;o++)Ut(_l[o],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ae(e,n,P,o,r,null)}return;default:if(ya(n)){for(Y in r)r.hasOwnProperty(Y)&&(o=r[Y],o!==void 0&&Wf(e,n,Y,o,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(o=r[b],o!=null&&ae(e,n,b,o,r,null))}function bT(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,b=null,I=null,P=null,Y=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(H)||ae(e,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=r[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Y=H;break;case"value":g=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ae(e,n,B,H,o,X)}}pa(e,g,b,I,P,Y,f,h);return;case"select":H=g=b=B=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||ae(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==I&&ae(e,n,h,f,o,I)}n=b,r=g,o=H,B!=null?Dr(e,!!r,B,!1):!!o!=!!r&&(n!=null?Dr(e,!!r,n,!0):Dr(e,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ae(e,n,b,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ae(e,n,g,h,o,f)}ou(e,B,H);return;case"option":for(var ct in r)if(B=r[ct],r.hasOwnProperty(ct)&&B!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:ae(e,n,ct,null,o,B)}for(I in o)if(B=o[I],H=r[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ae(e,n,I,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in r)B=r[bt],r.hasOwnProperty(bt)&&B!=null&&!o.hasOwnProperty(bt)&&ae(e,n,bt,null,o,B);for(P in o)if(B=o[P],H=r[P],o.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ae(e,n,P,B,o,H)}return;default:if(ya(n)){for(var oe in r)B=r[oe],r.hasOwnProperty(oe)&&B!==void 0&&!o.hasOwnProperty(oe)&&Wf(e,n,oe,void 0,o,B);for(Y in o)B=o[Y],H=r[Y],!o.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||Wf(e,n,Y,B,o,H);return}}for(var k in r)B=r[k],r.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ae(e,n,k,null,o,B);for(X in o)B=o[X],H=r[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||ae(e,n,X,B,o,H)}function Py(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,b=h.duration;if(f&&b&&Py(g)){for(g=0,b=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],P=I.startTime;if(P>b)break;var Y=I.transferSize,X=I.initiatorType;Y&&Py(X)&&(I=I.responseEnd,g+=Y*(I<b?1:(b-P)/(I-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var td=null,ed=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var id=null;function ST(){var e=window.event;return e&&e.type==="popstate"?e===id?!1:(id=e,!0):(id=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(e){return qy.resolve(null).then(e).catch(RT)}:Hy;function RT(e){setTimeout(function(){throw e})}function es(e){return e==="head"}function Gy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ja(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")bl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,bl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[Ii]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&bl(e.ownerDocument.body);r=h}while(r);Ja(n)}function Fy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rd(r),ma(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function CT(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ei(e.nextSibling),e===null)break}return null}function IT(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ei(e.nextSibling),e===null))return null;return e}function Yy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ei(e.nextSibling),e===null))return null;return e}function sd(e){return e.data==="$?"||e.data==="$~"}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xT(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ei(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var od=null;function Qy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return ei(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Ky(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Xy(e,n,r){switch(n=cc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function bl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ma(e)}var ni=new Map,$y=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vr=et.d;et.d={f:NT,r:DT,D:OT,C:MT,L:VT,m:kT,X:UT,S:LT,M:zT};function NT(){var e=vr.f(),n=nc();return e||n}function DT(e){var n=Fn(e);n!==null&&n.tag===5&&n.type==="form"?dp(n):vr.r(e)}var Xa=typeof document>"u"?null:document;function Zy(e,n,r){var o=Xa;if(o&&typeof n=="string"&&n){var h=Tn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),$y.has(h)||($y.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",e),xe(n),o.head.appendChild(n)))}}function OT(e){vr.D(e),Zy("dns-prefetch",e,null)}function MT(e,n){vr.C(e,n),Zy("preconnect",e,n)}function VT(e,n,r){vr.L(e,n,r);var o=Xa;if(o&&e&&n){var h='link[rel="preload"][as="'+Tn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Tn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Tn(r.imageSizes)+'"]')):h+='[href="'+Tn(e)+'"]';var f=h;switch(n){case"style":f=$a(e);break;case"script":f=Za(e)}ni.has(f)||(e=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),ni.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Tl(f))||n==="script"&&o.querySelector(Sl(f))||(n=o.createElement("link"),an(n,"link",e),xe(n),o.head.appendChild(n)))}}function kT(e,n){vr.m(e,n);var r=Xa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Tn(o)+'"][href="'+Tn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(e)}if(!ni.has(f)&&(e=E({rel:"modulepreload",href:e},n),ni.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sl(f)))return}o=r.createElement("link"),an(o,"link",e),xe(o),r.head.appendChild(o)}}}function LT(e,n,r){vr.S(e,n,r);var o=Xa;if(o&&e){var h=Ni(o).hoistableStyles,f=$a(e);n=n||"default";var g=h.get(f);if(!g){var b={loading:0,preload:null};if(g=o.querySelector(Tl(f)))b.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},r),(r=ni.get(f))&&ld(e,r);var I=g=o.createElement("link");xe(I),an(I,"link",e),I._p=new Promise(function(P,Y){I.onload=P,I.onerror=Y}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,fc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:b},h.set(f,g)}}}function UT(e,n){vr.X(e,n);var r=Xa;if(r&&e){var o=Ni(r).hoistableScripts,h=Za(e),f=o.get(h);f||(f=r.querySelector(Sl(h)),f||(e=E({src:e,async:!0},n),(n=ni.get(h))&&ud(e,n),f=r.createElement("script"),xe(f),an(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function zT(e,n){vr.M(e,n);var r=Xa;if(r&&e){var o=Ni(r).hoistableScripts,h=Za(e),f=o.get(h);f||(f=r.querySelector(Sl(h)),f||(e=E({src:e,async:!0,type:"module"},n),(n=ni.get(h))&&ud(e,n),f=r.createElement("script"),xe(f),an(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Jy(e,n,r,o){var h=(h=pt.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=$a(r.href),r=Ni(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=$a(r.href);var f=Ni(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(Tl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),ni.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ni.set(e,r),f||PT(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(r),r=Ni(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function $a(e){return'href="'+Tn(e)+'"'}function Tl(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function PT(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",r),xe(n),e.head.appendChild(n))}function Za(e){return'[src="'+Tn(e)+'"]'}function Sl(e){return"script[async]"+e}function tv(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Tn(r.href)+'"]');if(o)return n.instance=o,xe(o),o;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),xe(o),an(o,"style",h),fc(o,r.precedence,e),n.instance=o;case"stylesheet":h=$a(r.href);var f=e.querySelector(Tl(h));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;o=Wy(r),(h=ni.get(h))&&ld(o,h),f=(e.ownerDocument||e).createElement("link"),xe(f);var g=f;return g._p=new Promise(function(b,I){g.onload=b,g.onerror=I}),an(f,"link",o),n.state.loading|=4,fc(f,r.precedence,e),n.instance=f;case"script":return f=Za(r.src),(h=e.querySelector(Sl(f)))?(n.instance=h,xe(h),h):(o=r,(h=ni.get(f))&&(o=E({},r),ud(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),an(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,r.precedence,e));return n.instance}function fc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var b=o[g];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function ev(e,n,r){if(dc===null){var o=new Map,h=dc=new Map;h.set(r,o)}else h=dc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Ii]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var b=o.get(g);b?b.push(f):o.set(g,[f])}}return o}function nv(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function BT(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function jT(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=$a(o.href),f=n.querySelector(Tl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,xe(f);return}f=n.ownerDocument||n,o=Wy(o),(h=ni.get(h))&&ld(o,h),f=f.createElement("link"),xe(f);var g=f;g._p=new Promise(function(b,I){g.onload=b,g.onerror=I}),an(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=mc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var cd=0;function HT(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&cd===0&&(cd=62500*TT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>cd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(qT,e),gc=null,mc.call(e))}function qT(e,n){if(!(n.state.loading&4)){var r=gc.get(e);if(r)var o=r.get(null);else{r=new Map,gc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var wl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function GT(e,n,r,o,h,f,g,b,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yn(0),this.hiddenUpdates=yn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function rv(e,n,r,o,h,f,g,b,I,P,Y,X){return e=new GT(e,n,r,g,I,P,Y,X,b),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),e.current=f,f.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Yh(f),e}function sv(e){return e?(e=Ia,e):Ia}function av(e,n,r,o,h,f){h=sv(h),o.context===null?o.context=h:o.pendingContext=h,o=Gr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Fr(e,o,n),r!==null&&(In(r,e,n),nl(r,e,n))}function ov(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function hd(e,n){ov(e,n),(e=e.alternate)&&ov(e,n)}function lv(e){if(e.tag===13||e.tag===31){var n=js(e,67108864);n!==null&&In(n,e,67108864),hd(e,67108864)}}function uv(e){if(e.tag===13||e.tag===31){var n=Hn();n=Ri(n);var r=js(e,n);r!==null&&In(r,e,n),hd(e,n)}}var yc=!0;function FT(e,n,r,o){var h=U.T;U.T=null;var f=et.p;try{et.p=2,fd(e,n,r,o)}finally{et.p=f,U.T=h}}function YT(e,n,r,o){var h=U.T;U.T=null;var f=et.p;try{et.p=8,fd(e,n,r,o)}finally{et.p=f,U.T=h}}function fd(e,n,r,o){if(yc){var h=dd(o);if(h===null)Jf(e,n,o,vc,r),hv(e,o);else if(KT(h,e,n,r,o))o.stopPropagation();else if(hv(e,o),n&4&&-1<QT.indexOf(e)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Mn(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var I=1<<31-de(g);b.entanglements[1]|=I,g&=~I}qi(f),(Jt&6)===0&&(tc=Ze()+500,vl(0))}}break;case 31:case 13:b=js(f,2),b!==null&&In(b,f,2),nc(),hd(f,2)}if(f=dd(o),f===null&&Jf(e,n,o,vc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Jf(e,n,o,null,r)}}function dd(e){return e=Yn(e),md(e)}var vc=null;function md(e){if(vc=null,e=xi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function cv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wi()){case wi:return 2;case Cs:return 8;case ai:case Is:return 32;case oi:return 268435456;default:return 32}default:return 32}}var gd=!1,ns=null,is=null,rs=null,Al=new Map,Rl=new Map,ss=[],QT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(e,n){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function Cl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&lv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function KT(e,n,r,o,h){switch(n){case"focusin":return ns=Cl(ns,e,n,r,o,h),!0;case"dragenter":return is=Cl(is,e,n,r,o,h),!0;case"mouseover":return rs=Cl(rs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Al.set(f,Cl(Al.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Rl.set(f,Cl(Rl.get(f)||null,e,n,r,o,h)),!0}return!1}function fv(e){var n=xi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,ui(e.priority,function(){uv(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,ui(e.priority,function(){uv(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=dd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Bo=o,r.target.dispatchEvent(o),Bo=null}else return n=Fn(r),n!==null&&lv(n),e.blockedOn=r,!1;n.shift()}return!0}function dv(e,n,r){_c(e)&&r.delete(n)}function XT(){gd=!1,ns!==null&&_c(ns)&&(ns=null),is!==null&&_c(is)&&(is=null),rs!==null&&_c(rs)&&(rs=null),Al.forEach(dv),Rl.forEach(dv)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,XT)))}var bc=null;function mv(e){bc!==e&&(bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(md(o||r)===null)continue;break}var f=Fn(r);f!==null&&(e.splice(n,3),n-=3,df(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ja(e){function n(I){return Ec(I,e)}ns!==null&&Ec(ns,e),is!==null&&Ec(is,e),rs!==null&&Ec(rs,e),Al.forEach(n),Rl.forEach(n);for(var r=0;r<ss.length;r++){var o=ss[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)fv(r),r.blockedOn===null&&ss.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Fe]||null;if(typeof f=="function")g||mv(r);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Fe]||null)b=g.formAction;else if(md(h)!==null)continue}else b=g.action;typeof b=="function"?r[o+1]=b:(r.splice(o,3),o-=3),mv(r)}}}function gv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function pd(e){this._internalRoot=e}Tc.prototype.render=pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Hn();av(r,o,e,n,null,null)},Tc.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;av(e.current,2,null,e,null,null),nc(),n[Ci]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=No();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ss.length&&n!==0&&n<ss[r].priority;r++);ss.splice(r,0,e),r===0&&fv(e)}};var pv=t.version;if(pv!=="19.2.0")throw Error(a(527,pv,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var $T={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Dn=Sc.inject($T),ze=Sc}catch{}}return xl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Sp,f=wp,g=Ap;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=rv(e,1,!1,null,null,r,o,null,h,f,g,gv),e[Ci]=n.current,Zf(e),new pd(n)},xl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Sp,g=wp,b=Ap,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=rv(e,1,!0,n,r??null,o,h,I,f,g,b,gv),n.context=sv(null),r=n.current,o=Hn(),o=Ri(o),h=Gr(o),h.callback=null,Fr(r,h,o),r=o,n.current.lanes=r,ce(n,r),qi(n),e[Ci]=n.current,Zf(e),new Tc(n)},xl.version="19.2.0",xl}var Rv;function s1(){if(Rv)return _d.exports;Rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),_d.exports=r1(),_d.exports}var a1=s1();const o1=mm(a1);function l1({onNext:s}){return J.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:J.jsx("div",{className:"max-w-7xl text-center space-y-20",children:J.jsxs("div",{className:"space-y-12 animate-fade-in-up",children:[J.jsxs("h1",{className:"text-[16rem] font-serif text-white tracking-tight text-balance leading-[0.85]",children:["One Link ",J.jsx("br",{}),"Please"]}),J.jsx("p",{className:"text-5xl text-neutral-500 leading-relaxed max-w-4xl mx-auto text-pretty font-light",children:"Read your bookmarks for once."})]})})})}const u1=()=>{};var Cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},c1=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},l0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,y=v?s[l+2]:0,S=c>>2,E=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,q=y&63;v||(q=64,d||(O=64)),a.push(i[S],i[E],i[O],i[q])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(o0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):c1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const E=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||E==null)throw new h1;const O=c<<2|p>>4;if(a.push(O),y!==64){const q=p<<4&240|y>>2;if(a.push(q),E!==64){const G=y<<6&192|E;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f1=function(s){const t=o0(s);return l0.encodeByteArray(t,!0)},qc=function(s){return f1(s).replace(/\./g,"")},u0=function(s){try{return l0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=()=>d1().__FIREBASE_DEFAULTS__,g1=()=>{if(typeof process>"u"||typeof Cv>"u")return;const s=Cv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},p1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&u0(s[1]);return t&&JSON.parse(t)},sh=()=>{try{return u1()||m1()||g1()||p1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},c0=s=>sh()?.emulatorHosts?.[s],y1=s=>{const t=c0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},h0=()=>sh()?.config,f0=s=>sh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Vl={};function E1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Vl))Vl[t]?s.emulator.push(t):s.prod.push(t);return s}function b1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Iv=!1;function m0(s,t){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Vl[s]===t||Vl[s]||Iv)return;Vl[s]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=E1().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,q){O.setAttribute("width","24"),O.setAttribute("id",q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Iv=!0,d()},O}function S(O,q){O.setAttribute("id",q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function E(){const O=b1(a),q=i("text"),G=document.getElementById(q)||document.createElement("span"),nt=i("learnmore"),W=document.getElementById(nt)||document.createElement("a"),it=i("preprendIcon"),gt=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const lt=O.element;p(lt),S(W,nt);const Tt=y();v(gt,it),lt.append(gt,G,W,Tt),document.body.appendChild(lt)}c?(G.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function S1(){const s=sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function R1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C1(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function I1(){return!S1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x1(){try{return typeof indexedDB=="object"}catch{return!1}}function N1(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="FirebaseError";class Rr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=D1,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?O1(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Rr(l,p,a)}}function O1(s,t){return s.replace(M1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const M1=/\{\$([^}]+)}/g;function V1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function oa(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(xv(c)&&xv(d)){if(!oa(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function xv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function k1(s,t){const i=new L1(s,t);return i.subscribe.bind(i)}class L1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");U1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Sd),l.error===void 0&&(l.error=Sd),l.complete===void 0&&(l.complete=Sd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(s){return s&&s._delegate?s._delegate:s}class la{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new v1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(B1(t))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ea){return this.instances.has(t)}getOptions(t=ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:P1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ea){return this.component?this.component.multipleInstances?t:ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P1(s){return s===ea?void 0:s}function B1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new z1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(jt||(jt={}));const H1={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},q1=jt.INFO,G1={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},F1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=G1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=q1,this._logHandler=F1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?H1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const Y1=(s,t)=>t.some(i=>s instanceof i);let Nv,Dv;function Q1(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g0=new WeakMap,Pd=new WeakMap,p0=new WeakMap,wd=new WeakMap,ym=new WeakMap;function X1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ms(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&g0.set(i,s)}).catch(()=>{}),ym.set(t,s),t}function $1(s){if(Pd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Pd.set(s,t)}let Bd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Pd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||p0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ms(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Z1(s){Bd=s(Bd)}function J1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ad(this),t,...i);return p0.set(a,t.sort?t.sort():[t]),ms(a)}:K1().includes(s)?function(...t){return s.apply(Ad(this),t),ms(g0.get(this))}:function(...t){return ms(s.apply(Ad(this),t))}}function W1(s){return typeof s=="function"?J1(s):(s instanceof IDBTransaction&&$1(s),Y1(s,Q1())?new Proxy(s,Bd):s)}function ms(s){if(s instanceof IDBRequest)return X1(s);if(wd.has(s))return wd.get(s);const t=W1(s);return t!==s&&(wd.set(s,t),ym.set(t,s)),t}const Ad=s=>ym.get(s);function tS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=ms(d);return a&&d.addEventListener("upgradeneeded",v=>{a(ms(d.result),v.oldVersion,v.newVersion,ms(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const eS=["get","getKey","getAll","getAllKeys","count"],nS=["put","add","delete","clear"],Rd=new Map;function Ov(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=nS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||eS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Rd.set(t,c),c}Z1(s=>({...s,get:(t,i,a)=>Ov(t,i)||s.get(t,i,a),has:(t,i)=>!!Ov(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function rS(s){return s.getComponent()?.type==="VERSION"}const jd="@firebase/app",Mv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new pm("@firebase/app"),sS="@firebase/app-compat",aS="@firebase/analytics-compat",oS="@firebase/analytics",lS="@firebase/app-check-compat",uS="@firebase/app-check",cS="@firebase/auth",hS="@firebase/auth-compat",fS="@firebase/database",dS="@firebase/data-connect",mS="@firebase/database-compat",gS="@firebase/functions",pS="@firebase/functions-compat",yS="@firebase/installations",vS="@firebase/installations-compat",_S="@firebase/messaging",ES="@firebase/messaging-compat",bS="@firebase/performance",TS="@firebase/performance-compat",SS="@firebase/remote-config",wS="@firebase/remote-config-compat",AS="@firebase/storage",RS="@firebase/storage-compat",CS="@firebase/firestore",IS="@firebase/ai",xS="@firebase/firestore-compat",NS="firebase",DS="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",OS={[jd]:"fire-core",[sS]:"fire-core-compat",[oS]:"fire-analytics",[aS]:"fire-analytics-compat",[uS]:"fire-app-check",[lS]:"fire-app-check-compat",[cS]:"fire-auth",[hS]:"fire-auth-compat",[fS]:"fire-rtdb",[dS]:"fire-data-connect",[mS]:"fire-rtdb-compat",[gS]:"fire-fn",[pS]:"fire-fn-compat",[yS]:"fire-iid",[vS]:"fire-iid-compat",[_S]:"fire-fcm",[ES]:"fire-fcm-compat",[bS]:"fire-perf",[TS]:"fire-perf-compat",[SS]:"fire-rc",[wS]:"fire-rc-compat",[AS]:"fire-gcs",[RS]:"fire-gcs-compat",[CS]:"fire-fst",[xS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,MS=new Map,qd=new Map;function Vv(s,t){try{s.container.addComponent(t)}catch(i){Sr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function fo(s){const t=s.name;if(qd.has(t))return Sr.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,s);for(const i of Gc.values())Vv(i,s);for(const i of MS.values())Vv(i,s);return!0}function vm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function _i(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Yl("app","Firebase",VS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=DS;function y0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Hd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw gs.create("bad-app-name",{appName:String(l)});if(i||(i=h0()),!i)throw gs.create("no-options");const c=Gc.get(l);if(c){if(oa(i,c.options)&&oa(a,c.config))return c;throw gs.create("duplicate-app",{appName:l})}const d=new j1(l);for(const v of qd.values())d.addComponent(v);const p=new kS(i,a,d);return Gc.set(l,p),p}function v0(s=Hd){const t=Gc.get(s);if(!t&&s===Hd&&h0())return y0();if(!t)throw gs.create("no-app",{appName:s});return t}function ps(s,t,i){let a=OS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Sr.warn(d.join(" "));return}fo(new la(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebase-heartbeat-database",US=1,Bl="firebase-heartbeat-store";let Cd=null;function _0(){return Cd||(Cd=tS(LS,US,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Bl)}catch(i){console.warn(i)}}}}).catch(s=>{throw gs.create("idb-open",{originalErrorMessage:s.message})})),Cd}async function zS(s){try{const i=(await _0()).transaction(Bl),a=await i.objectStore(Bl).get(E0(s));return await i.done,a}catch(t){if(t instanceof Rr)Sr.warn(t.message);else{const i=gs.create("idb-get",{originalErrorMessage:t?.message});Sr.warn(i.message)}}}async function kv(s,t){try{const a=(await _0()).transaction(Bl,"readwrite");await a.objectStore(Bl).put(t,E0(s)),await a.done}catch(i){if(i instanceof Rr)Sr.warn(i.message);else{const a=gs.create("idb-set",{originalErrorMessage:i?.message});Sr.warn(a.message)}}}function E0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=1024,BS=30;class jS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Lv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>BS){const l=GS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Sr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Lv(),{heartbeatsToSend:i,unsentEntries:a}=HS(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Sr.warn(t),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function HS(s,t=PS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Uv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Uv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class qS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x1()?N1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await zS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return kv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return kv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Uv(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function GS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(s){fo(new la("platform-logger",t=>new iS(t),"PRIVATE")),fo(new la("heartbeat",t=>new jS(t),"PRIVATE")),ps(jd,Mv,s),ps(jd,Mv,"esm2020"),ps("fire-js","")}FS("");function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YS=b0,T0=new Yl("auth","Firebase",b0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new pm("@firebase/auth");function QS(s,...t){Fc.logLevel<=jt.WARN&&Fc.warn(`Auth (${So}): ${s}`,...t)}function Vc(s,...t){Fc.logLevel<=jt.ERROR&&Fc.error(`Auth (${So}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(s,...t){throw Em(s,...t)}function bi(s,...t){return Em(s,...t)}function _m(s,t,i){const a={...YS(),[t]:i};return new Yl("auth","Firebase",a).create(t,{appName:s.name})}function ra(s){return _m(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KS(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&$i(s,"argument-error"),_m(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Em(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return T0.create(s,...t)}function At(s,t,...i){if(!s)throw Em(t,...i)}function br(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function wr(s,t){s||br(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){return typeof self<"u"&&self.location?.href||""}function XS(){return zv()==="http:"||zv()==="https:"}function zv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XS()||A1()||"connection"in navigator)?navigator.onLine:!0}function ZS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,wr(i>t,"Short delay should be less than long delay!"),this.isMobile=T1()||R1()}get(){return $S()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(s,t){wr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tw=new Kl(3e4,6e4);function Tm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function wo(s,t,i,a,l={}){return w0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ql({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return w1()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&To(s.emulatorConfig.host)&&(y.credentials="include"),S0.fetch()(await A0(s,s.config.apiHost,i,p),y)})}async function w0(s,t,i){s._canInitEmulator=!1;const a={...JS,...t};try{const l=new nw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw wc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw wc(s,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw _m(s,S,y);$i(s,S)}}catch(l){if(l instanceof Rr)throw l;$i(s,"network-request-failed",{message:String(l)})}}async function ew(s,t,i,a,l={}){const c=await wo(s,t,i,a,l);return"mfaPendingCredential"in c&&$i(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function A0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?bm(s.config,l):`${s.config.apiScheme}://${l}`;return WS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class nw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),tw.get())})}}function wc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=bi(s,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(s,t){return wo(s,"POST","/v1/accounts:delete",t)}async function Yc(s,t){return wo(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rw(s,t=!1){const i=Cr(s),a=await i.getIdToken(t),l=Sm(a);At(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:kl(Id(l.auth_time)),issuedAtTime:kl(Id(l.iat)),expirationTime:kl(Id(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Id(s){return Number(s)*1e3}function Sm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=u0(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Pv(s){const t=Sm(s);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Rr&&sw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function sw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(s){const t=s.auth,i=await s.getIdToken(),a=await jl(s,Yc(t,{idToken:i}));At(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?R0(l.providerUserInfo):[],d=lw(s.providerData,c),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,y=p?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,S)}async function ow(s){const t=Cr(s);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function R0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(s,t){const i=await w0(s,{},async()=>{const a=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await A0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&To(s.emulatorConfig.host)&&(v.credentials="include"),S0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function cw(s,t){return wo(s,"POST","/v2/accounts:revokeToken",Tm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Pv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){At(t.length!==0,"internal-error");const i=Pv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await uw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ro;return a&&(At(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(At(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(At(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(s,t){At(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Ei{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new aw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await jl(this,this.stsTokenManager.getToken(this.auth,t));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return rw(this,t)}reload(){return ow(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(ra(this.auth));const t=await this.getIdToken();return await jl(this,iw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:E,emailVerified:O,isAnonymous:q,providerData:G,stsTokenManager:nt}=i;At(E&&nt,t,"internal-error");const W=ro.fromJSON(this.name,nt);At(typeof E=="string",t,"internal-error"),os(a,t.name),os(l,t.name),At(typeof O=="boolean",t,"internal-error"),At(typeof q=="boolean",t,"internal-error"),os(c,t.name),os(d,t.name),os(p,t.name),os(v,t.name),os(y,t.name),os(S,t.name);const it=new Ei({uid:E,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:S});return G&&Array.isArray(G)&&(it.providerData=G.map(gt=>({...gt}))),v&&(it._redirectEventId=v),it}static async _fromIdTokenResponse(t,i,a=!1){const l=new ro;l.updateFromServerResponse(i);const c=new Ei({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];At(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?R0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ro;p.updateFromIdToken(a);const v=new Ei({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;function Tr(s){wr(s instanceof Function,"Expected a class definition");let t=Bv.get(s);return t?(wr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Bv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}C0.type="NONE";const jv=C0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class so{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?Ei._fromGetAccountInfoResponse(this.auth,i,t):null}return Ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new so(Tr(jv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Tr(jv);const d=kc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let E;if(typeof S=="string"){const O=await Yc(t,{idToken:S}).catch(()=>{});if(!O)break;E=await Ei._fromGetAccountInfoResponse(t,O,S)}else E=Ei._fromJSON(t,S);y!==c&&(p=E),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new so(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new so(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(D0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(I0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(M0(t))return"Blackberry";if(V0(t))return"Webos";if(x0(t))return"Safari";if((t.includes("chrome/")||N0(t))&&!t.includes("edge/"))return"Chrome";if(O0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function I0(s=mn()){return/firefox\//i.test(s)}function x0(s=mn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function N0(s=mn()){return/crios\//i.test(s)}function D0(s=mn()){return/iemobile/i.test(s)}function O0(s=mn()){return/android/i.test(s)}function M0(s=mn()){return/blackberry/i.test(s)}function V0(s=mn()){return/webos/i.test(s)}function wm(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function hw(s=mn()){return wm(s)&&!!window.navigator?.standalone}function fw(){return C1()&&document.documentMode===10}function k0(s=mn()){return wm(s)||O0(s)||V0(s)||M0(s)||/windows phone/i.test(s)||D0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(s,t=[]){let i;switch(s){case"Browser":i=Hv(mn());break;case"Worker":i=`${Hv(mn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${So}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(s,t={}){return wo(s,"GET","/v2/passwordPolicy",Tm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=6;class pw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??gw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new dw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Tr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await Ei._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(_i(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(ra(this));const i=t?Cr(t):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mw(this),i=new pw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await cw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Tr(t)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[Tr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=L0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&QS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ah(s){return Cr(s)}class qv{constructor(t){this.auth=t,this.observer=null,this.addObserver=k1(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vw(s){Am=s}function _w(s){return Am.loadJS(s)}function Ew(){return Am.gapiScript}function bw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(s,t){const i=vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(oa(c,t??{}))return l;$i(l,"already-initialized")}return i.initialize({options:t})}function Sw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Tr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function ww(s,t,i){const a=ah(s);At(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=U0(t),{host:d,port:p}=Aw(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){At(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),At(oa(y,a.config.emulator)&&oa(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,To(d)?(d0(`${c}//${d}${v}`),m0("Auth",!0)):Rw()}function U0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Aw(s){const t=U0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Gv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Gv(d)}}}function Gv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Rw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return br("not implemented")}_getIdTokenResponse(t){return br("not implemented")}_linkToIdToken(t,i){return br("not implemented")}_getReauthenticationResolver(t){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(s,t){return ew(s,"POST","/v1/accounts:signInWithIdp",Tm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="http://localhost";class ua extends z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):$i("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ua(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ao(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,ao(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ao(t,i)}buildRequest(){const t={requestUri:Cw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ql(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Rm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Xl{constructor(){super("facebook.com")}static credential(t){return ua._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ua._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Er.credential(i,a)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Xl{constructor(){super("github.com")}static credential(t){return ua._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Xl{constructor(){super("twitter.com")}static credential(t,i){return ua._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return hs.credential(i,a)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Ei._fromIdTokenResponse(t,a,l),d=Fv(a);return new mo({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Fv(a);return new mo({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Fv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Rr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function P0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(s,c,t,a):c})}async function Iw(s,t,i=!1){const a=await jl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return mo._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(s,t,i=!1){const{auth:a}=s;if(_i(a.app))return Promise.reject(ra(a));const l="reauthenticate";try{const c=await jl(s,P0(a,l,t,s),i);At(c.idToken,a,"internal-error");const d=Sm(c.idToken);At(d,a,"internal-error");const{sub:p}=d;return At(s.uid===p,a,"user-mismatch"),mo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&$i(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(s,t,i=!1){if(_i(s.app))return Promise.reject(ra(s));const a="signIn",l=await P0(s,a,t),c=await mo._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function Dw(s,t,i,a){return Cr(s).onIdTokenChanged(t,i,a)}function Ow(s,t,i){return Cr(s).beforeAuthStateChanged(t,i)}function Mw(s,t,i,a){return Cr(s).onAuthStateChanged(t,i,a)}function Vw(s){return Cr(s).signOut()}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=1e3,Lw=10;class j0 extends B0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);fw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Lw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}j0.type="LOCAL";const Uw=j0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends B0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}H0.type="SESSION";const q0=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new oh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await zw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Cm("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(E){const O=E;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function Bw(s){Ki().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function jw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hw(){return navigator?.serviceWorker?.controller||null}function qw(){return G0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="firebaseLocalStorageDb",Gw=1,$c="firebaseLocalStorage",Y0="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lh(s,t){return s.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function Fw(){const s=indexedDB.deleteDatabase(F0);return new $l(s).toPromise()}function Yd(){const s=indexedDB.open(F0,Gw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore($c,{keyPath:Y0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await Fw(),t(await Yd()))})})}async function Yv(s,t,i){const a=lh(s,!0).put({[Y0]:t,value:i});return new $l(a).toPromise()}async function Yw(s,t){const i=lh(s,!1).get(t),a=await new $l(i).toPromise();return a===void 0?null:a.value}function Qv(s,t){const i=lh(s,!0).delete(t);return new $l(i).toPromise()}const Qw=800,Kw=3;class Q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Kw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(qw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jw(),!this.activeServiceWorker)return;this.sender=new Pw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Hw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yd();return await Yv(t,Xc,"1"),await Qv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Yv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Yw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=lh(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q0.type="LOCAL";const Xw=Q0;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(s,t){return t?Tr(t):(At(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends z0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ao(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ao(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function $w(s){return Nw(s.auth,new Im(s),s.bypassAuthState)}function Zw(s){const{auth:t,user:i}=s;return At(i,t,"internal-error"),xw(i,new Im(s),s.bypassAuthState)}async function Jw(s){const{auth:t,user:i}=s;return At(i,t,"internal-error"),Iw(i,new Im(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $w;case"linkViaPopup":case"linkViaRedirect":return Jw;case"reauthViaPopup":case"reauthViaRedirect":return Zw;default:$i(this.auth,"internal-error")}}resolve(t){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Kl(2e3,1e4);async function tA(s,t,i){if(_i(s.app))return Promise.reject(bi(s,"operation-not-supported-in-this-environment"));const a=ah(s);KS(s,t,Rm);const l=K0(a,i);return new na(a,"signInViaPopup",t,l).executeNotNull()}class na extends X0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ww.get())};t()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="pendingRedirect",Lc=new Map;class nA extends X0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const a=await iA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iA(s,t){const i=aA(t),a=sA(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function rA(s,t){Lc.set(s._key(),t)}function sA(s){return Tr(s._redirectPersistence)}function aA(s){return kc(eA,s.config.apiKey,s.name)}async function oA(s,t,i=!1){if(_i(s.app))return Promise.reject(ra(s));const a=ah(s),l=K0(a,t),d=await new nA(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=600*1e3;class uA{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cA(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!$0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(t))}saveEventToCache(t){this.cachedEventUids.add(Kv(t)),this.lastProcessedEventTime=Date.now()}}function Kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function $0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function cA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(s,t={}){return wo(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dA=/^https?/;async function mA(s){if(s.config.emulator)return;const{authorizedDomains:t}=await hA(s);for(const i of t)try{if(gA(i))return}catch{}$i(s,"unauthorized-domain")}function gA(s){const t=Gd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!dA.test(i))return!1;if(fA.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Kl(3e4,6e4);function Xv(){const s=Ki().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function yA(s){return new Promise((t,i)=>{function a(){Xv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xv(),i(bi(s,"network-request-failed"))},timeout:pA.get()})}if(Ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ki().gapi?.load)a();else{const l=bw("iframefcb");return Ki()[l]=()=>{gapi.load?a():i(bi(s,"network-request-failed"))},_w(`${Ew()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function vA(s){return Uc=Uc||yA(s),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new Kl(5e3,15e3),EA="__/auth/iframe",bA="emulator/auth/iframe",TA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wA(s){const t=s.config;At(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?bm(t,bA):`https://${s.config.authDomain}/${EA}`,a={apiKey:t.apiKey,appName:s.name,v:So},l=SA.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ql(a).slice(1)}`}async function AA(s){const t=await vA(s),i=Ki().gapi;return At(i,s,"internal-error"),t.open({where:document.body,url:wA(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TA,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(s,"network-request-failed"),p=Ki().setTimeout(()=>{c(d)},_A.get());function v(){Ki().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CA=500,IA=600,xA="_blank",NA="http://localhost";class $v{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DA(s,t,i,a=CA,l=IA){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...RA,width:a.toString(),height:l.toString(),top:c,left:d},y=mn().toLowerCase();i&&(p=N0(y)?xA:i),I0(y)&&(t=t||NA,v.scrollbars="yes");const S=Object.entries(v).reduce((O,[q,G])=>`${O}${q}=${G},`,"");if(hw(y)&&p!=="_self")return OA(t||"",p),new $v(null);const E=window.open(t||"",p,S);At(E,s,"popup-blocked");try{E.focus()}catch{}return new $v(E)}function OA(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="__/auth/handler",VA="emulator/auth/handler",kA=encodeURIComponent("fac");async function Zv(s,t,i,a,l,c){At(s.config.authDomain,s,"auth-domain-config-required"),At(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:So,eventId:l};if(t instanceof Rm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",V1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,E]of Object.entries({}))d[S]=E}if(t instanceof Xl){const S=t.getScopes().filter(E=>E!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const v=await s._getAppCheckToken(),y=v?`#${kA}=${encodeURIComponent(v)}`:"";return`${LA(s)}?${Ql(p).slice(1)}${y}`}function LA({config:s}){return s.emulator?bm(s,VA):`https://${s.authDomain}/${MA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="webStorageSupport";class UA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q0,this._completeRedirectFn=oA,this._overrideRedirectResult=rA}async _openPopup(t,i,a,l){wr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Zv(t,i,a,Gd(),l);return DA(t,c,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await Zv(t,i,a,Gd(),l);return Bw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(wr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await AA(t),a=new uA(t);return i.register("authEvent",l=>(At(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(xd,{type:xd},l=>{const c=l?.[0]?.[xd];c!==void 0&&i(!!c),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=mA(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return k0()||x0()||wm()}}const zA=UA;var Jv="@firebase/auth",Wv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jA(s){fo(new la("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L0(s)},y=new yw(a,l,c,v);return Sw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),fo(new la("auth-internal",t=>{const i=ah(t.getProvider("auth").getImmediate());return(a=>new PA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(Jv,Wv,BA(s)),ps(Jv,Wv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=300,qA=f0("authIdTokenMaxAge")||HA;let t_=null;const GA=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>qA)return;const l=i?.token;t_!==l&&(t_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function FA(s=v0()){const t=vm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Tw(s,{popupRedirectResolver:zA,persistence:[Xw,Uw,q0]}),a=f0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=GA(c.toString());Ow(i,d,()=>d(i.currentUser)),Dw(i,p=>d(p))}}const l=c0("auth");return l&&ww(i,`http://${l}`),i}function YA(){return document.getElementsByTagName("head")?.[0]??document}vw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",YA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jA("Browser");var QA="firebase",KA="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(QA,KA,"app");var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,Z0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,N,V){for(var A=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)A[Yt-2]=arguments[Yt];return w.prototype[N].apply(M,A)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)M[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],N=C.g[2];let V=C.g[3],A;A=w+(V^R&(N^V))+M[0]+3614090360&4294967295,w=R+(A<<7&4294967295|A>>>25),A=V+(N^w&(R^N))+M[1]+3905402710&4294967295,V=w+(A<<12&4294967295|A>>>20),A=N+(R^V&(w^R))+M[2]+606105819&4294967295,N=V+(A<<17&4294967295|A>>>15),A=R+(w^N&(V^w))+M[3]+3250441966&4294967295,R=N+(A<<22&4294967295|A>>>10),A=w+(V^R&(N^V))+M[4]+4118548399&4294967295,w=R+(A<<7&4294967295|A>>>25),A=V+(N^w&(R^N))+M[5]+1200080426&4294967295,V=w+(A<<12&4294967295|A>>>20),A=N+(R^V&(w^R))+M[6]+2821735955&4294967295,N=V+(A<<17&4294967295|A>>>15),A=R+(w^N&(V^w))+M[7]+4249261313&4294967295,R=N+(A<<22&4294967295|A>>>10),A=w+(V^R&(N^V))+M[8]+1770035416&4294967295,w=R+(A<<7&4294967295|A>>>25),A=V+(N^w&(R^N))+M[9]+2336552879&4294967295,V=w+(A<<12&4294967295|A>>>20),A=N+(R^V&(w^R))+M[10]+4294925233&4294967295,N=V+(A<<17&4294967295|A>>>15),A=R+(w^N&(V^w))+M[11]+2304563134&4294967295,R=N+(A<<22&4294967295|A>>>10),A=w+(V^R&(N^V))+M[12]+1804603682&4294967295,w=R+(A<<7&4294967295|A>>>25),A=V+(N^w&(R^N))+M[13]+4254626195&4294967295,V=w+(A<<12&4294967295|A>>>20),A=N+(R^V&(w^R))+M[14]+2792965006&4294967295,N=V+(A<<17&4294967295|A>>>15),A=R+(w^N&(V^w))+M[15]+1236535329&4294967295,R=N+(A<<22&4294967295|A>>>10),A=w+(N^V&(R^N))+M[1]+4129170786&4294967295,w=R+(A<<5&4294967295|A>>>27),A=V+(R^N&(w^R))+M[6]+3225465664&4294967295,V=w+(A<<9&4294967295|A>>>23),A=N+(w^R&(V^w))+M[11]+643717713&4294967295,N=V+(A<<14&4294967295|A>>>18),A=R+(V^w&(N^V))+M[0]+3921069994&4294967295,R=N+(A<<20&4294967295|A>>>12),A=w+(N^V&(R^N))+M[5]+3593408605&4294967295,w=R+(A<<5&4294967295|A>>>27),A=V+(R^N&(w^R))+M[10]+38016083&4294967295,V=w+(A<<9&4294967295|A>>>23),A=N+(w^R&(V^w))+M[15]+3634488961&4294967295,N=V+(A<<14&4294967295|A>>>18),A=R+(V^w&(N^V))+M[4]+3889429448&4294967295,R=N+(A<<20&4294967295|A>>>12),A=w+(N^V&(R^N))+M[9]+568446438&4294967295,w=R+(A<<5&4294967295|A>>>27),A=V+(R^N&(w^R))+M[14]+3275163606&4294967295,V=w+(A<<9&4294967295|A>>>23),A=N+(w^R&(V^w))+M[3]+4107603335&4294967295,N=V+(A<<14&4294967295|A>>>18),A=R+(V^w&(N^V))+M[8]+1163531501&4294967295,R=N+(A<<20&4294967295|A>>>12),A=w+(N^V&(R^N))+M[13]+2850285829&4294967295,w=R+(A<<5&4294967295|A>>>27),A=V+(R^N&(w^R))+M[2]+4243563512&4294967295,V=w+(A<<9&4294967295|A>>>23),A=N+(w^R&(V^w))+M[7]+1735328473&4294967295,N=V+(A<<14&4294967295|A>>>18),A=R+(V^w&(N^V))+M[12]+2368359562&4294967295,R=N+(A<<20&4294967295|A>>>12),A=w+(R^N^V)+M[5]+4294588738&4294967295,w=R+(A<<4&4294967295|A>>>28),A=V+(w^R^N)+M[8]+2272392833&4294967295,V=w+(A<<11&4294967295|A>>>21),A=N+(V^w^R)+M[11]+1839030562&4294967295,N=V+(A<<16&4294967295|A>>>16),A=R+(N^V^w)+M[14]+4259657740&4294967295,R=N+(A<<23&4294967295|A>>>9),A=w+(R^N^V)+M[1]+2763975236&4294967295,w=R+(A<<4&4294967295|A>>>28),A=V+(w^R^N)+M[4]+1272893353&4294967295,V=w+(A<<11&4294967295|A>>>21),A=N+(V^w^R)+M[7]+4139469664&4294967295,N=V+(A<<16&4294967295|A>>>16),A=R+(N^V^w)+M[10]+3200236656&4294967295,R=N+(A<<23&4294967295|A>>>9),A=w+(R^N^V)+M[13]+681279174&4294967295,w=R+(A<<4&4294967295|A>>>28),A=V+(w^R^N)+M[0]+3936430074&4294967295,V=w+(A<<11&4294967295|A>>>21),A=N+(V^w^R)+M[3]+3572445317&4294967295,N=V+(A<<16&4294967295|A>>>16),A=R+(N^V^w)+M[6]+76029189&4294967295,R=N+(A<<23&4294967295|A>>>9),A=w+(R^N^V)+M[9]+3654602809&4294967295,w=R+(A<<4&4294967295|A>>>28),A=V+(w^R^N)+M[12]+3873151461&4294967295,V=w+(A<<11&4294967295|A>>>21),A=N+(V^w^R)+M[15]+530742520&4294967295,N=V+(A<<16&4294967295|A>>>16),A=R+(N^V^w)+M[2]+3299628645&4294967295,R=N+(A<<23&4294967295|A>>>9),A=w+(N^(R|~V))+M[0]+4096336452&4294967295,w=R+(A<<6&4294967295|A>>>26),A=V+(R^(w|~N))+M[7]+1126891415&4294967295,V=w+(A<<10&4294967295|A>>>22),A=N+(w^(V|~R))+M[14]+2878612391&4294967295,N=V+(A<<15&4294967295|A>>>17),A=R+(V^(N|~w))+M[5]+4237533241&4294967295,R=N+(A<<21&4294967295|A>>>11),A=w+(N^(R|~V))+M[12]+1700485571&4294967295,w=R+(A<<6&4294967295|A>>>26),A=V+(R^(w|~N))+M[3]+2399980690&4294967295,V=w+(A<<10&4294967295|A>>>22),A=N+(w^(V|~R))+M[10]+4293915773&4294967295,N=V+(A<<15&4294967295|A>>>17),A=R+(V^(N|~w))+M[1]+2240044497&4294967295,R=N+(A<<21&4294967295|A>>>11),A=w+(N^(R|~V))+M[8]+1873313359&4294967295,w=R+(A<<6&4294967295|A>>>26),A=V+(R^(w|~N))+M[15]+4264355552&4294967295,V=w+(A<<10&4294967295|A>>>22),A=N+(w^(V|~R))+M[6]+2734768916&4294967295,N=V+(A<<15&4294967295|A>>>17),A=R+(V^(N|~w))+M[13]+1309151649&4294967295,R=N+(A<<21&4294967295|A>>>11),A=w+(N^(R|~V))+M[4]+4149444226&4294967295,w=R+(A<<6&4294967295|A>>>26),A=V+(R^(w|~N))+M[11]+3174756917&4294967295,V=w+(A<<10&4294967295|A>>>22),A=N+(w^(V|~R))+M[2]+718787259&4294967295,N=V+(A<<15&4294967295|A>>>17),A=R+(V^(N|~w))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+V&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,M=this.C;let N=this.h,V=0;for(;V<w;){if(N==0)for(;V<=R;)l(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<w;)if(M[N++]=C.charCodeAt(V++),N==this.blockSize){l(this,M),N=0;break}}else for(;V<w;)if(M[N++]=C[V++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[w++]=this.g[R]>>>M&255;return C};function c(C,w){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function d(C,w){this.h=w;const R=[];let M=!0;for(let N=C.length-1;N>=0;N--){const V=C[N]|0;M&&V==w||(R[N]=V,M=!1)}this.g=R}var p={};function v(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return W(y(-C));const w=[];let R=1;for(let M=0;C>=R;M++)w[M]=C/R|0,R*=4294967296;return new d(w,0)}function S(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return W(S(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let M=E;for(let V=0;V<C.length;V+=8){var N=Math.min(8,C.length-V);const A=parseInt(C.substring(V,V+N),w);N<8?(N=y(Math.pow(w,N)),M=M.j(N).add(y(A))):(M=M.j(R),M=M.add(y(A)))}return M}var E=v(0),O=v(1),q=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-W(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(nt(this))return"-"+W(this).toString(C);const w=y(Math.pow(C,6));var R=this;let M="";for(;;){const N=Tt(R,w).g;R=it(R,N.j(w));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,G(R))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function nt(C){return C.h==-1}s.l=function(C){return C=it(this,C),nt(C)?-1:G(C)?0:1};function W(C){const w=C.g.length,R=[];for(let M=0;M<w;M++)R[M]=~C.g[M];return new d(R,~C.h).add(O)}s.abs=function(){return nt(this)?W(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let N=0;N<=w;N++){let V=M+(this.i(N)&65535)+(C.i(N)&65535),A=(V>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=A>>>16,V&=65535,A&=65535,R[N]=A<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function it(C,w){return C.add(W(w))}s.j=function(C){if(G(this)||G(C))return E;if(nt(this))return nt(C)?W(this).j(W(C)):W(W(this).j(C));if(nt(C))return W(this.j(W(C)));if(this.l(q)<0&&C.l(q)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const V=this.i(M)>>>16,A=this.i(M)&65535,Yt=C.i(N)>>>16,Kt=C.i(N)&65535;R[2*M+2*N]+=A*Kt,gt(R,2*M+2*N),R[2*M+2*N+1]+=V*Kt,gt(R,2*M+2*N+1),R[2*M+2*N+1]+=A*Yt,gt(R,2*M+2*N+1),R[2*M+2*N+2]+=V*Yt,gt(R,2*M+2*N+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new d(R,0)};function gt(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function lt(C,w){this.g=C,this.h=w}function Tt(C,w){if(G(w))throw Error("division by zero");if(G(C))return new lt(E,E);if(nt(C))return w=Tt(W(C),w),new lt(W(w.g),W(w.h));if(nt(w))return w=Tt(C,W(w)),new lt(W(w.g),w.h);if(C.g.length>30){if(nt(C)||nt(w))throw Error("slowDivide_ only works with positive integers.");for(var R=O,M=w;M.l(C)<=0;)R=Vt(R),M=Vt(M);var N=_t(R,1),V=_t(M,1);for(M=_t(M,2),R=_t(R,2);!G(M);){var A=V.add(M);A.l(C)<=0&&(N=N.add(R),V=A),M=_t(M,1),R=_t(R,1)}return w=it(C,N.j(w)),new lt(N,w)}for(N=E;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(R),A=V.j(w);nt(A)||A.l(C)>0;)R-=M,V=y(R),A=V.j(w);G(V)&&(V=O),N=N.add(V),C=it(C,A)}return new lt(N,C)}s.B=function(C){return Tt(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&C.i(M);return new d(R,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|C.i(M);return new d(R,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^C.i(M);return new d(R,this.h^C.h)};function Vt(C){const w=C.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(R,C.h)}function _t(C,w){const R=w>>5;w%=32;const M=C.g.length-R,N=[];for(let V=0;V<M;V++)N[V]=w>0?C.i(V+R)>>>w|C.i(V+R+1)<<32-w:C.i(V+R);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Z0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,ys=d}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J0,Dl,W0,zc,Qd,tE,eE,nE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,j){for(var rt=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)rt[Dt-2]=arguments[Dt];return m.prototype[L].apply(T,rt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function G(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const j=L.length||0;u.length=_+j;for(let rt=0;rt<j;rt++)u[_+rt]=L[rt]}else u.push(L)}}class nt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function it(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,_){const T=lt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var lt=new nt(()=>new Tt,u=>u.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Vt,_t=!1,C=new gt,w=()=>{const u=Promise.resolve(void 0);Vt=()=>{u.then(R)}};function R(){for(var u;u=it();){try{u.h.call(u.g)}catch(_){W(_)}var m=lt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_t=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function Yt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}E(Yt,N),Yt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Kt="closure_listenable_"+(Math.random()*1e6|0),U=0;function et(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++U,this.da=this.fa=!1}function $(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ct(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function x(u){const m={};for(const _ in u)m[_]=u[_];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let j=0;j<Q.length;j++)_=Q[j],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function tt(u){this.src=u,this.g={},this.h=0}tt.prototype.add=function(u,m,_,T,L){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const rt=pt(u,m,T,L);return rt>-1?(m=u[rt],_||(m.fa=!1)):(m=new et(m,this.src,j,!!T,L),m.fa=_,u.push(m)),m};function ot(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(T,L,1),j&&($(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function pt(u,m,_,T){for(let L=0;L<u.length;++L){const j=u[L];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==T)return L}return-1}var mt="closure_lm_"+(Math.random()*1e6|0),wt={};function zt(u,m,_,T,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)zt(u,m[j],_,T,L);return null}return _=xr(_),u&&u[Kt]?u.J(m,_,p(T)?!!T.capture:!1,L):Xe(u,m,_,!1,T,L)}function Xe(u,m,_,T,L,j){if(!m)throw Error("Invalid event type");const rt=p(L)?!!L.capture:!!L;let Dt=Ti(u);if(Dt||(u[mt]=Dt=new tt(u)),_=Dt.add(m,_,T,rt,j),_.proxy)return _;if(T=gn(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)V||(L=rt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(bn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gn(){function u(_){return m.call(u.src,u.listener,_)}const m=Rs;return u}function qe(u,m,_,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)qe(u,m[j],_,T,L);else T=p(T)?!!T.capture:!!T,_=xr(_),u&&u[Kt]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],_=pt(m,_,T,L),_>-1&&($(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=Ti(u))&&(m=u.g[m.toString()],u=-1,m&&(u=pt(m,_,T,L)),(_=u>-1?m[u]:null)&&Ir(_))}function Ir(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Kt])ot(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(bn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Ti(m))?(ot(_,u),_.h==0&&(_.src=null,m[mt]=null)):$(u)}}}function bn(u){return u in wt?wt[u]:wt[u]="on"+u}function Rs(u,m){if(u.da)u=!0;else{m=new Yt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Ir(u),u=_.call(T,m)}return u}function Ti(u){return u=u[mt],u instanceof tt?u:null}var ri="__closure_events_fn_"+(Math.random()*1e9>>>0);function xr(u){return typeof u=="function"?u:(u[ri]||(u[ri]=function(m){return u.handleEvent(m)}),u[ri])}function Wt(){M.call(this),this.i=new tt(this),this.M=this,this.G=null}E(Wt,M),Wt.prototype[Kt]=!0,Wt.prototype.removeEventListener=function(u,m,_,T){qe(this,u,m,_,T)};function be(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),F(m,L)}L=!0;let j,rt;if(_)for(rt=_.length-1;rt>=0;rt--)j=m.g=_[rt],L=Si(j,T,!0,m)&&L;if(j=m.g=u,L=Si(j,T,!0,m)&&L,L=Si(j,T,!1,m)&&L,_)for(rt=0;rt<_.length;rt++)j=m.g=_[rt],L=Si(j,T,!1,m)&&L}Wt.prototype.N=function(){if(Wt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)$(_[T]);delete u.g[m],u.h--}}this.G=null},Wt.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Wt.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function Si(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const rt=m[j];if(rt&&!rt.da&&rt.capture==_){const Dt=rt.listener,Te=rt.ha||rt.src;rt.fa&&ot(u.i,rt),L=Dt.call(Te,T)!==!1&&L}}return L&&!T.defaultPrevented}function $e(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function si(u){u.g=$e(()=>{u.g=null,u.i&&(u.i=!1,si(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(u){M.call(this),this.h=u,this.g={}}E(Wi,M);var wi=[];function Cs(u){Rt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ir(m)},u),u.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),Cs(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=d.JSON.stringify,Is=d.JSON.parse,oi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function xs(){}function li(){}var Dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}E(ze,N);function pn(){N.call(this,"c")}E(pn,N);var de={},fa=null;function Ai(){return fa=fa||new Wt}de.Ia="serverreachability";function On(u){N.call(this,de.Ia,u)}E(On,N);function qn(u){const m=Ai();be(m,new On(m))}de.STAT_EVENT="statevent";function tr(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}E(tr,N);function pe(u){const m=Ai();be(m,new tr(m,u))}de.Ja="timingevent";function Mn(u,m){N.call(this,de.Ja,u),this.size=m}E(Mn,N);function Et(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function te(){this.g=!0}te.prototype.ua=function(){this.g=!1};function Ce(u,m,_,T,L,j){u.info(function(){if(u.g)if(j){var rt="",Dt=j.split("&");for(let Zt=0;Zt<Dt.length;Zt++){var Te=Dt[Zt].split("=");if(Te.length>1){const me=Te[0];Te=Te[1];const Kn=me.split("_");rt=Kn.length>=2&&Kn[1]=="type"?rt+(me+"="+Te+"&"):rt+(me+"=redacted&")}}}else rt=null;else rt=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+rt})}function Ge(u,m,_,T,L,j,rt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+j+" "+rt})}function yn(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+un(u,_)+(T?" "+T:"")})}function ce(u,m){u.info(function(){return"TIMEOUT: "+m})}te.prototype.info=function(){};function un(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var _=j[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let rt=1;rt<T.length;rt++)T[rt]=""}}}}return ai(j)}catch{return m}}var Gn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Je={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},We;function Ri(){}E(Ri,xs),Ri.prototype.g=function(){return new XMLHttpRequest},We=new Ri;function tn(u){return encodeURIComponent(String(u))}function No(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function ui(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var Ie={},Fe={};function Ci(u,m,_){u.M=1,u.A=Ns(Ne(m)),u.u=_,u.R=!0,da(u,null)}function da(u,m){u.F=Date.now(),Ii(u),u.B=Ne(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ya(_.i,"t",T),u.C=0,_=u.j.L,u.h=new ci,u.g=yu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(wi[0]=L.toString()),L=wi);for(let j=0;j<L.length;j++){const rt=zt(_,L[j],T||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),qn(),Ce(u.i,u.v,u.B,u.l,u.S,u.u)}ui.prototype.ba=function(u){u=u.target;const m=this.O;m&&di(u)==3?m.j():this.Y(u)},ui.prototype.Y=function(u){try{if(u==this.g)t:{const Dt=di(this.g),Te=this.g.ya(),Zt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Dt!=4||Te==7||(Te==8||Zt<=0?qn(3):qn(2)),xi(this);var m=this.g.ca();this.X=m;var _=Th(this);if(this.o=m==200,Ge(this.i,this.v,this.B,this.l,this.S,Dt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(T)){var j=T;break e}}j=null}if(u=j)yn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,u);else{this.o=!1,this.m=3,pe(12),Vn(this),Fn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<_.length;)if(me=ru(this,_),me==Fe){Dt==4&&(this.m=4,pe(14),u=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ie){this.m=4,pe(15),yn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else yn(this.i,this.l,me,null),Ni(this,me);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||_.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)yn(this.i,this.l,_,"[Invalid Chunked Response]"),Vn(this),Fn(this);else if(_.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Fo(rt),rt.P=!0,pe(11))}}else yn(this.i,this.l,_,null),Ni(this,_);Dt==4&&Vn(this),this.o&&!this.K&&(Dt==4?du(this.j,this):(this.o=!1,Ii(this)))}else nr(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),Vn(this),Fn(this)}}}catch{}finally{}};function Th(u){if(!iu(u))return u.g.la();const m=en(u.g);if(m==="")return"";let _="";const T=m.length,L=di(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,_+=u.h.i.decode(m[j],{stream:!(L&&j==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Fe:(_=Number(m.substring(_,T)),isNaN(_)?Ie:(T+=1,T+_>m.length?Fe:(m=m.slice(T,T+_),u.C=T+_,m)))}ui.prototype.cancel=function(){this.K=!0,Vn(this)};function Ii(u){u.T=Date.now()+u.H,ma(u,u.H)}function ma(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Et(y(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ui.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ce(this.i,this.B),this.M!=2&&(qn(),pe(17)),Vn(this),this.m=2,Fn(this)):ma(this,this.T-u)};function Fn(u){u.j.I==0||u.K||du(u.j,u)}function Vn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Cs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ni(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Oi(_.h,u))){if(!u.L&&Oi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ta(_),Ur(_);else break t;Us(_),pe(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Et(y(_.Va,_),6e3));Di(_.h)<=1&&_.ta&&(_.ta=void 0)}else zi(_,11)}else if((u.L||_.g==u)&&Ta(_),!A(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Zt=L[m];const me=Zt[0];if(!(me<=_.K))if(_.K=me,Zt=Zt[1],_.I==2)if(Zt[0]=="c"){_.M=Zt[1],_.ba=Zt[2];const Kn=Zt[3];Kn!=null&&(_.ka=Kn,_.j.info("VER="+_.ka));const Pi=Zt[4];Pi!=null&&(_.za=Pi,_.j.info("SVER="+_.za));const mi=Zt[5];mi!=null&&typeof mi=="number"&&mi>0&&(T=1.5*mi,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const gi=u.g;if(gi){const zs=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var j=T.h;j.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Mo(j,j.h),j.h=null))}if(T.G){const Sa=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(T.wa=Sa,ee(T.J,T.G,Sa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var rt=u;if(T.na=pu(T,T.L?T.ba:null,T.W),rt.L){Vo(T.h,rt);var Dt=rt,Te=T.O;Te&&(Dt.H=Te),Dt.D&&(xi(Dt),Ii(Dt)),T.g=rt}else hu(T);_.i.length>0&&Ui(_)}else Zt[0]!="stop"&&Zt[0]!="close"||zi(_,7);else _.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?zi(_,7):qo(_):Zt[0]!="noop"&&_.l&&_.l.qa(Zt),_.A=0)}}qn(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function Do(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Mo(u,m){u.g?u.g.add(m):u.h=m}function Vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Do.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ko(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return q(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,j=null;T>=0?(L=u[_].substring(0,T),j=u[_].substring(T+1)):L=u[_],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,Ye(this,u.j),this.o=u.o,this.g=u.g,Nr(this,u.u),this.h=u.h,Lo(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,Ye(this,m[1]||"",!0),this.o=Mi(m[2]||""),this.g=Mi(m[3]||"",!0),Nr(this,m[4]),this.h=Mi(m[5]||"",!0),Lo(this,m[6]||"",!0),this.m=Mi(m[7]||"")):(this.l=!1,this.i=new Or(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ds(m,pa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ds(m,pa,!0),"@"),u.push(tn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ds(_,_.charAt(0)=="/"?Uo:au,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ds(_,ou)),u.join("")},kn.prototype.resolve=function(u){const m=Ne(this);let _=!!u.j;_?Ye(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)Nr(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let rt=0;rt<L.length;){const Dt=L[rt++];Dt=="."?T&&rt==L.length&&j.push(""):Dt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&rt==L.length&&j.push("")):(j.push(Dt),T=!0)}T=j.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?Lo(m,uu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ne(u){return new kn(u)}function Ye(u,m,_){u.j=_?Mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Nr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Lo(u,m,_){m instanceof Or?(u.i=m,va(u.i,u.l)):(_||(m=Ds(m,Dr)),u.i=new Or(m,u.l))}function ee(u,m,_){u.i.set(m,_)}function Ns(u){return ee(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ds(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Tn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,au=/[#\?:]/g,Uo=/[#\?]/g,Dr=/[#\?@]/g,ou=/#/g;function Or(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Or.prototype,s.add=function(u,m){Sn(this),this.i=null,u=Mr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function lu(u,m){Sn(u),m=Mr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zo(u,m){return Sn(u),m=Mr(u,m),u.g.has(m)}s.forEach=function(u,m){Sn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Po(u,m){Sn(u);let _=[];if(typeof m=="string")zo(u,m)&&(_=_.concat(u.g.get(Mr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return Sn(this),this.i=null,u=Mr(this,u),zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Po(this,u),u.length>0?String(u[0]):m):m};function ya(u,m,_){lu(u,m),_.length>0&&(u.i=null,u.g.set(Mr(u,m),q(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=tn(_);_=Po(this,_);for(let j=0;j<_.length;j++){let rt=L;_[j]!==""&&(rt+="="+tn(_[j])),u.push(rt)}}return this.i=u.join("&")};function uu(u){const m=new Or;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Mr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(lu(this,T),ya(this,L,_))},u)),u.j=m}function hi(u,m){const _=new te;if(d.Image){const T=new Image;T.onload=S(Yn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Yn,_,"TestLoadImage: error",!1,m,T),T.onabort=S(Yn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Yn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Bo(u,m){const _=new te,T=new AbortController,L=setTimeout(()=>{T.abort(),Yn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?Yn(_,"TestPingServer: ok",!0,m):Yn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Yn(_,"TestPingServer: error",!1,m)})}function Yn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function Vr(){this.g=new oi}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Vi,xs),Vi.prototype.g=function(){return new Os(this.i,this.h)};function Os(u,m){Wt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Os,Wt),s=Os.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,fi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?kr(this):fi(this),this.readyState==3&&_a(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,kr(this))},s.Na=function(u){this.g&&(this.response=u,kr(this))},s.ga=function(){this.g&&kr(this)};function kr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,fi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function fi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return Rt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ms(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Qn(_),typeof u=="string"?_!=null&&tn(_):ee(u,m,_))}function re(u){Wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(re,Wt);var ki=/^https?$/i,jo=["POST","PUT"];s=re.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():We.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Vs(this,j);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())_.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(jo,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,rt]of _)this.g.setRequestHeader(j,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){Vs(this,j)}};function Vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ho(u),er(u)}function Ho(u){u.A||(u.A=!0,be(u,"complete"),be(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,be(this,"complete"),be(this,"abort"),er(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),re.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},s.Xa=function(){ks(this)};function ks(u){if(u.h&&typeof c<"u"){if(u.v&&di(u)==4)setTimeout(u.Ca.bind(u),0);else if(be(u,"readystatechange"),di(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=j===0){let rt=String(u.D).match(su)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),T=!ki.test(rt?rt.toLowerCase():"")}_=T}if(_)be(u,"complete"),be(u,"success");else{u.o=6;try{var L=di(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ho(u)}}finally{er(u)}}}}function er(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||be(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function di(u){return u.g?u.g.readyState:0}s.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Is(m)}};function en(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(u){const m={};u=(u.g&&di(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(A(u[T]))continue;var _=No(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[L]||[];m[L]=j,j.push(_)}Ct(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Lr(u){this.za=0,this.i=[],this.j=new te,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,u),this.Za=Li("retryDelaySeedMs",1e4,u),this.Ta=Li("forwardChannelMaxRetries",2,u),this.va=Li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(u&&u.concurrentRequestLimit),this.Ba=new Vr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Lr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,T){pe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=pu(this,null,this.W),Ui(this)};function qo(u){if(Ea(u),u.I==3){var m=u.V++,_=Ne(u.J);if(ee(_,"SID",u.M),ee(_,"RID",m),ee(_,"TYPE","terminate"),Ls(u,_),m=new ui(u,u.j,m),m.M=2,m.A=Ns(Ne(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ii(m)}gu(u)}function Ur(u){u.g&&(Fo(u),u.g.cancel(),u.g=null)}function Ea(u){Ur(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ui(u){if(!Oo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Vt||w(),_t||(Vt(),_t=!0),C.add(m,u),u.D=0}}function ba(u,m){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Et(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ui(this,this.j,u);let j=this.o;if(this.U&&(j?(j=x(j),F(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),_=Ne(this.J),ee(_,"RID",u),ee(_,"CVER",22),this.G&&ee(_,"X-HTTP-Session-Id",this.G),Ls(this,_),j&&(this.R?m="headers="+tn(Qn(j))+"&"+m:this.u&&Ms(_,this.u,j)),Mo(this.h,L),this.Ra&&ee(_,"TYPE","init"),this.S?(ee(_,"$req",m),ee(_,"SID","null"),L.U=!0,Ci(L,_,null)):Ci(L,_,m),this.I=2}}else this.I==3&&(u?Go(this,u):this.i.length==0||Oo(this.h)||Go(this))};function Go(u,m){var _;m?_=m.l:_=u.V++;const T=Ne(u.J);ee(T,"SID",u.M),ee(T,"RID",_),ee(T,"AID",u.K),Ls(u,T),u.u&&u.o&&Ms(T,u.u,u.o),_=new ui(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Mo(u.h,_),Ci(_,T,m)}function Ls(u,m){u.H&&Rt(u.H,function(_,T){ee(m,T,_)}),u.l&&Rt({},function(_,T){ee(m,T,_)})}function cu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Dt=-1;for(;;){const Te=["count="+_];Dt==-1?_>0?(Dt=L[0].g,Te.push("ofs="+Dt)):Dt=0:Te.push("ofs="+Dt);let Zt=!0;for(let me=0;me<_;me++){var j=L[me].g;const Kn=L[me].map;if(j-=Dt,j<0)Dt=Math.max(0,L[me].g-100),Zt=!1;else try{j="req"+j+"_"||"";try{var rt=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Pi,mi]of rt){let gi=mi;p(mi)&&(gi=ai(mi)),Te.push(j+Pi+"="+encodeURIComponent(gi))}}catch(Pi){throw Te.push(j+"type="+encodeURIComponent("_badmap")),Pi}}catch{T&&T(Kn)}}if(Zt){rt=Te.join("&");break t}}rt=void 0}return u=u.i.splice(0,_),m.G=u,rt}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Vt||w(),_t||(Vt(),_t=!0),C.add(m,u),u.A=0}}function Us(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Et(y(u.Da,u),mu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Et(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),Ur(this),fu(this))};function Fo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new ui(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);ee(m,"RID","rpc"),ee(m,"SID",u.M),ee(m,"AID",u.K),ee(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ee(m,"TO",u.ia),ee(m,"TYPE","xmlhttp"),Ls(u,m),u.u&&u.o&&Ms(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ns(Ne(m)),_.u=null,_.R=!0,da(_,u)}s.Va=function(){this.C!=null&&(this.C=null,Ur(this),Us(this),pe(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var _=null;if(u.g==m){Ta(u),Fo(u),u.g=null;var T=2}else if(Oi(u.h,m))_=m.G,Vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Ai(),be(T,new Mn(T,_)),Ui(u)}else hu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ba(u,m)||T==2&&Us(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:zi(u,5);break;case 4:zi(u,10);break;case 3:zi(u,6);break;default:zi(u,2)}}}function mu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function zi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new kn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ye(T,"https"),Ns(T),L?hi(T.toString(),_):Bo(T.toString(),_)}else pe(2);u.I=0,u.l&&u.l.pa(m),gu(u),Ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=ko(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,_){var T=_ instanceof kn?Ne(_):new kn(_);if(T.g!="")m&&(T.g=m+"."+T.g),Nr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new kn(null);T&&Ye(j,T),m&&(j.g=m),L&&Nr(j,L),_&&(j.h=_),T=j}return _=u.G,m=u.wa,_&&m&&ee(T,_,m),ee(T,"VER",u.ka),Ls(u,T),T}function yu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new re(new Vi({ab:_})):new re(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function zr(){}zr.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){Wt.call(this),this.g=new Lr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ir(this)}E(vn,Wt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){qo(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ai(u),u=_);m.i.push(new xe(m.Ya++,u)),m.I==3&&Ui(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,vn.Z.N.call(this)};function _u(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}E(_u,ze);function Eu(){pn.call(this),this.status=1}E(Eu,pn);function ir(u){this.g=u}E(ir,vu),ir.prototype.ra=function(){be(this.g,"a")},ir.prototype.qa=function(u){be(this.g,new _u(u))},ir.prototype.pa=function(u){be(this.g,new Eu)},ir.prototype.oa=function(){be(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,nE=function(){return new zr},eE=function(){return Ai()},tE=de,Qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,zc=Gn,Je.COMPLETE="complete",W0=Je,li.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Wt.prototype.listen=Wt.prototype.J,Dl=li,re.prototype.listenOnce=re.prototype.K,re.prototype.getLastError=re.prototype.Ha,re.prototype.getLastErrorCode=re.prototype.ya,re.prototype.getStatus=re.prototype.ca,re.prototype.getResponseJson=re.prototype.La,re.prototype.getResponseText=re.prototype.la,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Fa,J0=re}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore",i_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new pm("@firebase/firestore");function to(){return ca.logLevel}function ut(s,...t){if(ca.logLevel<=jt.DEBUG){const i=t.map(xm);ca.debug(`Firestore (${Ao}): ${s}`,...i)}}function Ar(s,...t){if(ca.logLevel<=jt.ERROR){const i=t.map(xm);ca.error(`Firestore (${Ao}): ${s}`,...i)}}function go(s,...t){if(ca.logLevel<=jt.WARN){const i=t.map(xm);ca.warn(`Firestore (${Ao}): ${s}`,...i)}}function xm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,iE(s,a,i)}function iE(s,t,i){let a=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ar(a),new Error(a)}function ve(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||iE(t,l,a)}function Ft(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Rr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class $A{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ZA{constructor(t){this.t=t,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ve(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new sa,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new sa)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ve(typeof a.accessToken=="string",31837,{l:a}),new rE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ve(t===null||typeof t=="string",2055,{h:t}),new fn(t)}}class JA{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WA{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new JA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ve(this.o===void 0,3512);const a=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new r_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ve(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new r_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=e2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function qt(s,t){return s<t?-1:s>t?1:0}function Kd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Nd(l)===Nd(c)?qt(l,c):Nd(l)?1:-1}return qt(s.length,t.length)}const n2=55296,i2=57343;function Nd(s){const t=s.charCodeAt(0);return t>=n2&&t<=i2}function po(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="__name__";class Fi{constructor(t,i,a){i===void 0?i=0:i>t.length&&Nt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Nt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Fi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Fi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Fi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return qt(t.length,i.length)}static compareSegments(t,i){const a=Fi.isNumericId(t),l=Fi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Fi.extractNumericId(t).compare(Fi.extractNumericId(i)):Kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ys.fromString(t.substring(4,t.length-2))}}class ye extends Fi{construct(t,i,a){return new ye(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new vt(at.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ye(i)}static emptyPath(){return new ye([])}}const r2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Fi{construct(t,i,a){return new En(t,i,a)}static isValidIdentifier(t){return r2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new En([s_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new vt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new vt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new vt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new vt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new En(i)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.path=t}static fromPath(t){return new St(ye.fromString(t))}static fromName(t){return new St(ye.fromString(t).popFirst(5))}static empty(){return new St(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ye.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ye.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new ye(t.slice()))}}function s2(s,t,i,a){if(t===!0&&a===!0)throw new vt(at.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function a_(s){if(St.isDocumentKey(s))throw new vt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function a2(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function o2(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Nt(12329,{type:typeof s})}function Xd(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new vt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=o2(s);throw new vt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function Zl(s,t){if(!a2(s))throw new vt(at.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new vt(at.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-62135596800,l_=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*l_);return new Le(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new vt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<o_)throw new vt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l_}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,Le._jsonSchema))return new Le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-o_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:Ue("string",Le._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new Le(0,0))}static max(){return new xt(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function l2(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=xt.fromTimestamp(a===1e9?new Le(i+1,0):new Le(i,a));return new Es(l,St.empty(),t)}function u2(s){return new Es(s.readTime,s.key,Hl)}class Es{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Es(xt.min(),St.empty(),Hl)}static max(){return new Es(xt.max(),St.empty(),Hl)}}function c2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=St.comparator(s.documentKey,t.documentKey),i!==0?i:qt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(s){if(s.code!==at.FAILED_PRECONDITION||s.message!==h2)throw s;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((S=>{d[y]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function d2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ro(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=-1;function hh(s){return s==null}function $d(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="";function g2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=u_(t)),t=p2(s.get(i),t);return u_(t)}function p2(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case aE:i+="";break;default:i+=c}}return i}function u_(s){return s+aE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Jl(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function y2(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,i){this.comparator=t,this.root=i||on.EMPTY}insert(t,i){return new Re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new on(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Nt(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new on(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new h_(this.data.getIterator())}getIteratorFrom(t){return new h_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class h_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t){this.fields=t,t.sort(En.comparator)}static empty(){return new fs([])}unionWith(t){let i=new He(En.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new fs(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oE("Invalid base64 string: "+c):c}})(t);return new ln(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new ln(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const v2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(s){if(ve(!!s,39018),typeof s=="string"){let t=0;const i=v2.exec(s);if(ve(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(s.seconds),nanos:Ae(s.nanos)}}function Ae(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ts(s){return typeof s=="string"?ln.fromBase64String(s):ln.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="server_timestamp",uE="__type__",cE="__previous_value__",hE="__local_write_time__";function Nm(s){return(s?.mapValue?.fields||{})[uE]?.stringValue===lE}function fh(s){const t=s.mapValue.fields[cE];return Nm(t)?fh(t):t}function ql(s){const t=bs(s.mapValue.fields[hE].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,i,a,l,c,d,p,v,y,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S}}const Zc="(default)";class Gl{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Gl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="__type__",b2="__max__",Cc={mapValue:{}},T2="__vector__",Zd="value";function Ss(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Nm(s)?4:w2(s)?9007199254740991:S2(s)?10:11:Nt(28295,{value:s})}function Zi(s,t){if(s===t)return!0;const i=Ss(s);if(i!==Ss(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ql(s).isEqual(ql(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=bs(l.timestampValue),p=bs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Ts(l.bytesValue).isEqual(Ts(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),p=Ae(c.doubleValue);return d===p?$d(d)===$d(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return po(s.arrayValue.values||[],t.arrayValue.values||[],Zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(c_(d)!==c_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Zi(d[v],p[v])))return!1;return!0})(s,t);default:return Nt(52216,{left:s})}}function Fl(s,t){return(s.values||[]).find((i=>Zi(i,t)))!==void 0}function yo(s,t){if(s===t)return 0;const i=Ss(s),a=Ss(t);if(i!==a)return qt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ae(c.integerValue||c.doubleValue),v=Ae(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return f_(s.timestampValue,t.timestampValue);case 4:return f_(ql(s),ql(t));case 5:return Kd(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ts(c),v=Ts(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const S=qt(p[y],v[y]);if(S!==0)return S}return qt(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=qt(Ae(c.latitude),Ae(d.latitude));return p!==0?p:qt(Ae(c.longitude),Ae(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return d_(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[Zd]?.arrayValue,S=v[Zd]?.arrayValue,E=qt(y?.values?.length||0,S?.values?.length||0);return E!==0?E:d_(y,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let E=0;E<v.length&&E<S.length;++E){const O=Kd(v[E],S[E]);if(O!==0)return O;const q=yo(p[v[E]],y[S[E]]);if(q!==0)return q}return qt(v.length,S.length)})(s.mapValue,t.mapValue);default:throw Nt(23264,{he:i})}}function f_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return qt(s,t);const i=bs(s),a=bs(t),l=qt(i.seconds,a.seconds);return l!==0?l:qt(i.nanos,a.nanos)}function d_(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=yo(i[l],a[l]);if(c)return c}return qt(i.length,a.length)}function vo(s){return Jd(s)}function Jd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=bs(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ts(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return St.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Jd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Jd(i.fields[d])}`;return l+"}"})(s.mapValue):Nt(61005,{value:s})}function Pc(s){switch(Ss(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(s);return t?16+Pc(t):16;case 5:return 2*s.stringValue.length;case 6:return Ts(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Jl(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(s.mapValue);default:throw Nt(13486,{value:s})}}function Wd(s){return!!s&&"integerValue"in s}function Dm(s){return!!s&&"arrayValue"in s}function m_(s){return!!s&&"nullValue"in s}function g_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Dd(s){return!!s&&"mapValue"in s}function S2(s){return(s?.mapValue?.fields||{})[E2]?.stringValue===T2}function Ll(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Jl(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ll(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return t}return{...s}}function w2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===b2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this.value=t}static empty(){return new Yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Dd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ll(i)}setAll(t){let i=En.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Ll(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Dd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Zi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Dd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Jl(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Yi(Ll(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new dn(t,0,xt.min(),xt.min(),xt.min(),Yi.empty(),0)}static newFoundDocument(t,i,a,l){return new dn(t,1,i,xt.min(),a,l,0)}static newNoDocument(t,i){return new dn(t,2,i,xt.min(),xt.min(),Yi.empty(),0)}static newUnknownDocument(t,i){return new dn(t,3,i,xt.min(),xt.min(),Yi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,i){this.position=t,this.inclusive=i}}function p_(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=St.comparator(St.fromName(d.referenceValue),i.key):a=yo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function y_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Zi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function A2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{}class je extends fE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new C2(t,i,a):i==="array-contains"?new N2(t,a):i==="in"?new D2(t,a):i==="not-in"?new O2(t,a):i==="array-contains-any"?new M2(t,a):new je(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new I2(t,a):new x2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yo(i,this.value)):i!==null&&Ss(this.value)===Ss(i)&&this.matchesComparison(yo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends fE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ji(t,i)}matches(t){return dE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dE(s){return s.op==="and"}function mE(s){return R2(s)&&dE(s)}function R2(s){for(const t of s.filters)if(t instanceof Ji)return!1;return!0}function tm(s){if(s instanceof je)return s.field.canonicalString()+s.op.toString()+vo(s.value);if(mE(s))return s.filters.map((t=>tm(t))).join(",");{const t=s.filters.map((i=>tm(i))).join(",");return`${s.op}(${t})`}}function gE(s,t){return s instanceof je?(function(a,l){return l instanceof je&&a.op===l.op&&a.field.isEqual(l.field)&&Zi(a.value,l.value)})(s,t):s instanceof Ji?(function(a,l){return l instanceof Ji&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&gE(d,l.filters[p])),!0):!1})(s,t):void Nt(19439)}function pE(s){return s instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${vo(i.value)}`})(s):s instanceof Ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(pE).join(" ,")+"}"})(s):"Filter"}class C2 extends je{constructor(t,i,a){super(t,i,a),this.key=St.fromName(a.referenceValue)}matches(t){const i=St.comparator(t.key,this.key);return this.matchesComparison(i)}}class I2 extends je{constructor(t,i){super(t,"in",i),this.keys=yE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class x2 extends je{constructor(t,i){super(t,"not-in",i),this.keys=yE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function yE(s,t){return(t.arrayValue?.values||[]).map((i=>St.fromName(i.referenceValue)))}class N2 extends je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&Fl(i.arrayValue,this.value)}}class D2 extends je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class O2 extends je{constructor(t,i){super(t,"not-in",i)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class M2 extends je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Fl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function v_(s,t=null,i=[],a=[],l=null,c=null,d=null){return new V2(s,t,i,a,l,c,d)}function Om(s){const t=Ft(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>tm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>vo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>vo(a))).join(",")),t.Te=i}return t.Te}function Mm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!A2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!gE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!y_(s.startAt,t.startAt)&&y_(s.endAt,t.endAt)}function em(s){return St.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function k2(s,t,i,a,l,c,d,p){return new dh(s,t,i,a,l,c,d,p)}function vE(s){return new dh(s)}function __(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function L2(s){return s.collectionGroup!==null}function Ul(s){const t=Ft(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new He(En.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Wc(c,a))})),i.has(En.keyField().canonicalString())||t.Ie.push(new Wc(En.keyField(),a))}return t.Ie}function Xi(s){const t=Ft(s);return t.Ee||(t.Ee=U2(t,Ul(s))),t.Ee}function U2(s,t){if(s.limitType==="F")return v_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Wc(l.field,c)}));const i=s.endAt?new Jc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Jc(s.startAt.position,s.startAt.inclusive):null;return v_(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function nm(s,t,i){return new dh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function mh(s,t){return Mm(Xi(s),Xi(t))&&s.limitType===t.limitType}function _E(s){return`${Om(Xi(s))}|lt:${s.limitType}`}function eo(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>pE(l))).join(", ")}]`),hh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>vo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>vo(l))).join(",")),`Target(${a})`})(Xi(s))}; limitType=${s.limitType})`}function gh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):St.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Ul(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const y=p_(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,Ul(a),l)||a.endAt&&!(function(d,p,v){const y=p_(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,Ul(a),l))})(s,t)}function z2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function EE(s){return(t,i)=>{let a=!1;for(const l of Ul(s)){const c=P2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function P2(s,t,i){const a=s.field.isKeyField()?St.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?yo(v,y):Nt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Nt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Jl(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return y2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Re(St.comparator);function ws(){return B2}const bE=new Re(St.comparator);function Ol(...s){let t=bE;for(const i of s)t=t.insert(i.key,i);return t}function j2(s){let t=bE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ia(){return zl()}function TE(){return zl()}function zl(){return new ha((s=>s.toString()),((s,t)=>s.isEqual(t)))}const H2=new He(St.comparator);function Qt(...s){let t=H2;for(const i of s)t=t.add(i);return t}const q2=new He(qt);function G2(){return q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(t)?"-0":t}}function Y2(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function Q2(s,t,i){return s instanceof im?(function(l,c){const d={fields:{[uE]:{stringValue:lE},[hE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Nm(c)&&(c=fh(c)),c&&(d.fields[cE]=c),{mapValue:d}})(i,t):s instanceof th?SE(s,t):s instanceof eh?wE(s,t):(function(l,c){const d=X2(l,c),p=E_(d)+E_(l.Ae);return Wd(d)&&Wd(l.Ae)?Y2(p):F2(l.serializer,p)})(s,t)}function K2(s,t,i){return s instanceof th?SE(s,t):s instanceof eh?wE(s,t):i}function X2(s,t){return s instanceof rm?(function(a){return Wd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class im extends ph{}class th extends ph{constructor(t){super(),this.elements=t}}function SE(s,t){const i=AE(t);for(const a of s.elements)i.some((l=>Zi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class eh extends ph{constructor(t){super(),this.elements=t}}function wE(s,t){let i=AE(t);for(const a of s.elements)i=i.filter((l=>!Zi(l,a)));return{arrayValue:{values:i}}}class rm extends ph{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function E_(s){return Ae(s.integerValue||s.doubleValue)}function AE(s){return Dm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function $2(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof th&&l instanceof th||a instanceof eh&&l instanceof eh?po(a.elements,l.elements,Zi):a instanceof rm&&l instanceof rm?Zi(a.Ae,l.Ae):a instanceof im&&l instanceof im})(s.transform,t.transform)}class aa{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new aa}static exists(t){return new aa(void 0,t)}static updateTime(t){return new aa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Vm{}function RE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new J2(s.key,aa.none()):new km(s.key,s.data,aa.none());{const i=s.data,a=Yi.empty();let l=new He(En.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new yh(s.key,a,new fs(l.toArray()),aa.none())}}function Z2(s,t,i){s instanceof km?(function(l,c,d){const p=l.value.clone(),v=T_(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof yh?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=T_(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(CE(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Pl(s,t,i,a){return s instanceof km?(function(c,d,p,v){if(!Bc(c.precondition,d))return p;const y=c.value.clone(),S=S_(c.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof yh?(function(c,d,p,v){if(!Bc(c.precondition,d))return p;const y=S_(c.fieldTransforms,v,d),S=d.data;return S.setAll(CE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(s,t,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function b_(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&po(a,l,((c,d)=>$2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class km extends Vm{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class yh extends Vm{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function CE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function T_(s,t,i){const a=new Map;ve(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,K2(d,p,i[l]))}return a}function S_(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Q2(c,d,t))}return a}class J2 extends Vm{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Z2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Pl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Pl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=TE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=RE(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(xt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Qt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,((i,a)=>b_(i,a)))&&po(this.baseMutations,t.baseMutations,((i,a)=>b_(i,a)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,Gt;function IE(s){if(s===void 0)return Ar("GRPC error has no .code"),at.UNKNOWN;switch(s){case ke.OK:return at.OK;case ke.CANCELLED:return at.CANCELLED;case ke.UNKNOWN:return at.UNKNOWN;case ke.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case ke.INTERNAL:return at.INTERNAL;case ke.UNAVAILABLE:return at.UNAVAILABLE;case ke.UNAUTHENTICATED:return at.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case ke.NOT_FOUND:return at.NOT_FOUND;case ke.ALREADY_EXISTS:return at.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return at.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case ke.ABORTED:return at.ABORTED;case ke.OUT_OF_RANGE:return at.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return at.UNIMPLEMENTED;case ke.DATA_LOSS:return at.DATA_LOSS;default:return Nt(39323,{code:s})}}(Gt=ke||(ke={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new ys([4294967295,4294967295],0);function w_(s){const t=nR().encode(s),i=new Z0;return i.update(t),new Uint8Array(i.digest())}function A_(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ys([i,a],0),new ys([l,c],0)]}class Lm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ml(`Invalid padding: ${i}`);if(a<0)throw new Ml(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ys.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ys.fromNumber(a)));return l.compare(iR)===1&&(l=new ys([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=w_(t),[a,l]=A_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Lm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=w_(t),[a,l]=A_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(xt.min(),l,new Re(qt),ws(),Qt())}}class Wl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Wl(a,i,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class xE{constructor(t,i){this.targetId=t,this.Ce=i}}class NE{constructor(t,i,a=ln.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class R_{constructor(){this.ve=0,this.Fe=C_(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Qt(),i=Qt(),a=Qt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Nt(38017,{changeType:c})}})),new Wl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=C_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ws(),this.Je=Ic(),this.He=Ic(),this.Ye=new Re(qt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Nt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(em(c))if(a===0){const d=new St(c.path);this.et(i,d,dn.newNoDocument(d,xt.min()))}else ve(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ts(a).toUint8Array()}catch(v){if(v instanceof oE)return go("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Lm(d,l,c)}catch(v){return go(v instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&em(p.target)){const v=new St(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,dn.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Qt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ye,this.je,a);return this.je=ws(),this.Je=Ic(),this.He=Ic(),this.Ye=new Re(qt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new R_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new He(qt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new He(qt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new R_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new Re(St.comparator)}function C_(){return new Re(St.comparator)}const sR={asc:"ASCENDING",desc:"DESCENDING"},aR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oR={and:"AND",or:"OR"};class lR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(s,t){return s.useProto3Json||hh(t)?t:{value:t}}function uR(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cR(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function oo(s){return ve(!!s,49232),xt.fromTimestamp((function(i){const a=bs(i);return new Le(a.seconds,a.nanos)})(s))}function hR(s,t){return am(s,t).canonicalString()}function am(s,t){const i=(function(l){return new ye(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function DE(s){const t=ye.fromString(s);return ve(LE(t),10190,{key:t.toString()}),t}function Od(s,t){const i=DE(t);if(i.get(1)!==s.databaseId.projectId)throw new vt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new vt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new St(ME(i))}function OE(s,t){return hR(s.databaseId,t)}function fR(s){const t=DE(s);return t.length===4?ye.emptyPath():ME(t)}function I_(s){return new ye(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ME(s){return ve(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function dR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Nt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(ve(S===void 0||typeof S=="string",58123),ln.fromBase64String(S||"")):(ve(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),ln.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?at.UNKNOWN:IE(y.code);return new vt(S,y.message||"")})(d);i=new NE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Od(s,a.document.name),c=oo(a.document.updateTime),d=a.document.createTime?oo(a.document.createTime):xt.min(),p=new Yi({mapValue:{fields:a.document.fields}}),v=dn.newFoundDocument(l,c,d,p),y=a.targetIds||[],S=a.removedTargetIds||[];i=new jc(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Od(s,a.document),c=a.readTime?oo(a.readTime):xt.min(),d=dn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new jc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Od(s,a.document),c=a.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return Nt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new eR(l,c),p=a.targetId;i=new xE(p,d)}}return i}function mR(s,t){return{documents:[OE(s,t.path)]}}function gR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=OE(s,l);const c=(function(y){if(y.length!==0)return kE(Ji.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(O){return{field:no(O.field),direction:vR(O.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function pR(s){let t=fR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ve(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(E){const O=VE(E);return O instanceof Ji&&mE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(E){return E.map((O=>(function(G){return new Wc(io(G.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(E){let O;return O=typeof E=="object"?E.value:E,hh(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(E){const O=!!E.before,q=E.values||[];return new Jc(q,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(E){const O=!E.before,q=E.values||[];return new Jc(q,O)})(i.endAt)),k2(t,l,d,c,p,"F",v,y)}function yR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=io(i.unaryFilter.field);return je.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return je.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return je.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return je.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return je.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ji.create(i.compositeFilter.filters.map((a=>VE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}})(i.compositeFilter.op))})(s):Nt(30097,{filter:s})}function vR(s){return sR[s]}function _R(s){return aR[s]}function ER(s){return oR[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return En.fromServerFormat(s.fieldPath)}function kE(s){return s instanceof je?(function(i){if(i.op==="=="){if(g_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(m_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(g_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(m_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:_R(i.op),value:i.value}}})(s):s instanceof Ji?(function(i){const a=i.getFilters().map((l=>kE(l)));return a.length===1?a[0]:{compositeFilter:{op:ER(i.op),filters:a}}})(s):Nt(54877,{filter:s})}function LE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t,i,a,l,c=xt.min(),d=xt.min(),p=ln.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new ds(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t){this.yt=t}}function TR(s){const t=pR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?nm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.Cn=new wR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Es.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Es.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class wR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new He(ye.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new He(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class Nn{static withCacheSize(t){return new Nn(t,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(UE,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="LruGarbageCollector",AR=1048576;function D_([s,t],[i,a]){const l=qt(s,i);return l===0?qt(t,a):l}class RR{constructor(t){this.Ir=t,this.buffer=new He(D_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();D_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class CR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(N_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ro(i)?ut(N_,"Ignoring IndexedDB error during garbage collection: ",i):await uh(i)}await this.Vr(3e5)}))}}class IR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(ch.ce);const a=new RR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(x_)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,d=Date.now(),this.nthSequenceNumber(t,l)))).next((E=>(a=E,p=Date.now(),this.removeTargets(t,a,i)))).next((E=>(c=E,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((E=>(y=Date.now(),to()<=jt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${E} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function xR(s,t){return new IR(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.changes=new ha((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,dn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Pl(a.mutation,l,fs.empty(),Le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Qt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Qt()){const l=ia();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Ol();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=ia();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Qt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ws();const d=zl(),p=(function(){return zl()})();return i.forEach(((v,y)=>{const S=a.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof yh)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Pl(S.mutation,y,S.mutation.getFieldMask(),Le.now())):d.set(y.key,fs.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new DR(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=zl();let l=new Re(((d,p)=>d-p)),c=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=a.get(v)||fs.empty();S=p.applyToLocalView(y,S),a.set(v,S);const E=(l.get(p.batchId)||Qt()).add(v);l=l.insert(p.batchId,E)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,S=v.value,E=TE();S.forEach((O=>{if(!c.has(O)){const q=RE(i.get(O),a.get(O));q!==null&&E.set(O,q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,E))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return St.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):L2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(ia());let p=Hl,v=c;return d.next((y=>Z.forEach(y,((S,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(t,S).next((O=>{v=v.insert(S,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Qt()))).next((S=>({batchId:p,changes:j2(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new St(i)).next((a=>{let l=Ol();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(v=>{const y=(function(E,O){return new dh(O,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((S=>{S.forEach(((E,O)=>{d=d.insert(E,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,dn.newInvalidDocument(S)))}));let p=Ol();return d.forEach(((v,y)=>{const S=c.get(v);S!==void 0&&Pl(S.mutation,y,fs.empty(),Le.now()),gh(i,y)&&(p=p.insert(v,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:oo(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:TR(l.bundledQuery),readTime:oo(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.overlays=new Re(St.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ia();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=ia(),c=i.length+1,d=new St(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new Re(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=ia(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=ia(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new tR(i,a));let c=this.qr.get(i);c===void 0&&(c=Qt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.Qr=new He(Ke.$r),this.Ur=new He(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ke(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ke(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new St(new ye([])),a=new Ke(i,t),l=new Ke(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new St(new ye([])),a=new Ke(i,t),l=new Ke(i,t+1);let c=Qt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ke(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return St.comparator(t.key,i.key)||qt(t.Yr,i.Yr)}static Kr(t,i){return qt(t.Yr,i.Yr)||St.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ke.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new W2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?m2:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ke(i,0),l=new Ke(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new He(qt);return i.forEach((l=>{const c=new Ke(l,0),d=new Ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;St.isDocumentKey(c)||(c=c.child(""));const d=new Ke(new St(c),0);let p=new He(qt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){ve(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ke(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t){this.ri=t,this.docs=(function(){return new Re(St.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(t,i){let a=ws();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():dn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ws();const d=i.path,p=new St(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||c2(u2(S),a)<=0||(l.has(S.key)||gh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Nt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new zR(this)}getSize(t){return Z.resolve(this.size)}}class zR extends NR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t){this.persistence=t,this.si=new ha((i=>Om(i)),Mm),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new Um,this.targetCount=0,this.ai=_o.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new _o(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new kR,this.referenceDelegate=t(this),this.Pi=new PR(this),this.indexManager=new SR,this.remoteDocumentCache=(function(l){return new UR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new bR(i),this.Ii=new MR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new VR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new LR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ut("MemoryPersistence","Starting transaction:",t);const l=new BR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class BR extends f2{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Um,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw Nt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=St.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,xt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class nh{constructor(t,i){this.persistence=t,this.pi=new ha((a=>g2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=xR(this,i)}static mi(t,i){return new nh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,xt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Qt(),l=Qt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Pm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return I1()?8:d2(mn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new jR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(to()<=jt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(to()<=jt.DEBUG&&ut("QueryEngine","Query:",eo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(to()<=jt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xi(i))):Z.resolve())}ys(t,i){if(__(i))return Z.resolve(null);let a=Xi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=nm(i,null,"F"),a=Xi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Qt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,d,v.readTime)?this.ys(t,nm(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,a,l){return __(i)||l.isEqual(xt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(to()<=jt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),eo(i)),this.vs(t,d,i,l2(l,Hl)).next((p=>p)))}))}Ds(t,i){let a=new He(EE(t));return i.forEach(((l,c)=>{gh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return to()<=jt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",eo(i)),this.ps.getDocumentsMatchingQuery(t,i,Es.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="LocalStore",qR=3e8;class GR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Re(qt),this.xs=new ha((c=>Om(c)),Mm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function FR(s,t,i,a){return new GR(s,t,i,a)}async function PE(s,t){const i=Ft(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Qt();for(const y of l){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of c){p.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function BE(s){const t=Ft(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function YR(s,t){const i=Ft(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((S,E)=>{const O=l.get(E);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,E).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,E))));let q=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(E)!==null?q=q.withResumeToken(ln.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):S.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(S.resumeToken,a)),l=l.insert(E,q),(function(nt,W,it){return nt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=qR?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(O,q,S)&&p.push(i.Pi.updateTargetData(c,q))}));let v=ws(),y=Qt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(QR(c,d,t.documentUpdates).next((S=>{v=S.ks,y=S.qs}))),!a.isEqual(xt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((E=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=l,c)))}function QR(s,t,i){let a=Qt(),l=Qt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ws();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(xt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):ut(Bm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function KR(s,t){const i=Ft(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ds(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function om(s,t,i){const a=Ft(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ro(d))throw d;ut(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function O_(s,t,i){const a=Ft(s);let l=xt.min(),c=Qt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const E=Ft(v),O=E.xs.get(S);return O!==void 0?Z.resolve(E.Ms.get(O)):E.Pi.getTargetData(y,S)})(a,d,Xi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:xt.min(),i?c:Qt()))).next((p=>(XR(a,z2(t),p),{documents:p,Qs:c})))))}function XR(s,t,i){let a=s.Os.get(t)||xt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class M_{constructor(){this.activeTargetIds=G2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $R{constructor(){this.Mo=new M_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new M_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class k_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(V_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(V_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function lm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RestConnection",JR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=lm(),p=this.zo(t,i.toUriEncodedString());ut(Md,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,c);const{host:y}=new URL(p),S=To(y);return this.Jo(t,p,v,a,S).then((E=>(ut(Md,`Received RPC '${t}' ${d}: `,E),E)),(E=>{throw go(Md,`RPC '${t}' ${d} failed with error: `,E,"url: ",p,"request:",a),E}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=JR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class eC extends WR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=lm();return new Promise(((p,v)=>{const y=new J0;y.setWithCredentials(!0),y.listenOnce(W0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const E=y.getResponseJson();ut(hn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(E)),p(E);break;case zc.TIMEOUT:ut(hn,`RPC '${t}' ${d} timed out`),v(new vt(at.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const O=y.getStatus();if(ut(hn,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const G=q?.error;if(G&&G.status&&G.message){const nt=(function(it){const gt=it.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(gt)>=0?gt:at.UNKNOWN})(G.status);v(new vt(nt,G.message))}else v(new vt(at.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new vt(at.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(hn,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);ut(hn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=lm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=nE(),p=eE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const S=c.join("");ut(hn,`Creating RPC '${t}' stream ${l}: ${S}`,v);const E=d.createWebChannel(S,v);this.I_(E);let O=!1,q=!1;const G=new tC({Yo:W=>{q?ut(hn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(O||(ut(hn,`Opening RPC '${t}' stream ${l} transport.`),E.open(),O=!0),ut(hn,`RPC '${t}' stream ${l} sending:`,W),E.send(W))},Zo:()=>E.close()}),nt=(W,it,gt)=>{W.listen(it,(lt=>{try{gt(lt)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return nt(E,Dl.EventType.OPEN,(()=>{q||(ut(hn,`RPC '${t}' stream ${l} transport opened.`),G.o_())})),nt(E,Dl.EventType.CLOSE,(()=>{q||(q=!0,ut(hn,`RPC '${t}' stream ${l} transport closed`),G.a_(),this.E_(E))})),nt(E,Dl.EventType.ERROR,(W=>{q||(q=!0,go(hn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),G.a_(new vt(at.UNAVAILABLE,"The operation could not be completed")))})),nt(E,Dl.EventType.MESSAGE,(W=>{if(!q){const it=W.data[0];ve(!!it,16349);const gt=it,lt=gt?.error||gt[0]?.error;if(lt){ut(hn,`RPC '${t}' stream ${l} received error:`,lt);const Tt=lt.status;let Vt=(function(w){const R=ke[w];if(R!==void 0)return IE(R)})(Tt),_t=lt.message;Vt===void 0&&(Vt=at.INTERNAL,_t="Unknown error status: "+Tt+" with message "+lt.message),q=!0,G.a_(new vt(Vt,_t)),E.close()}else ut(hn,`RPC '${t}' stream ${l} received:`,it),G.u_(it)}})),nt(p,tE.STAT_EVENT,(W=>{W.stat===Qd.PROXY?ut(hn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Qd.NOPROXY&&ut(hn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(s){return new lR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class nC{constructor(t,i,a,l,c,d,p,v){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(Ar(i.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new vt(at.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(L_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iC extends nC{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=dR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return xt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xt.min():d.readTime?oo(d.readTime):xt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=I_(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=em(v)?{documents:mR(c,v)}:{query:gR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=cR(c,d.resumeToken);const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(xt.min())>0){p.readTime=uR(c,d.snapshotVersion.toTimestamp());const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=yR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=I_(this.serializer),i.removeTarget=t,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{}class sC extends rC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new vt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,am(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new vt(at.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,am(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new vt(at.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="RemoteStore";class oC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{eu(this)&&(ut(Eo,"Restarting streams for network reachability change."),await(async function(v){const y=Ft(v);y.Ea.add(4),await tu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await _h(y)})(this))}))})),this.Ra=new aC(a,l)}}async function _h(s){if(eu(s))for(const t of s.da)await t(!0)}async function tu(s){for(const t of s.da)await t(!1)}function qE(s,t){const i=Ft(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Gm(i)?qm(i):Co(i).O_()&&Hm(i,t))}function jm(s,t){const i=Ft(s),a=Co(i);i.Ia.delete(t),a.O_()&&GE(i,t),i.Ia.size===0&&(a.O_()?a.L_():eu(i)&&i.Ra.set("Unknown"))}function Hm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Co(s).Y_(t)}function GE(s,t){s.Va.Ue(t),Co(s).Z_(t)}function qm(s){s.Va=new rR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Co(s).start(),s.Ra.ua()}function Gm(s){return eu(s)&&!Co(s).x_()&&s.Ia.size>0}function eu(s){return Ft(s).Ea.size===0}function FE(s){s.Va=void 0}async function lC(s){s.Ra.set("Online")}async function uC(s){s.Ia.forEach(((t,i)=>{Hm(s,t)}))}async function cC(s,t){FE(s),Gm(s)?(s.Ra.ha(t),qm(s)):s.Ra.set("Unknown")}async function hC(s,t,i){if(s.Ra.set("Online"),t instanceof NE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){ut(Eo,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await U_(s,a)}else if(t instanceof jc?s.Va.Ze(t):t instanceof xE?s.Va.st(t):s.Va.tt(t),!i.isEqual(xt.min()))try{const a=await BE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(ln.EMPTY_BYTE_STRING,S.snapshotVersion)),GE(c,v);const E=new ds(S.target,v,y,S.sequenceNumber);Hm(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ut(Eo,"Failed to raise snapshot:",a),await U_(s,a)}}async function U_(s,t,i){if(!Ro(t))throw t;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>BE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ut(Eo,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await _h(s)}))}async function z_(s,t){const i=Ft(s);i.asyncQueue.verifyOperationInProgress(),ut(Eo,"RemoteStore received new credentials");const a=eu(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await _h(i)}async function fC(s,t){const i=Ft(s);t?(i.Ea.delete(2),await _h(i)):t||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function Co(s){return s.ma||(s.ma=(function(i,a,l){const c=Ft(i);return c.sa(),new iC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:lC.bind(null,s),t_:uC.bind(null,s),r_:cC.bind(null,s),H_:hC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Gm(s)?qm(s):s.Ra.set("Unknown")):(await s.ma.stop(),FE(s))}))),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Fm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YE(s,t){if(Ar("AsyncQueue",`${t}: ${s}`),Ro(s))return new vt(at.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||St.comparator(i.key,a.key):(i,a)=>St.comparator(i.key,a.key),this.keyedMap=Ol(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new lo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.ga=new Re(St.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Nt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class bo{constructor(t,i,a,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new bo(t,i,lo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class mC{constructor(){this.queries=B_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ft(i),c=l.queries;l.queries=B_(),c.forEach(((d,p)=>{for(const v of p.Sa)v.onError(a)}))})(this,new vt(at.ABORTED,"Firestore shutting down"))}}function B_(){return new ha((s=>_E(s)),mh)}async function gC(s,t){const i=Ft(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new dC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=YE(d,`Initialization of query '${eo(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ym(i)}async function pC(s,t){const i=Ft(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function yC(s,t){const i=Ft(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Ym(i)}function vC(s,t,i){const a=Ft(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Ym(s){s.Ca.forEach((t=>{t.next()}))}var um,j_;(j_=um||(um={})).Ma="default",j_.Cache="cache";class _C{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new bo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t){this.key=t}}class KE{constructor(t){this.key=t}}class EC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=EE(t),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new P_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,E)=>{const O=l.get(S),q=gh(this.query,E)?E:null,G=!!O&&this.mutatedKeys.has(O.key),nt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let W=!1;O&&q?O.data.isEqual(q.data)?G!==nt&&(a.track({type:3,doc:q}),W=!0):this.su(O,q)||(a.track({type:2,doc:q}),W=!0,(v&&this.eu(q,v)>0||y&&this.eu(q,y)<0)&&(p=!0)):!O&&q?(a.track({type:0,doc:q}),W=!0):O&&!q&&(a.track({type:1,doc:O}),W=!0,(v||y)&&(p=!0)),W&&(q?(d=d.add(q),c=nt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,E)=>(function(q,G){const nt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Rt:W})}};return nt(q)-nt(G)})(S.type,E.type)||this.eu(S.doc,E.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new bo(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Qt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new KE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new QE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qm="SyncEngine";class bC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class TC{constructor(t){this.key=t,this.hu=!1}}class SC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((p=>_E(p)),mh),this.Iu=new Map,this.Eu=new Set,this.du=new Re(St.comparator),this.Au=new Map,this.Ru=new Um,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wC(s,t,i=!0){const a=WE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await XE(a,t,i,!0),l}async function AC(s,t){const i=WE(s);await XE(i,t,!0,!1)}async function XE(s,t,i,a){const l=await KR(s.localStore,Xi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await RC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&qE(s.remoteStore,l),p}async function RC(s,t,i,a,l){s.pu=(E,O,q)=>(async function(nt,W,it,gt){let lt=W.view.ru(it);lt.Cs&&(lt=await O_(nt.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,lt))));const Tt=gt&&gt.targetChanges.get(W.targetId),Vt=gt&&gt.targetMismatches.get(W.targetId)!=null,_t=W.view.applyChanges(lt,nt.isPrimaryClient,Tt,Vt);return q_(nt,W.targetId,_t.au),_t.snapshot})(s,E,O,q);const c=await O_(s.localStore,t,!0),d=new EC(t,c.Qs),p=d.ru(c.documents),v=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,v);q_(s,i,y.au);const S=new bC(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function CC(s,t,i){const a=Ft(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!mh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await om(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&jm(a.remoteStore,l.targetId),cm(a,l.targetId)})).catch(uh)):(cm(a,l.targetId),await om(a.localStore,l.targetId,!0))}async function IC(s,t){const i=Ft(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),jm(i.remoteStore,a.targetId))}async function $E(s,t){const i=Ft(s);try{const a=await YR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ve(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ve(d.hu,14607):l.removedDocuments.size>0&&(ve(d.hu,42227),d.hu=!1))})),await JE(i,a,t)}catch(a){await uh(a)}}function H_(s,t,i){const a=Ft(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Ft(d);v.onlineState=p;let y=!1;v.queries.forEach(((S,E)=>{for(const O of E.Sa)O.va(p)&&(y=!0)})),y&&Ym(v)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function xC(s,t,i){const a=Ft(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new Re(St.comparator);d=d.insert(c,dn.newNoDocument(c,xt.min()));const p=Qt().add(c),v=new vh(xt.min(),new Map,new Re(qt),d,p);await $E(a,v),a.du=a.du.remove(c),a.Au.delete(t),Km(a)}else await om(a.localStore,t,!1).then((()=>cm(a,t,i))).catch(uh)}function cm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||ZE(s,a)}))}function ZE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(jm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Km(s))}function q_(s,t,i){for(const a of i)a instanceof QE?(s.Ru.addReference(a.key,t),NC(s,a)):a instanceof KE?(ut(Qm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||ZE(s,a.key)):Nt(19791,{wu:a})}function NC(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ut(Qm,"New document in limbo: "+i),s.Eu.add(a),Km(s))}function Km(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new St(ye.fromString(t)),a=s.fu.next();s.Au.set(a,new TC(i)),s.du=s.du.insert(i,a),qE(s.remoteStore,new ds(Xi(vE(i.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function JE(s,t,i){const a=Ft(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Pm.As(v.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(v,y){const S=Ft(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Z.forEach(y,(O=>Z.forEach(O.Es,(q=>S.persistence.referenceDelegate.addReference(E,O.targetId,q))).next((()=>Z.forEach(O.ds,(q=>S.persistence.referenceDelegate.removeReference(E,O.targetId,q)))))))))}catch(E){if(!Ro(E))throw E;ut(Bm,"Failed to update sequence numbers: "+E)}for(const E of y){const O=E.targetId;if(!E.fromCache){const q=S.Ms.get(O),G=q.snapshotVersion,nt=q.withLastLimboFreeSnapshotVersion(G);S.Ms=S.Ms.insert(O,nt)}}})(a.localStore,c))}async function DC(s,t){const i=Ft(s);if(!i.currentUser.isEqual(t)){ut(Qm,"User change. New user:",t.toKey());const a=await PE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new vt(at.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await JE(i,a.Ls)}}function OC(s,t){const i=Ft(s),a=i.Au.get(t);if(a&&a.hu)return Qt().add(a.key);{let l=Qt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function WE(s){const t=Ft(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=$E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xC.bind(null,t),t.Pu.H_=yC.bind(null,t.eventManager),t.Pu.yu=vC.bind(null,t.eventManager),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jE(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return FR(this.persistence,new HR,t.initialUser,this.serializer)}Cu(t){return new zE(zm.mi,this.serializer)}Du(t){return new $R}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class MC extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ve(this.persistence.referenceDelegate instanceof nh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new CR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new zE((a=>nh.mi(a,i)),this.serializer)}}class hm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>H_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DC.bind(null,this.syncEngine),await fC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new mC})()}createDatastore(t){const i=jE(t.databaseInfo.databaseId),a=(function(c){return new eC(c)})(t.databaseInfo);return(function(c,d,p,v){return new sC(c,d,p,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new oC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>H_(this.syncEngine,i,0)),(function(){return k_.v()?new k_:new ZR})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,S){const E=new SC(l,c,d,p,v,y);return S&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ft(i);ut(Eo,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class kC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ut(As,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ut(As,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=YE(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function kd(s,t){s.asyncQueue.verifyOperationInProgress(),ut(As,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await PE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function G_(s,t){s.asyncQueue.verifyOperationInProgress();const i=await LC(s);ut(As,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>z_(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>z_(t.remoteStore,l))),s._onlineComponents=t}async function LC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ut(As,"Using user provided OfflineComponentProvider");try{await kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===at.FAILED_PRECONDITION||l.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;go("Error using user provided cache. Falling back to memory cache: "+i),await kd(s,new ih)}}else ut(As,"Using default OfflineComponentProvider"),await kd(s,new MC(void 0));return s._offlineComponents}async function UC(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ut(As,"Using user provided OnlineComponentProvider"),await G_(s,s._uninitializedComponentsProvider._online)):(ut(As,"Using default OnlineComponentProvider"),await G_(s,new hm))),s._onlineComponents}async function zC(s){const t=await UC(s),i=t.eventManager;return i.onListen=wC.bind(null,t.syncEngine),i.onUnlisten=CC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=AC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=IC.bind(null,t.syncEngine),i}function PC(s,t,i={}){const a=new sa;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const S=new VC({next:O=>{S.Nu(),d.enqueueAndForget((()=>pC(c,E))),O.fromCache&&v.source==="server"?y.reject(new vt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),E=new _C(p,S,{includeMetadataChanges:!0,qa:!0});return gC(c,E)})(await zC(s),s.asyncQueue,t,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="firestore.googleapis.com",Y_=!0;class Q_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eb,this.ssl=Y_}else this.host=t.host,this.ssl=t.ssl??Y_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AR)throw new vt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}s2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tb(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new vt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new vt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new vt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xm{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new XA;switch(a.type){case"firstParty":return new WA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new vt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=F_.get(i);a&&(ut("ComponentProvider","Removing Datastore"),F_.delete(i),a.terminate())})(this),Promise.resolve()}}function BC(s,t,i,a={}){s=Xd(s,Xm);const l=To(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(d0(`https://${p}`),m0("Firestore",!0)),c.host!==eb&&c.host!==p&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!oa(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=fn.MOCK_USER;else{y=_1(a.mockUserToken,s._app?.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new vt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new fn(E)}s._authCredentials=new $A(new rE(y,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Eh(this.firestore,t,this._query)}}class ii{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ii(this.firestore,t,this._key)}toJSON(){return{type:ii._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Zl(i,ii._jsonSchema))return new ii(t,a||null,new St(ye.fromString(i.referencePath)))}}ii._jsonSchemaVersion="firestore/documentReference/1.0",ii._jsonSchema={type:Ue("string",ii._jsonSchemaVersion),referencePath:Ue("string")};class uo extends Eh{constructor(t,i,a){super(t,i,vE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ii(this.firestore,null,new St(t))}withConverter(t){return new uo(this.firestore,t,this._path)}}function jC(s,t,...i){if(s=Cr(s),s instanceof Xm){const a=ye.fromString(t,...i);return a_(a),new uo(s,null,a)}{if(!(s instanceof ii||s instanceof uo))throw new vt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ye.fromString(t,...i));return a_(a),new uo(s.firestore,null,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="AsyncQueue";class X_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HE(this,"async_queue_retry"),this._c=()=>{const a=Vd();a&&ut(K_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new sa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ro(t))throw t;ut(K_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",$_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Fm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Nt(47125,{Pc:$_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function $_(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class nb extends Xm{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new X_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new X_(t),this._firestoreClient=void 0,await t}}}function HC(s,t){const i=typeof s=="object"?s:v0(),a=typeof s=="string"?s:Zc,l=vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=y1("firestore");c&&BC(l,...c)}return l}function qC(s){if(s._terminated)throw new vt(at.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||GC(s),s._firestoreClient}function GC(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new _2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new kC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qi(ln.fromBase64String(t))}catch(i){throw new vt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Qi(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Qi._jsonSchema))return Qi.fromBase64String(t.bytes)}}Qi._jsonSchemaVersion="firestore/bytes/1.0",Qi._jsonSchema={type:Ue("string",Qi._jsonSchemaVersion),bytes:Ue("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new vt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new vt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new vt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vs._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,vs._jsonSchema))return new vs(t.latitude,t.longitude)}}vs._jsonSchemaVersion="firestore/geoPoint/1.0",vs._jsonSchema={type:Ue("string",vs._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:_s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,_s._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new _s(t.vectorValues);throw new vt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:Ue("string",_s._jsonSchemaVersion),vectorValues:Ue("object")};const FC=new RegExp("[~\\*/\\[\\]]");function YC(s,t,i){if(t.search(FC)>=0)throw Z_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new ib(...t.split("."))._internalPath}catch{throw Z_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Z_(s,t,i,a,l){let c=`Function ${t}() called with invalid data`;c+=". ";let d="";return new vt(at.INVALID_ARGUMENT,c+s+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(sb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class QC extends rb{data(){return super.data()}}function sb(s,t){return typeof t=="string"?YC(s,t):t instanceof ib?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new vt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XC{convertValue(t,i="none"){switch(Ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Jl(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zd].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new _s(i)}convertGeoPoint(t){return new vs(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const i=bs(t);return new Le(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ye.fromString(t);ve(LE(a),9688,{name:t});const l=new Gl(a.get(1),a.get(3)),c=new St(a.popFirst(5));return l.isEqual(i)||Ar(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Nc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class co extends rb{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(sb("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=co._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:Ue("string",co._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Hc extends co{data(t={}){return super.data(t)}}class ho{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Nc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Nc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Nc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Nc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:$C(p.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ho._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $C(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:s})}}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:Ue("string",ho._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class ZC extends XC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ii(this.firestore,null,i)}}function JC(s){s=Xd(s,Eh);const t=Xd(s.firestore,nb),i=qC(t),a=new ZC(t);return KC(s._query),PC(i,s._query).then((l=>new ho(t,a,s,l)))}(function(t,i=!0){(function(l){Ao=l})(So),fo(new la("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new nb(new ZA(a.getProvider("auth-internal")),new t2(d,a.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new vt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(y.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ps(n_,i_,t),ps(n_,i_,"esm2020")})();const WC={apiKey:"AIzaSyAG5sAYJWlPxbPWBt4F4Hn5P9O-DJZzGOA",authDomain:"cs484-extension-493e5.firebaseapp.com",projectId:"cs484-extension-493e5",storageBucket:"cs484-extension-493e5.firebasestorage.app",messagingSenderId:"662713761153",appId:"1:662713761153:web:0ca3507aeaf377e776bc80"},ab=y0(WC),bh=FA(ab),tI=HC(ab),eI=new Er,nI=async()=>{try{return await tA(bh,eI)}catch(s){throw console.error("Error signing in with Google:",s),s}},ob=async()=>{try{await Vw(bh)}catch(s){throw console.error("Error signing out:",s),s}},iI=s=>Mw(bh,s);function rI({onNext:s,onChoose:t,extensionParams:i}){const[a,l]=le.useState(null),[c,d]=le.useState(!1),[p,v]=le.useState(null),[y,S]=le.useState(null),E=i&&i.extensionId,O=async(G,nt)=>new Promise((W,it)=>{const gt=lt=>{lt.source===window&&lt.data&&lt.data.type==="AUTH_FROM_EXTENSION"&&(window.removeEventListener("message",gt),lt.data.success?W(lt.data):it(new Error(lt.data.error||"Extension sync failed")))};window.addEventListener("message",gt),window.postMessage({type:"AUTH_TO_EXTENSION",user:{uid:G.uid,email:G.email,displayName:G.displayName,photoURL:G.photoURL},token:nt},window.location.origin),setTimeout(()=>{window.removeEventListener("message",gt),it(new Error("Extension sync timeout"))},1e4)}),q=async()=>{l("google"),d(!0),v(null),S(null);try{const G=await nI(),nt=G.user;if(E){const W=G._tokenResponse?.oauthIdToken;if(!W)throw new Error("No Google OAuth ID token found in sign-in result");try{await O(nt,W),S(" Successfully synced with extension!"),d(!1),t("google"),setTimeout(()=>s(),1e3)}catch(it){v(`Extension sync failed: ${it.message}. Continuing to dashboard...`),d(!1),setTimeout(()=>{t("google"),s()},2e3)}}else t("google"),setTimeout(()=>s(),400)}catch{v("Sign in failed. Please try again."),l(null),d(!1)}};return J.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:J.jsxs("div",{className:"max-w-4xl w-full space-y-20",children:[J.jsxs("div",{className:"text-center space-y-10 animate-fade-in-up",children:[J.jsx("h2",{className:"text-[15rem] font-serif text-white tracking-tight leading-[1.0] text-balance",children:"Sign In"}),J.jsxs("p",{className:"text-neutral-500 text-4xl font-light leading-relaxed",children:["Yes, we are forcing you to sign in.",J.jsx("br",{}),"Yes, we are sorry."]})]}),p&&J.jsx("div",{className:"text-center text-red-400 text-xl animate-fade-in-up",children:p}),y&&J.jsx("div",{className:"text-center text-green-400 text-xl animate-fade-in-up",children:y}),J.jsx("div",{className:"flex justify-center animate-fade-in-up",style:{animationDelay:"0.15s",opacity:0},children:J.jsxs("button",{onClick:q,disabled:c,className:`max-w-2xl w-full p-8 bg-white text-black rounded-2xl transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-white/10 flex items-center justify-center gap-6 group disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 ${a==="google"?"scale-[1.02] shadow-2xl shadow-white/10":""}`,children:[J.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",children:[J.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),J.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),J.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),J.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),J.jsx("span",{className:"text-2xl font-medium",children:c?"Signing in...":"Sign in with Google"})]})})]})})}function sI({onGetStarted:s,onBack:t}){return J.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:J.jsxs("div",{className:"max-w-7xl w-full text-center space-y-24",children:[J.jsxs("div",{className:"space-y-12 animate-fade-in-up",children:[J.jsx("h2",{className:"text-[12rem] font-serif text-white tracking-tight text-balance leading-[0.85]",children:"How To Use"}),J.jsx("p",{className:"text-4xl text-neutral-500 leading-relaxed max-w-3xl mx-auto text-pretty font-light",children:"Three simple steps to reclaim your reading time"})]}),J.jsxs("div",{className:"space-y-20 max-w-6xl mx-auto",children:[J.jsxs("div",{className:"flex items-center gap-12",children:[J.jsx("div",{className:"w-28 h-28 rounded-full bg-white text-black flex items-center justify-center font-bold text-5xl flex-shrink-0",children:"1"}),J.jsxs("div",{className:"flex-1 text-left",children:[J.jsx("p",{className:"text-neutral-300 text-4xl leading-tight",children:"Save links you want to read later with one click"}),J.jsx("div",{className:"mt-6 text-neutral-500 text-2xl",children:"[Image placeholder - browser extension saving a link]"})]})]}),J.jsxs("div",{className:"flex items-center gap-12",children:[J.jsx("div",{className:"w-28 h-28 rounded-full bg-white text-black flex items-center justify-center font-bold text-5xl flex-shrink-0",children:"2"}),J.jsxs("div",{className:"flex-1 text-left",children:[J.jsx("p",{className:"text-neutral-300 text-4xl leading-tight",children:"Get one random link at a time - no overwhelming lists"}),J.jsx("div",{className:"mt-6 text-neutral-500 text-2xl",children:"[Image placeholder - single link display]"})]})]}),J.jsxs("div",{className:"flex items-center gap-12",children:[J.jsx("div",{className:"w-28 h-28 rounded-full bg-white text-black flex items-center justify-center font-bold text-5xl flex-shrink-0",children:"3"}),J.jsxs("div",{className:"flex-1 text-left",children:[J.jsx("p",{className:"text-neutral-300 text-4xl leading-tight",children:"Read, skip, or delete - stay focused and productive"}),J.jsx("div",{className:"mt-6 text-neutral-500 text-2xl",children:"[Image placeholder - action buttons]"})]})]})]})]})})}async function aI(s){if(!s)return[];try{const t=jC(tI,"users",s,"links"),i=await JC(t),a=[];return i.forEach(l=>{a.push({id:l.id,url:l.data().url,title:l.data().title,timestamp:l.data().createdAt,createdAt:l.data().createdAt})}),a}catch(t){return console.error("Error loading links:",t),[]}}function lb(s){var t,i,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var l=s.length;for(t=0;t<l;t++)s[t]&&(i=lb(s[t]))&&(a&&(a+=" "),a+=i)}else for(i in s)s[i]&&(a&&(a+=" "),a+=i);return a}function oI(){for(var s,t,i=0,a="",l=arguments.length;i<l;i++)(s=arguments[i])&&(t=lb(s))&&(a&&(a+=" "),a+=t);return a}const lI=(s,t)=>{const i=new Array(s.length+t.length);for(let a=0;a<s.length;a++)i[a]=s[a];for(let a=0;a<t.length;a++)i[s.length+a]=t[a];return i},uI=(s,t)=>({classGroupId:s,validator:t}),ub=(s=new Map,t=null,i)=>({nextPart:s,validators:t,classGroupId:i}),rh="-",J_=[],cI="arbitrary..",hI=s=>{const t=dI(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:a}=s;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return fI(d);const p=d.split(rh),v=p[0]===""&&p.length>1?1:0;return cb(p,v,t)},getConflictingClassGroupIds:(d,p)=>{if(p){const v=a[d],y=i[d];return v?y?lI(y,v):v:y||J_}return i[d]||J_}}},cb=(s,t,i)=>{if(s.length-t===0)return i.classGroupId;const l=s[t],c=i.nextPart.get(l);if(c){const y=cb(s,t+1,c);if(y)return y}const d=i.validators;if(d===null)return;const p=t===0?s.join(rh):s.slice(t).join(rh),v=d.length;for(let y=0;y<v;y++){const S=d[y];if(S.validator(p))return S.classGroupId}},fI=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=s.slice(1,-1),i=t.indexOf(":"),a=t.slice(0,i);return a?cI+a:void 0})(),dI=s=>{const{theme:t,classGroups:i}=s;return mI(i,t)},mI=(s,t)=>{const i=ub();for(const a in s){const l=s[a];$m(l,i,a,t)}return i},$m=(s,t,i,a)=>{const l=s.length;for(let c=0;c<l;c++){const d=s[c];gI(d,t,i,a)}},gI=(s,t,i,a)=>{if(typeof s=="string"){pI(s,t,i);return}if(typeof s=="function"){yI(s,t,i,a);return}vI(s,t,i,a)},pI=(s,t,i)=>{const a=s===""?t:hb(t,s);a.classGroupId=i},yI=(s,t,i,a)=>{if(_I(s)){$m(s(a),t,i,a);return}t.validators===null&&(t.validators=[]),t.validators.push(uI(i,s))},vI=(s,t,i,a)=>{const l=Object.entries(s),c=l.length;for(let d=0;d<c;d++){const[p,v]=l[d];$m(v,hb(t,p),i,a)}},hb=(s,t)=>{let i=s;const a=t.split(rh),l=a.length;for(let c=0;c<l;c++){const d=a[c];let p=i.nextPart.get(d);p||(p=ub(),i.nextPart.set(d,p)),i=p}return i},_I=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,EI=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,i=Object.create(null),a=Object.create(null);const l=(c,d)=>{i[c]=d,t++,t>s&&(t=0,a=i,i=Object.create(null))};return{get(c){let d=i[c];if(d!==void 0)return d;if((d=a[c])!==void 0)return l(c,d),d},set(c,d){c in i?i[c]=d:l(c,d)}}},fm="!",W_=":",bI=[],t0=(s,t,i,a,l)=>({modifiers:s,hasImportantModifier:t,baseClassName:i,maybePostfixModifierPosition:a,isExternal:l}),TI=s=>{const{prefix:t,experimentalParseClassName:i}=s;let a=l=>{const c=[];let d=0,p=0,v=0,y;const S=l.length;for(let nt=0;nt<S;nt++){const W=l[nt];if(d===0&&p===0){if(W===W_){c.push(l.slice(v,nt)),v=nt+1;continue}if(W==="/"){y=nt;continue}}W==="["?d++:W==="]"?d--:W==="("?p++:W===")"&&p--}const E=c.length===0?l:l.slice(v);let O=E,q=!1;E.endsWith(fm)?(O=E.slice(0,-1),q=!0):E.startsWith(fm)&&(O=E.slice(1),q=!0);const G=y&&y>v?y-v:void 0;return t0(c,q,O,G)};if(t){const l=t+W_,c=a;a=d=>d.startsWith(l)?c(d.slice(l.length)):t0(bI,!1,d,void 0,!0)}if(i){const l=a;a=c=>i({className:c,parseClassName:l})}return a},SI=s=>{const t=new Map;return s.orderSensitiveModifiers.forEach((i,a)=>{t.set(i,1e6+a)}),i=>{const a=[];let l=[];for(let c=0;c<i.length;c++){const d=i[c],p=d[0]==="[",v=t.has(d);p||v?(l.length>0&&(l.sort(),a.push(...l),l=[]),a.push(d)):l.push(d)}return l.length>0&&(l.sort(),a.push(...l)),a}},wI=s=>({cache:EI(s.cacheSize),parseClassName:TI(s),sortModifiers:SI(s),...hI(s)}),AI=/\s+/,RI=(s,t)=>{const{parseClassName:i,getClassGroupId:a,getConflictingClassGroupIds:l,sortModifiers:c}=t,d=[],p=s.trim().split(AI);let v="";for(let y=p.length-1;y>=0;y-=1){const S=p[y],{isExternal:E,modifiers:O,hasImportantModifier:q,baseClassName:G,maybePostfixModifierPosition:nt}=i(S);if(E){v=S+(v.length>0?" "+v:v);continue}let W=!!nt,it=a(W?G.substring(0,nt):G);if(!it){if(!W){v=S+(v.length>0?" "+v:v);continue}if(it=a(G),!it){v=S+(v.length>0?" "+v:v);continue}W=!1}const gt=O.length===0?"":O.length===1?O[0]:c(O).join(":"),lt=q?gt+fm:gt,Tt=lt+it;if(d.indexOf(Tt)>-1)continue;d.push(Tt);const Vt=l(it,W);for(let _t=0;_t<Vt.length;++_t){const C=Vt[_t];d.push(lt+C)}v=S+(v.length>0?" "+v:v)}return v},CI=(...s)=>{let t=0,i,a,l="";for(;t<s.length;)(i=s[t++])&&(a=fb(i))&&(l&&(l+=" "),l+=a);return l},fb=s=>{if(typeof s=="string")return s;let t,i="";for(let a=0;a<s.length;a++)s[a]&&(t=fb(s[a]))&&(i&&(i+=" "),i+=t);return i},II=(s,...t)=>{let i,a,l,c;const d=v=>{const y=t.reduce((S,E)=>E(S),s());return i=wI(y),a=i.cache.get,l=i.cache.set,c=p,p(v)},p=v=>{const y=a(v);if(y)return y;const S=RI(v,i);return l(v,S),S};return c=d,(...v)=>c(CI(...v))},xI=[],Be=s=>{const t=i=>i[s]||xI;return t.isThemeGetter=!0,t},db=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,NI=/^\d+\/\d+$/,DI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,VI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wa=s=>NI.test(s),kt=s=>!!s&&!Number.isNaN(Number(s)),ls=s=>!!s&&Number.isInteger(Number(s)),Ld=s=>s.endsWith("%")&&kt(s.slice(0,-1)),_r=s=>DI.test(s),LI=()=>!0,UI=s=>OI.test(s)&&!MI.test(s),gb=()=>!1,zI=s=>VI.test(s),PI=s=>kI.test(s),BI=s=>!ht(s)&&!ft(s),jI=s=>Io(s,vb,gb),ht=s=>db.test(s),ta=s=>Io(s,_b,UI),Ud=s=>Io(s,YI,kt),e0=s=>Io(s,pb,gb),HI=s=>Io(s,yb,PI),Dc=s=>Io(s,Eb,zI),ft=s=>mb.test(s),Nl=s=>xo(s,_b),qI=s=>xo(s,QI),n0=s=>xo(s,pb),GI=s=>xo(s,vb),FI=s=>xo(s,yb),Oc=s=>xo(s,Eb,!0),Io=(s,t,i)=>{const a=db.exec(s);return a?a[1]?t(a[1]):i(a[2]):!1},xo=(s,t,i=!1)=>{const a=mb.exec(s);return a?a[1]?t(a[1]):i:!1},pb=s=>s==="position"||s==="percentage",yb=s=>s==="image"||s==="url",vb=s=>s==="length"||s==="size"||s==="bg-size",_b=s=>s==="length",YI=s=>s==="number",QI=s=>s==="family-name",Eb=s=>s==="shadow",KI=()=>{const s=Be("color"),t=Be("font"),i=Be("text"),a=Be("font-weight"),l=Be("tracking"),c=Be("leading"),d=Be("breakpoint"),p=Be("container"),v=Be("spacing"),y=Be("radius"),S=Be("shadow"),E=Be("inset-shadow"),O=Be("text-shadow"),q=Be("drop-shadow"),G=Be("blur"),nt=Be("perspective"),W=Be("aspect"),it=Be("ease"),gt=Be("animate"),lt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Tt=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Vt=()=>[...Tt(),ft,ht],_t=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],w=()=>[ft,ht,v],R=()=>[Wa,"full","auto",...w()],M=()=>[ls,"none","subgrid",ft,ht],N=()=>["auto",{span:["full",ls,ft,ht]},ls,ft,ht],V=()=>[ls,"auto",ft,ht],A=()=>["auto","min","max","fr",ft,ht],Yt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Kt=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...w()],et=()=>[Wa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],$=()=>[s,ft,ht],Rt=()=>[...Tt(),n0,e0,{position:[ft,ht]}],Ct=()=>["no-repeat",{repeat:["","x","y","space","round"]}],x=()=>["auto","cover","contain",GI,jI,{size:[ft,ht]}],Q=()=>[Ld,Nl,ta],F=()=>["","none","full",y,ft,ht],tt=()=>["",kt,Nl,ta],ot=()=>["solid","dashed","dotted","double"],pt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],mt=()=>[kt,Ld,n0,e0],wt=()=>["","none",G,ft,ht],zt=()=>["none",kt,ft,ht],Xe=()=>["none",kt,ft,ht],gn=()=>[kt,ft,ht],qe=()=>[Wa,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_r],breakpoint:[_r],color:[LI],container:[_r],"drop-shadow":[_r],ease:["in","out","in-out"],font:[BI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_r],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_r],shadow:[_r],spacing:["px",kt],text:[_r],"text-shadow":[_r],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wa,ht,ft,W]}],container:["container"],columns:[{columns:[kt,ht,ft,p]}],"break-after":[{"break-after":lt()}],"break-before":[{"break-before":lt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Vt()}],overflow:[{overflow:_t()}],"overflow-x":[{"overflow-x":_t()}],"overflow-y":[{"overflow-y":_t()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[ls,"auto",ft,ht]}],basis:[{basis:[Wa,"full","auto",p,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[kt,Wa,"auto","initial","none",ht]}],grow:[{grow:["",kt,ft,ht]}],shrink:[{shrink:["",kt,ft,ht]}],order:[{order:[ls,"first","last","none",ft,ht]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...Yt(),"normal"]}],"justify-items":[{"justify-items":[...Kt(),"normal"]}],"justify-self":[{"justify-self":["auto",...Kt()]}],"align-content":[{content:["normal",...Yt()]}],"align-items":[{items:[...Kt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Kt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Yt()}],"place-items":[{"place-items":[...Kt(),"baseline"]}],"place-self":[{"place-self":["auto",...Kt()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:et()}],w:[{w:[p,"screen",...et()]}],"min-w":[{"min-w":[p,"screen","none",...et()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[d]},...et()]}],h:[{h:["screen","lh",...et()]}],"min-h":[{"min-h":["screen","lh","none",...et()]}],"max-h":[{"max-h":["screen","lh",...et()]}],"font-size":[{text:["base",i,Nl,ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ft,Ud]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ld,ht]}],"font-family":[{font:[qI,ht,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,ft,ht]}],"line-clamp":[{"line-clamp":[kt,"none",ft,Ud]}],leading:[{leading:[c,...w()]}],"list-image":[{"list-image":["none",ft,ht]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ft,ht]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ot(),"wavy"]}],"text-decoration-thickness":[{decoration:[kt,"from-font","auto",ft,ta]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[kt,"auto",ft,ht]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft,ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft,ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Rt()}],"bg-repeat":[{bg:Ct()}],"bg-size":[{bg:x()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ls,ft,ht],radial:["",ft,ht],conic:[ls,ft,ht]},FI,HI]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:tt()}],"border-w-x":[{"border-x":tt()}],"border-w-y":[{"border-y":tt()}],"border-w-s":[{"border-s":tt()}],"border-w-e":[{"border-e":tt()}],"border-w-t":[{"border-t":tt()}],"border-w-r":[{"border-r":tt()}],"border-w-b":[{"border-b":tt()}],"border-w-l":[{"border-l":tt()}],"divide-x":[{"divide-x":tt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":tt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ot(),"hidden","none"]}],"divide-style":[{divide:[...ot(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ot(),"none","hidden"]}],"outline-offset":[{"outline-offset":[kt,ft,ht]}],"outline-w":[{outline:["",kt,Nl,ta]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",S,Oc,Dc]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",E,Oc,Dc]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:tt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[kt,ta]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":tt()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",O,Oc,Dc]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[kt,ft,ht]}],"mix-blend":[{"mix-blend":[...pt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[kt]}],"mask-image-linear-from-pos":[{"mask-linear-from":mt()}],"mask-image-linear-to-pos":[{"mask-linear-to":mt()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":mt()}],"mask-image-t-to-pos":[{"mask-t-to":mt()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":mt()}],"mask-image-r-to-pos":[{"mask-r-to":mt()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":mt()}],"mask-image-b-to-pos":[{"mask-b-to":mt()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":mt()}],"mask-image-l-to-pos":[{"mask-l-to":mt()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":mt()}],"mask-image-x-to-pos":[{"mask-x-to":mt()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":mt()}],"mask-image-y-to-pos":[{"mask-y-to":mt()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[ft,ht]}],"mask-image-radial-from-pos":[{"mask-radial-from":mt()}],"mask-image-radial-to-pos":[{"mask-radial-to":mt()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Tt()}],"mask-image-conic-pos":[{"mask-conic":[kt]}],"mask-image-conic-from-pos":[{"mask-conic-from":mt()}],"mask-image-conic-to-pos":[{"mask-conic-to":mt()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Rt()}],"mask-repeat":[{mask:Ct()}],"mask-size":[{mask:x()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ft,ht]}],filter:[{filter:["","none",ft,ht]}],blur:[{blur:wt()}],brightness:[{brightness:[kt,ft,ht]}],contrast:[{contrast:[kt,ft,ht]}],"drop-shadow":[{"drop-shadow":["","none",q,Oc,Dc]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",kt,ft,ht]}],"hue-rotate":[{"hue-rotate":[kt,ft,ht]}],invert:[{invert:["",kt,ft,ht]}],saturate:[{saturate:[kt,ft,ht]}],sepia:[{sepia:["",kt,ft,ht]}],"backdrop-filter":[{"backdrop-filter":["","none",ft,ht]}],"backdrop-blur":[{"backdrop-blur":wt()}],"backdrop-brightness":[{"backdrop-brightness":[kt,ft,ht]}],"backdrop-contrast":[{"backdrop-contrast":[kt,ft,ht]}],"backdrop-grayscale":[{"backdrop-grayscale":["",kt,ft,ht]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[kt,ft,ht]}],"backdrop-invert":[{"backdrop-invert":["",kt,ft,ht]}],"backdrop-opacity":[{"backdrop-opacity":[kt,ft,ht]}],"backdrop-saturate":[{"backdrop-saturate":[kt,ft,ht]}],"backdrop-sepia":[{"backdrop-sepia":["",kt,ft,ht]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ft,ht]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[kt,"initial",ft,ht]}],ease:[{ease:["linear","initial",it,ft,ht]}],delay:[{delay:[kt,ft,ht]}],animate:[{animate:["none",gt,ft,ht]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[nt,ft,ht]}],"perspective-origin":[{"perspective-origin":Vt()}],rotate:[{rotate:zt()}],"rotate-x":[{"rotate-x":zt()}],"rotate-y":[{"rotate-y":zt()}],"rotate-z":[{"rotate-z":zt()}],scale:[{scale:Xe()}],"scale-x":[{"scale-x":Xe()}],"scale-y":[{"scale-y":Xe()}],"scale-z":[{"scale-z":Xe()}],"scale-3d":["scale-3d"],skew:[{skew:gn()}],"skew-x":[{"skew-x":gn()}],"skew-y":[{"skew-y":gn()}],transform:[{transform:[ft,ht,"","none","gpu","cpu"]}],"transform-origin":[{origin:Vt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:qe()}],"translate-x":[{"translate-x":qe()}],"translate-y":[{"translate-y":qe()}],"translate-z":[{"translate-z":qe()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft,ht]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft,ht]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[kt,Nl,ta,Ud]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},XI=II(KI);function $I(...s){return XI(oI(s))}function ZI({className:s,...t}){return J.jsx("div",{"data-slot":"skeleton",className:$I("bg-accent animate-pulse rounded-md",s),...t})}var JI=a0();const WI=mm(JI);function tx(s){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t.appendChild(i),i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}const ex=s=>{switch(s){case"success":return rx;case"info":return ax;case"warning":return sx;case"error":return ox;default:return null}},nx=Array(12).fill(0),ix=({visible:s,className:t})=>st.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":s},st.createElement("div",{className:"sonner-spinner"},nx.map((i,a)=>st.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),rx=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sx=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ax=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ox=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lx=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},st.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),st.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ux=()=>{const[s,t]=st.useState(document.hidden);return st.useEffect(()=>{const i=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",i),()=>window.removeEventListener("visibilitychange",i)},[]),s};let dm=1;class cx{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const i=this.subscribers.indexOf(t);this.subscribers.splice(i,1)}),this.publish=t=>{this.subscribers.forEach(i=>i(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var i;const{message:a,...l}=t,c=typeof t?.id=="number"||((i=t.id)==null?void 0:i.length)>0?t.id:dm++,d=this.toasts.find(v=>v.id===c),p=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),d?this.toasts=this.toasts.map(v=>v.id===c?(this.publish({...v,...t,id:c,title:a}),{...v,...t,id:c,dismissible:p,title:a}):v):this.addToast({title:a,...l,dismissible:p,id:c}),c},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(i=>i({id:t,dismiss:!0})))):this.toasts.forEach(i=>{this.subscribers.forEach(a=>a({id:i.id,dismiss:!0}))}),t),this.message=(t,i)=>this.create({...i,message:t}),this.error=(t,i)=>this.create({...i,message:t,type:"error"}),this.success=(t,i)=>this.create({...i,type:"success",message:t}),this.info=(t,i)=>this.create({...i,type:"info",message:t}),this.warning=(t,i)=>this.create({...i,type:"warning",message:t}),this.loading=(t,i)=>this.create({...i,type:"loading",message:t}),this.promise=(t,i)=>{if(!i)return;let a;i.loading!==void 0&&(a=this.create({...i,promise:t,type:"loading",message:i.loading,description:typeof i.description!="function"?i.description:void 0}));const l=Promise.resolve(t instanceof Function?t():t);let c=a!==void 0,d;const p=l.then(async y=>{if(d=["resolve",y],st.isValidElement(y))c=!1,this.create({id:a,type:"default",message:y});else if(fx(y)&&!y.ok){c=!1;const E=typeof i.error=="function"?await i.error(`HTTP error! status: ${y.status}`):i.error,O=typeof i.description=="function"?await i.description(`HTTP error! status: ${y.status}`):i.description,G=typeof E=="object"&&!st.isValidElement(E)?E:{message:E};this.create({id:a,type:"error",description:O,...G})}else if(y instanceof Error){c=!1;const E=typeof i.error=="function"?await i.error(y):i.error,O=typeof i.description=="function"?await i.description(y):i.description,G=typeof E=="object"&&!st.isValidElement(E)?E:{message:E};this.create({id:a,type:"error",description:O,...G})}else if(i.success!==void 0){c=!1;const E=typeof i.success=="function"?await i.success(y):i.success,O=typeof i.description=="function"?await i.description(y):i.description,G=typeof E=="object"&&!st.isValidElement(E)?E:{message:E};this.create({id:a,type:"success",description:O,...G})}}).catch(async y=>{if(d=["reject",y],i.error!==void 0){c=!1;const S=typeof i.error=="function"?await i.error(y):i.error,E=typeof i.description=="function"?await i.description(y):i.description,q=typeof S=="object"&&!st.isValidElement(S)?S:{message:S};this.create({id:a,type:"error",description:E,...q})}}).finally(()=>{c&&(this.dismiss(a),a=void 0),i.finally==null||i.finally.call(i)}),v=()=>new Promise((y,S)=>p.then(()=>d[0]==="reject"?S(d[1]):y(d[1])).catch(S));return typeof a!="string"&&typeof a!="number"?{unwrap:v}:Object.assign(a,{unwrap:v})},this.custom=(t,i)=>{const a=i?.id||dm++;return this.create({jsx:t(a),id:a,...i}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xn=new cx,hx=(s,t)=>{const i=t?.id||dm++;return xn.addToast({title:s,...t,id:i}),i},fx=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",dx=hx,mx=()=>xn.toasts,gx=()=>xn.getActiveToasts(),zd=Object.assign(dx,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:mx,getToasts:gx});tx("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Mc(s){return s.label!==void 0}const px=3,yx="24px",vx="16px",i0=4e3,_x=356,Ex=14,bx=45,Tx=200;function Gi(...s){return s.filter(Boolean).join(" ")}function Sx(s){const[t,i]=s.split("-"),a=[];return t&&a.push(t),i&&a.push(i),a}const wx=s=>{var t,i,a,l,c,d,p,v,y;const{invert:S,toast:E,unstyled:O,interacting:q,setHeights:G,visibleToasts:nt,heights:W,index:it,toasts:gt,expanded:lt,removeToast:Tt,defaultRichColors:Vt,closeButton:_t,style:C,cancelButtonStyle:w,actionButtonStyle:R,className:M="",descriptionClassName:N="",duration:V,position:A,gap:Yt,expandByDefault:Kt,classNames:U,icons:et,closeButtonAriaLabel:$="Close toast"}=s,[Rt,Ct]=st.useState(null),[x,Q]=st.useState(null),[F,tt]=st.useState(!1),[ot,pt]=st.useState(!1),[mt,wt]=st.useState(!1),[zt,Xe]=st.useState(!1),[gn,qe]=st.useState(!1),[Ir,bn]=st.useState(0),[Rs,Ti]=st.useState(0),ri=st.useRef(E.duration||V||i0),xr=st.useRef(null),Wt=st.useRef(null),be=it===0,Si=it+1<=nt,$e=E.type,si=E.dismissible!==!1,Ze=E.className||"",Wi=E.descriptionClassName||"",wi=st.useMemo(()=>W.findIndex(Et=>Et.toastId===E.id)||0,[W,E.id]),Cs=st.useMemo(()=>{var Et;return(Et=E.closeButton)!=null?Et:_t},[E.closeButton,_t]),ai=st.useMemo(()=>E.duration||V||i0,[E.duration,V]),Is=st.useRef(0),oi=st.useRef(0),xs=st.useRef(0),li=st.useRef(null),[Dn,ze]=A.split("-"),pn=st.useMemo(()=>W.reduce((Et,te,Ce)=>Ce>=wi?Et:Et+te.height,0),[W,wi]),de=ux(),fa=E.invert||S,Ai=$e==="loading";oi.current=st.useMemo(()=>wi*Yt+pn,[wi,pn]),st.useEffect(()=>{ri.current=ai},[ai]),st.useEffect(()=>{tt(!0)},[]),st.useEffect(()=>{const Et=Wt.current;if(Et){const te=Et.getBoundingClientRect().height;return Ti(te),G(Ce=>[{toastId:E.id,height:te,position:E.position},...Ce]),()=>G(Ce=>Ce.filter(Ge=>Ge.toastId!==E.id))}},[G,E.id]),st.useLayoutEffect(()=>{if(!F)return;const Et=Wt.current,te=Et.style.height;Et.style.height="auto";const Ce=Et.getBoundingClientRect().height;Et.style.height=te,Ti(Ce),G(Ge=>Ge.find(ce=>ce.toastId===E.id)?Ge.map(ce=>ce.toastId===E.id?{...ce,height:Ce}:ce):[{toastId:E.id,height:Ce,position:E.position},...Ge])},[F,E.title,E.description,G,E.id,E.jsx,E.action,E.cancel]);const On=st.useCallback(()=>{pt(!0),bn(oi.current),G(Et=>Et.filter(te=>te.toastId!==E.id)),setTimeout(()=>{Tt(E)},Tx)},[E,Tt,G,oi]);st.useEffect(()=>{if(E.promise&&$e==="loading"||E.duration===1/0||E.type==="loading")return;let Et;return lt||q||de?(()=>{if(xs.current<Is.current){const Ge=new Date().getTime()-Is.current;ri.current=ri.current-Ge}xs.current=new Date().getTime()})():(()=>{ri.current!==1/0&&(Is.current=new Date().getTime(),Et=setTimeout(()=>{E.onAutoClose==null||E.onAutoClose.call(E,E),On()},ri.current))})(),()=>clearTimeout(Et)},[lt,q,E,$e,de,On]),st.useEffect(()=>{E.delete&&(On(),E.onDismiss==null||E.onDismiss.call(E,E))},[On,E.delete]);function qn(){var Et;if(et?.loading){var te;return st.createElement("div",{className:Gi(U?.loader,E==null||(te=E.classNames)==null?void 0:te.loader,"sonner-loader"),"data-visible":$e==="loading"},et.loading)}return st.createElement(ix,{className:Gi(U?.loader,E==null||(Et=E.classNames)==null?void 0:Et.loader),visible:$e==="loading"})}const tr=E.icon||et?.[$e]||ex($e);var pe,Mn;return st.createElement("li",{tabIndex:0,ref:Wt,className:Gi(M,Ze,U?.toast,E==null||(t=E.classNames)==null?void 0:t.toast,U?.default,U?.[$e],E==null||(i=E.classNames)==null?void 0:i[$e]),"data-sonner-toast":"","data-rich-colors":(pe=E.richColors)!=null?pe:Vt,"data-styled":!(E.jsx||E.unstyled||O),"data-mounted":F,"data-promise":!!E.promise,"data-swiped":gn,"data-removed":ot,"data-visible":Si,"data-y-position":Dn,"data-x-position":ze,"data-index":it,"data-front":be,"data-swiping":mt,"data-dismissible":si,"data-type":$e,"data-invert":fa,"data-swipe-out":zt,"data-swipe-direction":x,"data-expanded":!!(lt||Kt&&F),"data-testid":E.testId,style:{"--index":it,"--toasts-before":it,"--z-index":gt.length-it,"--offset":`${ot?Ir:oi.current}px`,"--initial-height":Kt?"auto":`${Rs}px`,...C,...E.style},onDragEnd:()=>{wt(!1),Ct(null),li.current=null},onPointerDown:Et=>{Et.button!==2&&(Ai||!si||(xr.current=new Date,bn(oi.current),Et.target.setPointerCapture(Et.pointerId),Et.target.tagName!=="BUTTON"&&(wt(!0),li.current={x:Et.clientX,y:Et.clientY})))},onPointerUp:()=>{var Et,te,Ce;if(zt||!si)return;li.current=null;const Ge=Number(((Et=Wt.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),yn=Number(((te=Wt.current)==null?void 0:te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ce=new Date().getTime()-((Ce=xr.current)==null?void 0:Ce.getTime()),un=Rt==="x"?Ge:yn,Gn=Math.abs(un)/ce;if(Math.abs(un)>=bx||Gn>.11){bn(oi.current),E.onDismiss==null||E.onDismiss.call(E,E),Q(Rt==="x"?Ge>0?"right":"left":yn>0?"down":"up"),On(),Xe(!0);return}else{var Je,We;(Je=Wt.current)==null||Je.style.setProperty("--swipe-amount-x","0px"),(We=Wt.current)==null||We.style.setProperty("--swipe-amount-y","0px")}qe(!1),wt(!1),Ct(null)},onPointerMove:Et=>{var te,Ce,Ge;if(!li.current||!si||((te=window.getSelection())==null?void 0:te.toString().length)>0)return;const ce=Et.clientY-li.current.y,un=Et.clientX-li.current.x;var Gn;const Je=(Gn=s.swipeDirections)!=null?Gn:Sx(A);!Rt&&(Math.abs(un)>1||Math.abs(ce)>1)&&Ct(Math.abs(un)>Math.abs(ce)?"x":"y");let We={x:0,y:0};const Ri=tn=>1/(1.5+Math.abs(tn)/20);if(Rt==="y"){if(Je.includes("top")||Je.includes("bottom"))if(Je.includes("top")&&ce<0||Je.includes("bottom")&&ce>0)We.y=ce;else{const tn=ce*Ri(ce);We.y=Math.abs(tn)<Math.abs(ce)?tn:ce}}else if(Rt==="x"&&(Je.includes("left")||Je.includes("right")))if(Je.includes("left")&&un<0||Je.includes("right")&&un>0)We.x=un;else{const tn=un*Ri(un);We.x=Math.abs(tn)<Math.abs(un)?tn:un}(Math.abs(We.x)>0||Math.abs(We.y)>0)&&qe(!0),(Ce=Wt.current)==null||Ce.style.setProperty("--swipe-amount-x",`${We.x}px`),(Ge=Wt.current)==null||Ge.style.setProperty("--swipe-amount-y",`${We.y}px`)}},Cs&&!E.jsx&&$e!=="loading"?st.createElement("button",{"aria-label":$,"data-disabled":Ai,"data-close-button":!0,onClick:Ai||!si?()=>{}:()=>{On(),E.onDismiss==null||E.onDismiss.call(E,E)},className:Gi(U?.closeButton,E==null||(a=E.classNames)==null?void 0:a.closeButton)},(Mn=et?.close)!=null?Mn:lx):null,($e||E.icon||E.promise)&&E.icon!==null&&(et?.[$e]!==null||E.icon)?st.createElement("div",{"data-icon":"",className:Gi(U?.icon,E==null||(l=E.classNames)==null?void 0:l.icon)},E.promise||E.type==="loading"&&!E.icon?E.icon||qn():null,E.type!=="loading"?tr:null):null,st.createElement("div",{"data-content":"",className:Gi(U?.content,E==null||(c=E.classNames)==null?void 0:c.content)},st.createElement("div",{"data-title":"",className:Gi(U?.title,E==null||(d=E.classNames)==null?void 0:d.title)},E.jsx?E.jsx:typeof E.title=="function"?E.title():E.title),E.description?st.createElement("div",{"data-description":"",className:Gi(N,Wi,U?.description,E==null||(p=E.classNames)==null?void 0:p.description)},typeof E.description=="function"?E.description():E.description):null),st.isValidElement(E.cancel)?E.cancel:E.cancel&&Mc(E.cancel)?st.createElement("button",{"data-button":!0,"data-cancel":!0,style:E.cancelButtonStyle||w,onClick:Et=>{Mc(E.cancel)&&si&&(E.cancel.onClick==null||E.cancel.onClick.call(E.cancel,Et),On())},className:Gi(U?.cancelButton,E==null||(v=E.classNames)==null?void 0:v.cancelButton)},E.cancel.label):null,st.isValidElement(E.action)?E.action:E.action&&Mc(E.action)?st.createElement("button",{"data-button":!0,"data-action":!0,style:E.actionButtonStyle||R,onClick:Et=>{Mc(E.action)&&(E.action.onClick==null||E.action.onClick.call(E.action,Et),!Et.defaultPrevented&&On())},className:Gi(U?.actionButton,E==null||(y=E.classNames)==null?void 0:y.actionButton)},E.action.label):null)};function r0(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function Ax(s,t){const i={};return[s,t].forEach((a,l)=>{const c=l===1,d=c?"--mobile-offset":"--offset",p=c?vx:yx;function v(y){["top","right","bottom","left"].forEach(S=>{i[`${d}-${S}`]=typeof y=="number"?`${y}px`:y})}typeof a=="number"||typeof a=="string"?v(a):typeof a=="object"?["top","right","bottom","left"].forEach(y=>{a[y]===void 0?i[`${d}-${y}`]=p:i[`${d}-${y}`]=typeof a[y]=="number"?`${a[y]}px`:a[y]}):v(p)}),i}const Rx=st.forwardRef(function(t,i){const{id:a,invert:l,position:c="bottom-right",hotkey:d=["altKey","KeyT"],expand:p,closeButton:v,className:y,offset:S,mobileOffset:E,theme:O="light",richColors:q,duration:G,style:nt,visibleToasts:W=px,toastOptions:it,dir:gt=r0(),gap:lt=Ex,icons:Tt,containerAriaLabel:Vt="Notifications"}=t,[_t,C]=st.useState([]),w=st.useMemo(()=>a?_t.filter(F=>F.toasterId===a):_t.filter(F=>!F.toasterId),[_t,a]),R=st.useMemo(()=>Array.from(new Set([c].concat(w.filter(F=>F.position).map(F=>F.position)))),[w,c]),[M,N]=st.useState([]),[V,A]=st.useState(!1),[Yt,Kt]=st.useState(!1),[U,et]=st.useState(O!=="system"?O:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=st.useRef(null),Rt=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ct=st.useRef(null),x=st.useRef(!1),Q=st.useCallback(F=>{C(tt=>{var ot;return(ot=tt.find(pt=>pt.id===F.id))!=null&&ot.delete||xn.dismiss(F.id),tt.filter(({id:pt})=>pt!==F.id)})},[]);return st.useEffect(()=>xn.subscribe(F=>{if(F.dismiss){requestAnimationFrame(()=>{C(tt=>tt.map(ot=>ot.id===F.id?{...ot,delete:!0}:ot))});return}setTimeout(()=>{WI.flushSync(()=>{C(tt=>{const ot=tt.findIndex(pt=>pt.id===F.id);return ot!==-1?[...tt.slice(0,ot),{...tt[ot],...F},...tt.slice(ot+1)]:[F,...tt]})})})}),[_t]),st.useEffect(()=>{if(O!=="system"){et(O);return}if(O==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?et("dark"):et("light")),typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:tt})=>{et(tt?"dark":"light")})}catch{F.addListener(({matches:ot})=>{try{et(ot?"dark":"light")}catch(pt){console.error(pt)}})}},[O]),st.useEffect(()=>{_t.length<=1&&A(!1)},[_t]),st.useEffect(()=>{const F=tt=>{var ot;if(d.every(wt=>tt[wt]||tt.code===wt)){var mt;A(!0),(mt=$.current)==null||mt.focus()}tt.code==="Escape"&&(document.activeElement===$.current||(ot=$.current)!=null&&ot.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[d]),st.useEffect(()=>{if($.current)return()=>{Ct.current&&(Ct.current.focus({preventScroll:!0}),Ct.current=null,x.current=!1)}},[$.current]),st.createElement("section",{ref:i,"aria-label":`${Vt} ${Rt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((F,tt)=>{var ot;const[pt,mt]=F.split("-");return w.length?st.createElement("ol",{key:F,dir:gt==="auto"?r0():gt,tabIndex:-1,ref:$,className:y,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":pt,"data-x-position":mt,style:{"--front-toast-height":`${((ot=M[0])==null?void 0:ot.height)||0}px`,"--width":`${_x}px`,"--gap":`${lt}px`,...nt,...Ax(S,E)},onBlur:wt=>{x.current&&!wt.currentTarget.contains(wt.relatedTarget)&&(x.current=!1,Ct.current&&(Ct.current.focus({preventScroll:!0}),Ct.current=null))},onFocus:wt=>{wt.target instanceof HTMLElement&&wt.target.dataset.dismissible==="false"||x.current||(x.current=!0,Ct.current=wt.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{Yt||A(!1)},onDragEnd:()=>A(!1),onPointerDown:wt=>{wt.target instanceof HTMLElement&&wt.target.dataset.dismissible==="false"||Kt(!0)},onPointerUp:()=>Kt(!1)},w.filter(wt=>!wt.position&&tt===0||wt.position===F).map((wt,zt)=>{var Xe,gn;return st.createElement(wx,{key:wt.id,icons:Tt,index:zt,toast:wt,defaultRichColors:q,duration:(Xe=it?.duration)!=null?Xe:G,className:it?.className,descriptionClassName:it?.descriptionClassName,invert:l,visibleToasts:W,closeButton:(gn=it?.closeButton)!=null?gn:v,interacting:Yt,position:F,style:it?.style,unstyled:it?.unstyled,classNames:it?.classNames,cancelButtonStyle:it?.cancelButtonStyle,actionButtonStyle:it?.actionButtonStyle,closeButtonAriaLabel:it?.closeButtonAriaLabel,removeToast:Q,toasts:w.filter(qe=>qe.position==wt.position),heights:M.filter(qe=>qe.position==wt.position),setHeights:N,expandByDefault:p,gap:lt,expanded:V,swipeDirections:t.swipeDirections})})):null}))});function Cx({user:s}){const[t,i]=le.useState([]),[a,l]=le.useState(!0),[c,d]=le.useState("");le.useEffect(()=>{if(!s)return;async function G(){try{const nt=await aI(s.uid);i(nt)}catch(nt){console.error("Error fetching links:",nt),zd.error("Failed to load links")}finally{l(!1)}}G()},[s]);const p=async()=>{try{await ob(),window.location.reload()}catch{}},v=async G=>{i(nt=>nt.filter(W=>W.id!==G)),zd.success("Link deleted")},y=(G,nt)=>{window.open(G,"_blank"),v(nt)},S=G=>{navigator.clipboard.writeText(G),zd.success("Link copied to clipboard")},E=G=>{try{return new URL(G).hostname.replace("www.","")}catch{return"Unknown"}},O=G=>{const W=Date.now()-G,it=Math.floor(W/1e3),gt=Math.floor(it/60),lt=Math.floor(gt/60),Tt=Math.floor(lt/24),Vt=Math.floor(Tt/7),_t=Math.floor(Tt/30),C=Math.floor(Tt/365);return C>0?`${C}y ago`:_t>0?`${_t}mo ago`:Vt>0?`${Vt}w ago`:Tt>0?`${Tt}d ago`:lt>0?`${lt}h ago`:gt>0?`${gt}m ago`:"Just now"},q=t.filter(G=>{const nt=c.toLowerCase();return G.title.toLowerCase().includes(nt)||G.url.toLowerCase().includes(nt)});return J.jsx("div",{className:"min-h-screen bg-black p-6 md:p-8",children:J.jsxs("div",{className:"max-w-7xl mx-auto",children:[s&&J.jsxs("div",{className:"flex items-center justify-between mb-8",children:[J.jsxs("div",{className:"flex items-center gap-3",children:[J.jsx("img",{src:s.photoURL||"https://via.placeholder.com/48",alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-neutral-800"}),J.jsxs("div",{children:[J.jsx("p",{className:"text-white font-medium",children:s.displayName||"User"}),J.jsx("p",{className:"text-neutral-400 text-sm",children:s.email})]})]}),J.jsx("button",{onClick:p,className:"px-5 py-2.5 bg-neutral-900 hover:bg-neutral-800 text-white rounded-lg transition-colors font-medium border border-neutral-800",children:"Sign Out"})]}),J.jsxs("div",{className:"mb-8",children:[J.jsx("h1",{className:"text-6xl font-serif text-white mb-2",children:"Saved Links"}),J.jsx("p",{className:"text-neutral-500 text-lg",children:"Manage your saved links from the extension"})]}),J.jsx("div",{className:"mb-6",children:J.jsx("input",{type:"text",placeholder:"Search links...",value:c,onChange:G=>d(G.target.value),className:"w-full px-6 py-4 bg-neutral-900 text-white rounded-xl border border-neutral-800 focus:outline-none focus:ring-2 focus:ring-neutral-700 placeholder-neutral-500"})}),J.jsx("div",{className:"flex items-center justify-between mb-4",children:J.jsxs("p",{className:"text-neutral-400 text-sm",children:[q.length," link",q.length!==1?"s":""]})}),a?J.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((G,nt)=>J.jsx(ZI,{className:"h-40 w-full rounded-xl"},nt))}):q.length===0?J.jsx("div",{className:"text-center py-16",children:J.jsx("p",{className:"text-neutral-500 text-lg",children:c?"No links match your search":"No links saved yet. Start saving from the extension!"})}):J.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map(G=>J.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-5 hover:bg-neutral-800 transition-colors",children:[J.jsxs("div",{className:"mb-4",children:[J.jsx("h3",{className:"text-white font-bold text-lg mb-2 line-clamp-2",children:G.title}),J.jsx("p",{className:"text-neutral-400 text-sm mb-1",children:E(G.url)}),J.jsx("p",{className:"text-neutral-500 text-xs",children:O(G.createdAt)})]}),J.jsxs("div",{className:"flex gap-2",children:[J.jsx("button",{onClick:()=>S(G.url),className:"flex-1 px-3 py-2 bg-neutral-800 hover:bg-neutral-700 text-white rounded-lg transition-colors text-sm font-medium border border-neutral-700",children:"Copy"}),J.jsx("button",{onClick:()=>y(G.url,G.id),className:"flex-1 px-3 py-2 bg-neutral-800 hover:bg-neutral-700 text-white rounded-lg transition-colors text-sm font-medium border border-neutral-700",children:"Open"}),J.jsx("button",{onClick:()=>v(G.id),className:"flex-1 px-3 py-2 bg-red-900/30 hover:bg-red-900/50 text-red-400 rounded-lg transition-colors text-sm font-medium border border-red-900/50",children:"Delete"})]})]},G.id))})]})})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),s0=s=>{const t=xx(s);return t.charAt(0).toUpperCase()+t.slice(1)},bb=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Nx=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=le.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},v)=>le.createElement("svg",{ref:v,...Dx,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:bb("lucide",l),...!c&&!Nx(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,S])=>le.createElement(y,S)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=(s,t)=>{const i=le.forwardRef(({className:a,...l},c)=>le.createElement(Ox,{ref:c,iconNode:t,className:bb(`lucide-${Ix(s0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=s0(s),i};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vx=nu("circle-check",Mx);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Lx=nu("info",kx);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zx=nu("loader-circle",Ux);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bx=nu("octagon-x",Px);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hx=nu("triangle-alert",jx);var qx=(s,t,i,a,l,c,d,p)=>{let v=document.documentElement,y=["light","dark"];function S(q){(Array.isArray(s)?s:[s]).forEach(G=>{let nt=G==="class",W=nt&&c?l.map(it=>c[it]||it):l;nt?(v.classList.remove(...W),v.classList.add(c&&c[q]?c[q]:q)):v.setAttribute(G,q)}),E(q)}function E(q){p&&y.includes(q)&&(v.style.colorScheme=q)}function O(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)S(a);else try{let q=localStorage.getItem(t)||i,G=d&&q==="system"?O():q;S(G)}catch{}},Gx=le.createContext(void 0),Fx={setTheme:s=>{},themes:[]},Yx=()=>{var s;return(s=le.useContext(Gx))!=null?s:Fx};le.memo(({forcedTheme:s,storageKey:t,attribute:i,enableSystem:a,enableColorScheme:l,defaultTheme:c,value:d,themes:p,nonce:v,scriptProps:y})=>{let S=JSON.stringify([i,t,c,s,p,d,a,l]).slice(1,-1);return le.createElement("script",{...y,suppressHydrationWarning:!0,nonce:typeof window>"u"?v:"",dangerouslySetInnerHTML:{__html:`(${qx.toString()})(${S})`}})});const Qx=({...s})=>{const{theme:t="system"}=Yx();return J.jsx(Rx,{theme:t,className:"toaster group",icons:{success:J.jsx(Vx,{className:"size-4"}),info:J.jsx(Lx,{className:"size-4"}),warning:J.jsx(Hx,{className:"size-4"}),error:J.jsx(Bx,{className:"size-4"}),loading:J.jsx(zx,{className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},...s})};function Kx(){const[s,t]=le.useState(0),[i,a]=le.useState(null),[l,c]=le.useState(!1),[d,p]=le.useState(!1),[v,y]=le.useState(null),[S,E]=le.useState(null),[O,q]=le.useState(!1);le.useEffect(()=>{const it=iI(gt=>{E(gt),q(!0);const Tt=new URLSearchParams(window.location.search).get("reauth")==="true";gt&&!Tt&&(a("google"),t(3))});return()=>it()},[]),le.useEffect(()=>{const it=new URLSearchParams(window.location.search),gt=it.get("source"),lt=it.get("extensionId"),Tt=it.get("reauth");gt==="extension"&&lt&&(y({extensionId:lt}),Tt==="true"&&(bh.currentUser?ob().then(()=>{t(2)}):t(2)))},[]);const G=[J.jsx(l1,{onNext:()=>t(1)},"welcome"),J.jsx(sI,{onGetStarted:()=>t(2),onBack:()=>t(0)},"intro"),J.jsx(rI,{onNext:()=>t(3),onChoose:it=>a(it),extensionParams:v},"storage"),J.jsx(Cx,{storageChoice:i,user:S},"dashboard")],nt=()=>{s>0&&s<3&&t(s-1)},W=()=>{s<2&&t(s+1)};return J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"min-h-screen dot-grid-bg relative",children:[s>0&&s<3&&J.jsx("button",{onClick:nt,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:"fixed left-0 top-0 h-full w-1/3 z-40 cursor-pointer","aria-label":"Go back"}),s<2&&J.jsx("button",{onClick:W,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),className:"fixed right-0 top-0 h-full w-1/3 z-40 cursor-pointer","aria-label":"Go forward"}),s>0&&s<3&&J.jsxs("button",{onClick:()=>t(s-1),className:`fixed left-8 top-1/2 -translate-y-1/2 z-50 transition-all duration-500 pointer-events-none ${l?"text-white scale-110":"text-neutral-500"}`,children:[J.jsx("svg",{className:"h-12 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),J.jsx("span",{className:"sr-only",children:"Back"})]}),s<2&&J.jsxs("button",{onClick:()=>t(s+1),className:`fixed right-8 top-1/2 -translate-y-1/2 z-50 transition-all duration-500 pointer-events-none ${d?"text-white scale-110":"text-neutral-500"}`,children:[J.jsx("svg",{className:"h-12 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),J.jsx("span",{className:"sr-only",children:"Next"})]}),G[s],s<3&&J.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:[0,1,2].map(it=>J.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ease-out ${it===s?"bg-white w-8":"bg-neutral-700 w-1.5"}`},it))})]}),J.jsx(Qx,{})]})}class Xx extends le.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,i){console.error("Error caught by boundary:",t,i),this.setState({error:t,errorInfo:i})}render(){return this.state.hasError?J.jsx("div",{className:"min-h-screen dot-grid-bg flex items-center justify-center p-8",children:J.jsxs("div",{className:"max-w-md w-full space-y-6 text-center",children:[J.jsx("div",{className:"text-6xl",children:""}),J.jsx("h1",{className:"text-4xl font-serif text-white",children:"Something went wrong"}),J.jsx("p",{className:"text-neutral-400 text-lg",children:"The app encountered an unexpected error. Please refresh the page to try again."}),J.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-white text-black rounded-lg hover:bg-neutral-200 transition-colors",children:"Refresh Page"}),!1]})}):this.props.children}}o1.createRoot(document.getElementById("root")).render(J.jsx(Xx,{children:J.jsx(Kx,{})}));
